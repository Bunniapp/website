(self.webpackChunktimeless_frontend=self.webpackChunktimeless_frontend||[]).push([[3213],{43213:(kt,k,B)=>{"use strict";B.r(k),B.d(k,{default:()=>Zn});var z={};B.r(z),B.d(z,{decrypt:()=>Wn,encrypt:()=>Pn,generateKey:()=>yr,verifyHmac:()=>_r});var E=B(34553),_=B(78359),I=B(37167),At=function(n,s,p){this.name=n,this.version=s,this.os=p,this.type="browser"},Ot=function(n){this.version=n,this.type="node",this.name="node",this.os=process.platform},Z=function(n,s,p,m){this.name=n,this.version=s,this.os=p,this.bot=m,this.type="bot-device"},It=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Nt=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},Et=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Ut=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],xt=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function w(r){var n=function(r){return""!==r&&Ut.reduce(function(n,s){var p=s[0];if(n)return n;var M=s[1].exec(r);return!!M&&[p,M]},!1)}(r);if(!n)return null;var s=n[0],p=n[1];if("searchbot"===s)return new It;var m=p[1]&&p[1].split(/[._]/).slice(0,3);m?m.length<3&&(m=function(){for(var r=0,n=0,s=arguments.length;n<s;n++)r+=arguments[n].length;var p=Array(r),m=0;for(n=0;n<s;n++)for(var M=arguments[n],N=0,pt=M.length;N<pt;N++,m++)p[m]=M[N];return p}(m,function(r){for(var n=[],s=0;s<r;s++)n.push("0");return n}(3-m.length))):m=[];var M=m.join("."),N=function(r){for(var n=0,s=xt.length;n<s;n++){var p=xt[n],m=p[0];if(p[1].exec(r))return m}return null}(r),pt=Et.exec(r);return pt&&pt[1]?new Z(s,M,N,pt[1]):new At(s,M,N)}function St(r){return function(r){return r?w(r):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new Nt:"undefined"!=typeof navigator?w(navigator.userAgent):"undefined"!=typeof process&&process.version?new Ot(process.version.slice(1)):null}(r)}function j(){const r=St();return r&&r.os?r.os:void 0}const e=I.getNavigator,S=I.getLocation,L=I.getLocalStorage;function q(){return _.D()}function Y(r){let n=null,s=null;const p=L();return p&&(s=p.getItem(r)),n=s&&function(r){if("string"!=typeof r)throw new Error("Cannot safe json parse value of type "+typeof r);try{return JSON.parse(r)}catch{return r}}(s),n}function zt(r){const n=L();n&&n.removeItem(r)}const K="WALLETCONNECT_DEEPLINK_CHOICE",le=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],X=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"];var it=B(87760),st=B.n(it),ot=(B(16658),B(15343)),at=B.n(ot);const J="utf8",D="0";function P(r){return new Uint8Array(r)}function Yt(r,n=!1){const s=r.toString("hex");return n?Vt(s):s}function F(r){return at()(r)}function W(r,n=!1){return Yt(F(r),n)}function Xt(r){return function(r){return r.toString(J)}(F(r))}function U(r){return P(function(r){return Buffer.from(Ht(r),"hex")}(r))}function Q(r){return Buffer.from(r,J)}function ee(r){return P(Q(r))}function Kt(...r){let n=[];return r.forEach(s=>n=n.concat(Array.from(s))),new Uint8Array([...n])}function Ne(r,n=8,s=D){return function(r,n,s=D){return function(r,n,s,p=D){const m=n-r.length;let M=r;if(m>0){const N=p.repeat(m);M=s?N+r:r+N}return M}(r,n,!0,s)}(r,function(r,n=8){const s=r%n;return s?(r-s)/n*n+n:r}(r.length,n),s)}function Ht(r){return r.replace(/^0x/,"")}function Vt(r){return r.startsWith("0x")?r:`0x${r}`}function ir(r){return(r=Ne(r=Ht(r),2))&&(r=Vt(r)),r}function Be(r){return F(new Uint8Array(r))}function kr(r){return P(r).buffer}function or(r,n){const s=Ht(ir(new(st())(r).toString(16)));return n?s:Vt(s)}var Nr=B(37109);function be(r){return ir(r)}const Cr=B(22339).payloadId;function Le(){return((n,s)=>{for(s=n="";n++<36;s+=51*n&52?(15^n?8^Math.random()*(20^n?16:4):4).toString(16):"-");return s})()}function ar(r,n){return function(r,n){return!("string"!=typeof r||!r.match(/^0x[0-9A-Fa-f]*$/)||n&&r.length!==2+2*n)}(r,n)}function ae(r){return void 0!==r.result}function Se(r){return void 0!==r.error}function hr(r){return void 0!==r.event}function fr(r){return!function(r){return!(r&&r.length)}(r)&&!ar(r[0])&&(r[0]=function(r,n){return function(r,n=!1){return Yt(Q(r),n)}(r,!n)}(r[0])),r}function Ce(r){if(void 0!==r.type&&"0"!==r.type)return r;if(void 0===r.from||!(r=>!(!r||"0x"!==r.toLowerCase().substring(0,2)||!/^(0x)?[0-9a-f]{40}$/i.test(r)||!/^(0x)?[0-9a-f]{40}$/.test(r)&&!/^(0x)?[0-9A-F]{40}$/.test(r)&&r!==function(r){r=Ht(r.toLowerCase());const n=Ht((0,Nr.keccak_256)(function(r){return Q(r)}(r)));let s="";for(let p=0;p<r.length;p++)parseInt(n[p],16)>7?s+=r[p].toUpperCase():s+=r[p];return Vt(s)}(r)))(r.from))throw new Error("Transaction object must include a valid 'from' value.");function n(m){let M=m;return("number"==typeof m||"string"==typeof m&&!function(r){return""===r||"string"==typeof r&&""===r.trim()}(m))&&(ar(m)?"string"==typeof m&&(M=be(m)):M=or(m)),"string"==typeof M&&(M=function(r){return function(r){const n=r.startsWith("0x");return r=(r=Ht(r)).startsWith(D)?r.substring(1):r,n?Vt(r):r}(Vt(r))}(M)),M}const s={from:be(r.from),to:void 0===r.to?void 0:be(r.to),gasPrice:void 0===r.gasPrice?"":n(r.gasPrice),gas:void 0===r.gas?void 0===r.gasLimit?"":n(r.gasLimit):n(r.gas),value:void 0===r.value?"":n(r.value),nonce:void 0===r.nonce?"":n(r.nonce),data:void 0===r.data?"":be(r.data)||"0x"},p=["gasPrice","gas","value","nonce"];return Object.keys(s).forEach(m=>{(void 0===s[m]||"string"==typeof s[m]&&!s[m].trim().length)&&p.includes(m)&&delete s[m]}),s}var ur=B(45703);function cr(r){return ur.parse(r)}const Yr=void 0!==global.WebSocket?global.WebSocket:B(80748),qe="Session currently connected",Ft="Session currently disconnected",lr="JSON RPC response format is invalid",dr="User close QRCode Modal",pr="abcdefghijklmnopqrstuvwxyz0123456789".split("").map(r=>`https://${r}.bridge.walletconnect.org`);var he=B(38572);function Tn(r){return he.getBrowerCrypto().getRandomValues(new Uint8Array(r))}const Pt="AES-CBC",He="HMAC";function An(r){return r===Pt?{length:256,name:Pt}:{hash:{name:"SHA-256"},name:He}}function Nn(r){return r===Pt?["encrypt","decrypt"]:["sign","verify"]}function xe(r){return We.apply(this,arguments)}function We(){return(We=(0,E.Z)(function*(r,n=Pt){return he.getSubtleCrypto().importKey("raw",r,An(n),!0,Nn(n))})).apply(this,arguments)}function Fe(){return(Fe=(0,E.Z)(function*(r,n,s){const p=he.getSubtleCrypto(),m=yield xe(n,Pt),M=yield p.encrypt({iv:r,name:Pt},m,s);return new Uint8Array(M)})).apply(this,arguments)}function Ze(){return(Ze=(0,E.Z)(function*(r,n,s){const p=he.getSubtleCrypto(),m=yield xe(n,Pt),M=yield p.decrypt({iv:r,name:Pt},m,s);return new Uint8Array(M)})).apply(this,arguments)}function Cn(r,n){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,E.Z)(function*(r,n){const s=he.getSubtleCrypto(),p=yield xe(r,He),m=yield s.sign({length:256,name:He},p,n);return new Uint8Array(m)})).apply(this,arguments)}function qn(r,n,s){return function(r,n,s){return Fe.apply(this,arguments)}(r,n,s)}function Un(r,n,s){return function(r,n,s){return Ze.apply(this,arguments)}(r,n,s)}function vr(r,n){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,E.Z)(function*(r,n){return yield Cn(r,n)})).apply(this,arguments)}function yr(r){return tr.apply(this,arguments)}function tr(){return(tr=(0,E.Z)(function*(r){return kr(F(Tn((r||256)/8)))})).apply(this,arguments)}function _r(r,n){return er.apply(this,arguments)}function er(){return(er=(0,E.Z)(function*(r,n){const s=U(r.data),p=U(r.iv),M=W(U(r.hmac),!1),N=Kt(s,p),Rt=W(yield vr(n,N),!1);return Ht(M)===Ht(Rt)})).apply(this,arguments)}function Pn(r,n,s){return rr.apply(this,arguments)}function rr(){return(rr=(0,E.Z)(function*(r,n,s){const p=P(Be(n)),M=P(Be(s||(yield yr(128)))),N=W(M,!1),Rt=ee(JSON.stringify(r)),Zt=yield qn(M,p,Rt),wr=W(Zt,!1),fe=Kt(Zt,M);return{data:wr,hmac:W(yield vr(p,fe),!1),iv:N}})).apply(this,arguments)}function Wn(r,n){return nr.apply(this,arguments)}function nr(){return(nr=(0,E.Z)(function*(r,n){const s=P(Be(n));if(!s)throw new Error("Missing key: required for decryption");if(!(yield _r(r,s)))return null;const m=U(r.data),M=U(r.iv),pt=Xt(yield Un(M,s,m));let Rt;try{Rt=JSON.parse(pt)}catch{return null}return Rt})).apply(this,arguments)}const Zn=class extends class{constructor(n){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new class{constructor(){this._eventEmitters=[]}subscribe(n){this._eventEmitters.push(n)}unsubscribe(n){this._eventEmitters=this._eventEmitters.filter(s=>s.event!==n)}trigger(n){let p,s=[];var r;p=void 0!==n.method?n.method:ae(n)||Se(n)?`response:${n.id}`:hr(n)?n.event:"",p&&(s=this._eventEmitters.filter(m=>m.event===p)),(!s||!s.length)&&!(le.includes(r=p)||r.startsWith("wc_"))&&!hr(p)&&(s=this._eventEmitters.filter(m=>"call_request"===m.event)),s.forEach(m=>{if(Se(n)){const M=new Error(n.error.message);m.callback(M,null)}else m.callback(null,n)})}},this._clientMeta=q()||n.connectorOpts.clientMeta||null,this._cryptoLib=n.cryptoLib,this._sessionStorage=n.sessionStorage||new class{constructor(n="walletconnect"){this.storageId=n}getSession(){let n=null;const s=Y(this.storageId);return s&&void 0!==s.bridge&&(n=s),n}setSession(n){return function(r,n){const s=function(r){return"string"==typeof r?r:JSON.stringify(r)}(n),p=L();p&&p.setItem(r,s)}(this.storageId,n),n}removeSession(){zt(this.storageId)}}(n.connectorOpts.storageId),this._qrcodeModal=n.connectorOpts.qrcodeModal,this._qrcodeModalOptions=n.connectorOpts.qrcodeModalOptions,this._signingMethods=[...X,...n.connectorOpts.signingMethods||[]],!n.connectorOpts.bridge&&!n.connectorOpts.uri&&!n.connectorOpts.session)throw new Error("Missing one of the required parameters: bridge / uri / session");var r;n.connectorOpts.bridge&&(this.bridge=function(r){return"walletconnect.org"===function(r){return function(r){let n=r.indexOf("//")>-1?r.split("/")[2]:r.split("/")[0];return n=n.split(":")[0],n=n.split("?")[0],n}(r).split(".").slice(-2).join(".")}(r)}(r=n.connectorOpts.bridge)?pr[Math.floor(Math.random()*pr.length)]:r),n.connectorOpts.uri&&(this.uri=n.connectorOpts.uri);const s=n.connectorOpts.session||this._getStorageSession();s&&(this.session=s),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=n.transport||new class{constructor(n){if(this.opts=n,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=n.protocol,this._version=n.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=n.subscriptions||[],this._netMonitor=n.netMonitor||new class{constructor(){this._eventEmitters=[],"undefined"!=typeof window&&void 0!==window.addEventListener&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(n,s){this._eventEmitters.push({event:n,callback:s})}trigger(n){let s=[];n&&(s=this._eventEmitters.filter(p=>p.event===n)),s.forEach(p=>{p.callback()})}},!n.url||"string"!=typeof n.url)throw new Error("Missing or invalid WebSocket url");this._url=n.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(n){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(n){}get connecting(){return 0===this.readyState}set connected(n){}get connected(){return 1===this.readyState}set closing(n){}get closing(){return 2===this.readyState}set closed(n){}get closed(){return 3===this.readyState}open(){this._socketCreate()}close(){this._socketClose()}send(n,s,p){if(!s||"string"!=typeof s)throw new Error("Missing or invalid topic field");this._socketSend({topic:s,type:"pub",payload:n,silent:!!p})}subscribe(n){this._socketSend({topic:n,type:"sub",payload:"",silent:!0})}on(n,s){this._events.push({event:n,callback:s})}_socketCreate(){if(this._nextSocket)return;const n=function(r,n,s){var p,m;const N=(r.startsWith("https")?r.replace("https","wss"):r.startsWith("http")?r.replace("http","ws"):r).split("?"),pt=!function(){const r=St();return!(!r||!r.name)&&"node"===r.name.toLowerCase()}()&&e()?{protocol:n,version:s,env:"browser",host:(null===(p=S())||void 0===p?void 0:p.host)||""}:{protocol:n,version:s,env:(null===(m=St())||void 0===m?void 0:m.name)||""},Rt=function(r,n){let s=cr(r);return s=Object.assign(Object.assign({},s),n),function(r){return ur.stringify(r)}(s)}(function(r){const n=-1!==r.indexOf("?")?r.indexOf("?"):void 0;return void 0!==n?r.substr(n):""}(N[1]||""),pt);return N[0]+"?"+Rt}(this._url,this._protocol,this._version);if(this._nextSocket=new Yr(n),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=s=>this._socketReceive(s),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=s=>this._socketError(s),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(n){const s=JSON.stringify(n);this._socket&&1===this._socket.readyState?this._socket.send(s):(this._setToQueue(n),this._socketCreate())}_socketReceive(n){var s=this;return(0,E.Z)(function*(){let p;try{p=JSON.parse(n.data)}catch{return}if(s._socketSend({topic:p.topic,type:"ack",payload:"",silent:!0}),s._socket&&1===s._socket.readyState){const m=s._events.filter(M=>"message"===M.event);m&&m.length&&m.forEach(M=>M.callback(p))}})()}_socketError(n){const s=this._events.filter(p=>"error"===p.event);s&&s.length&&s.forEach(p=>p.callback(n))}_queueSubscriptions(){this._subscriptions.forEach(s=>this._queue.push({topic:s,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(n){this._queue.push(n)}_pushQueue(){this._queue.forEach(s=>this._socketSend(s)),this._queue=[]}}({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),n.connectorOpts.uri&&this._subscribeToSessionRequest(),n.pushServerOpts&&this._registerPushServer(n.pushServerOpts)}set bridge(n){!n||(this._bridge=n)}get bridge(){return this._bridge}set key(n){if(!n)return;const s=U(n).buffer;this._key=s}get key(){return this._key?(!0,W(new Uint8Array(this._key),!1)):""}set clientId(n){!n||(this._clientId=n)}get clientId(){let n=this._clientId;return n||(n=this._clientId=Le()),this._clientId}set peerId(n){!n||(this._peerId=n)}get peerId(){return this._peerId}set clientMeta(n){}get clientMeta(){let n=this._clientMeta;return n||(n=this._clientMeta=q()),n}set peerMeta(n){this._peerMeta=n}get peerMeta(){return this._peerMeta}set handshakeTopic(n){!n||(this._handshakeTopic=n)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(n){!n||(this._handshakeId=n)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(n){if(!n)return;const{handshakeTopic:s,bridge:p,key:m}=this._parseUri(n);this.handshakeTopic=s,this.bridge=p,this.key=m}set chainId(n){this._chainId=n}get chainId(){return this._chainId}set networkId(n){this._networkId=n}get networkId(){return this._networkId}set accounts(n){this._accounts=n}get accounts(){return this._accounts}set rpcUrl(n){this._rpcUrl=n}get rpcUrl(){return this._rpcUrl}set connected(n){}get connected(){return this._connected}set pending(n){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(n){!n||(this._connected=n.connected,this.accounts=n.accounts,this.chainId=n.chainId,this.bridge=n.bridge,this.key=n.key,this.clientId=n.clientId,this.clientMeta=n.clientMeta,this.peerId=n.peerId,this.peerMeta=n.peerMeta,this.handshakeId=n.handshakeId,this.handshakeTopic=n.handshakeTopic)}on(n,s){this._eventManager.subscribe({event:n,callback:s})}off(n){this._eventManager.unsubscribe(n)}createInstantRequest(n){var s=this;return(0,E.Z)(function*(){s._key=yield s._generateKey();const p=s._formatRequest({method:"wc_instantRequest",params:[{peerId:s.clientId,peerMeta:s.clientMeta,request:s._formatRequest(n)}]});s.handshakeId=p.id,s.handshakeTopic=Le(),s._eventManager.trigger({event:"display_uri",params:[s.uri]}),s.on("modal_closed",()=>{throw new Error(dr)});const m=()=>{s.killSession()};try{const M=yield s._sendCallRequest(p);return M&&m(),M}catch(M){throw m(),M}})()}connect(n){var s=this;return(0,E.Z)(function*(){if(!s._qrcodeModal)throw new Error("QRCode Modal not provided");return s.connected?{chainId:s.chainId,accounts:s.accounts}:(yield s.createSession(n),new Promise(function(){var p=(0,E.Z)(function*(m,M){s.on("modal_closed",()=>M(new Error(dr))),s.on("connect",(N,pt)=>{if(N)return M(N);m(pt.params[0])})});return function(m,M){return p.apply(this,arguments)}}()))})()}createSession(n){var s=this;return(0,E.Z)(function*(){if(s._connected)throw new Error(qe);if(s.pending)return;s._key=yield s._generateKey();const p=s._formatRequest({method:"wc_sessionRequest",params:[{peerId:s.clientId,peerMeta:s.clientMeta,chainId:n&&n.chainId?n.chainId:null}]});s.handshakeId=p.id,s.handshakeTopic=Le(),s._sendSessionRequest(p,"Session update rejected",{topic:s.handshakeTopic}),s._eventManager.trigger({event:"display_uri",params:[s.uri]})})()}approveSession(n){if(this._connected)throw new Error(qe);this.chainId=n.chainId,this.accounts=n.accounts,this.networkId=n.networkId||0,this.rpcUrl=n.rpcUrl||"",this._sendResponse({id:this.handshakeId,jsonrpc:"2.0",result:{approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta}}),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(n){if(this._connected)throw new Error(qe);const s=n&&n.message?n.message:"Session Rejected",p=this._formatResponse({id:this.handshakeId,error:{message:s}});this._sendResponse(p),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:s}]}),this._removeStorageSession()}updateSession(n){if(!this._connected)throw new Error(Ft);this.chainId=n.chainId,this.accounts=n.accounts,this.networkId=n.networkId||0,this.rpcUrl=n.rpcUrl||"";const p=this._formatRequest({method:"wc_sessionUpdate",params:[{approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl}]});this._sendSessionRequest(p,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}killSession(n){var s=this;return(0,E.Z)(function*(){const p=n?n.message:"Session Disconnected",M=s._formatRequest({method:"wc_sessionUpdate",params:[{approved:!1,chainId:null,networkId:null,accounts:null}]});yield s._sendRequest(M),s._handleSessionDisconnect(p)})()}sendTransaction(n){var s=this;return(0,E.Z)(function*(){if(!s._connected)throw new Error(Ft);const p=Ce(n),m=s._formatRequest({method:"eth_sendTransaction",params:[p]});return yield s._sendCallRequest(m)})()}signTransaction(n){var s=this;return(0,E.Z)(function*(){if(!s._connected)throw new Error(Ft);const p=Ce(n),m=s._formatRequest({method:"eth_signTransaction",params:[p]});return yield s._sendCallRequest(m)})()}signMessage(n){var s=this;return(0,E.Z)(function*(){if(!s._connected)throw new Error(Ft);const p=s._formatRequest({method:"eth_sign",params:n});return yield s._sendCallRequest(p)})()}signPersonalMessage(n){var s=this;return(0,E.Z)(function*(){if(!s._connected)throw new Error(Ft);n=fr(n);const p=s._formatRequest({method:"personal_sign",params:n});return yield s._sendCallRequest(p)})()}signTypedData(n){var s=this;return(0,E.Z)(function*(){if(!s._connected)throw new Error(Ft);const p=s._formatRequest({method:"eth_signTypedData",params:n});return yield s._sendCallRequest(p)})()}updateChain(n){var s=this;return(0,E.Z)(function*(){if(!s._connected)throw new Error("Session currently disconnected");const p=s._formatRequest({method:"wallet_updateChain",params:[n]});return yield s._sendCallRequest(p)})()}unsafeSend(n,s){return this._sendRequest(n,s),this._eventManager.trigger({event:"call_request_sent",params:[{request:n,options:s}]}),new Promise((p,m)=>{this._subscribeToResponse(n.id,(M,N)=>{if(M)m(M);else{if(!N)throw new Error("Missing JSON RPC response");p(N)}})})}sendCustomRequest(n,s){var p=this;return(0,E.Z)(function*(){if(!p._connected)throw new Error(Ft);switch(n.method){case"eth_accounts":return p.accounts;case"eth_chainId":return or(p.chainId);case"eth_sendTransaction":case"eth_signTransaction":n.params&&(n.params[0]=Ce(n.params[0]));break;case"personal_sign":n.params&&(n.params=fr(n.params))}const m=p._formatRequest(n);return yield p._sendCallRequest(m,s)})()}approveRequest(n){if(!ae(n))throw new Error('JSON-RPC success response must include "result" field');{const s=this._formatResponse(n);this._sendResponse(s)}}rejectRequest(n){if(!Se(n))throw new Error('JSON-RPC error response must include "error" field');{const s=this._formatResponse(n);this._sendResponse(s)}}transportClose(){this._transport.close()}_sendRequest(n,s){var p=this;return(0,E.Z)(function*(){const m=p._formatRequest(n),M=yield p._encrypt(m),N=void 0!==(null==s?void 0:s.topic)?s.topic:p.peerId,pt=JSON.stringify(M),Rt=void 0!==(null==s?void 0:s.forcePushNotification)?!s.forcePushNotification:!!(r=m).method.startsWith("wc_")||!X.includes(r.method);var r;p._transport.send(pt,N,Rt)})()}_sendResponse(n){var s=this;return(0,E.Z)(function*(){const p=yield s._encrypt(n),m=s.peerId,M=JSON.stringify(p);s._transport.send(M,m,!0)})()}_sendSessionRequest(n,s,p){var m=this;return(0,E.Z)(function*(){m._sendRequest(n,p),m._subscribeToSessionResponse(n.id,s)})()}_sendCallRequest(n,s){return this._sendRequest(n,s),this._eventManager.trigger({event:"call_request_sent",params:[{request:n,options:s}]}),this._subscribeToCallResponse(n.id)}_formatRequest(n){if(void 0===n.method)throw new Error('JSON RPC request must have valid "method" value');return{id:void 0===n.id?Cr():n.id,jsonrpc:"2.0",method:n.method,params:void 0===n.params?[]:n.params}}_formatResponse(n){if(void 0===n.id)throw new Error('JSON RPC request must have valid "id" value');const s={id:n.id,jsonrpc:"2.0"};if(Se(n)){const p=function(r){const n=r.message||"Failed or Rejected Request";let s=-32e3;if(r&&!r.code)switch(n){case"Parse error":s=-32700;break;case"Invalid request":s=-32600;break;case"Method not found":s=-32601;break;case"Invalid params":s=-32602;break;case"Internal error":s=-32603;break;default:s=-32e3}const p={code:s,message:n};return r.data&&(p.data=r.data),p}(n.error);return Object.assign(Object.assign(Object.assign({},s),n),{error:p})}if(ae(n))return Object.assign(Object.assign({},s),n);throw new Error(lr)}_handleSessionDisconnect(n){const s=n||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),zt(K)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:s}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(n,s){s&&s.approved?(this._connected?(s.chainId&&(this.chainId=s.chainId),s.accounts&&(this.accounts=s.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,s.chainId&&(this.chainId=s.chainId),s.accounts&&(this.accounts=s.accounts),s.peerId&&!this.peerId&&(this.peerId=s.peerId),s.peerMeta&&!this.peerMeta&&(this.peerMeta=s.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(n)}_handleIncomingMessages(n){var s=this;return(0,E.Z)(function*(){if(![s.clientId,s.handshakeTopic].includes(n.topic))return;let m;try{m=JSON.parse(n.payload)}catch{return}const M=yield s._decrypt(m);M&&s._eventManager.trigger(M)})()}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(n,s){this.on(`response:${n}`,s)}_subscribeToSessionResponse(n,s){this._subscribeToResponse(n,(p,m)=>{p?this._handleSessionResponse(p.message):ae(m)?this._handleSessionResponse(s,m.result):this._handleSessionResponse(m.error&&m.error.message?m.error.message:s)})}_subscribeToCallResponse(n){return new Promise((s,p)=>{this._subscribeToResponse(n,(m,M)=>{m?p(m):ae(M)?s(M.result):p(M.error&&M.error.message?M.error:new Error(lr))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(n,s)=>{const{request:p}=s.params[0];if(j()&&(function(){const r=j();return!!r&&r.toLowerCase().includes("android")}()||function(){const r=j();return!!r&&(r.toLowerCase().includes("ios")||r.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1)}())&&this._signingMethods.includes(p.method)){const m=Y(K);m&&(window.location.href=m.href)}}),this.on("wc_sessionRequest",(n,s)=>{n&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:n.toString()}]}),this.handshakeId=s.id,this.peerId=s.params[0].peerId,this.peerMeta=s.params[0].peerMeta;const p=Object.assign(Object.assign({},s),{method:"session_request"});this._eventManager.trigger(p)}),this.on("wc_sessionUpdate",(n,s)=>{n&&this._handleSessionResponse(n.message),this._handleSessionResponse("Session disconnected",s.params[0])})}_initTransport(){this._transport.on("message",n=>this._handleIncomingMessages(n)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){return`${this.protocol}:${this.handshakeTopic}@${this.version}?bridge=${encodeURIComponent(this.bridge)}&key=${this.key}`}_parseUri(n){const s=function(r){const n=r.indexOf(":"),s=-1!==r.indexOf("?")?r.indexOf("?"):void 0,p=r.substring(0,n),N=function(fe){const ue=fe.split("@");return{handshakeTopic:ue[0],version:parseInt(ue[1],10)}}(r.substring(n+1,s)),Zt=function(fe){const Qt=cr(fe);return{key:Qt.key||"",bridge:Qt.bridge||""}}(void 0!==s?r.substr(s):"");return Object.assign(Object.assign({protocol:p},N),Zt)}(n);if(s.protocol===this.protocol){if(!s.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const p=s.handshakeTopic;if(!s.bridge)throw Error("Invalid or missing bridge url parameter value");const m=decodeURIComponent(s.bridge);if(!s.key)throw Error("Invalid or missing key parameter value");return{handshakeTopic:p,bridge:m,key:s.key}}throw new Error("URI format is invalid")}_generateKey(){var n=this;return(0,E.Z)(function*(){return n._cryptoLib?yield n._cryptoLib.generateKey():null})()}_encrypt(n){var s=this;return(0,E.Z)(function*(){const p=s._key;return s._cryptoLib&&p?yield s._cryptoLib.encrypt(n,p):null})()}_decrypt(n){var s=this;return(0,E.Z)(function*(){const p=s._key;return s._cryptoLib&&p?yield s._cryptoLib.decrypt(n,p):null})()}_getStorageSession(){let n=null;return this._sessionStorage&&(n=this._sessionStorage.getSession()),n}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(n){if(!n.url||"string"!=typeof n.url)throw Error("Invalid or missing pushServerOpts.url parameter value");if(!n.type||"string"!=typeof n.type)throw Error("Invalid or missing pushServerOpts.type parameter value");if(!n.token||"string"!=typeof n.token)throw Error("Invalid or missing pushServerOpts.token parameter value");const s={bridge:this.bridge,topic:this.clientId,type:n.type,token:n.token,peerName:"",language:n.language||""};this.on("connect",function(){var p=(0,E.Z)(function*(m,M){if(m)throw m;n.peerMeta&&(s.peerName=M.params[0].peerMeta.name);try{if(!(yield(yield fetch(`${n.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}});return function(m,M){return p.apply(this,arguments)}}())}}{constructor(n,s){super({cryptoLib:z,connectorOpts:n,pushServerOpts:s})}}},80748:kt=>{"use strict";kt.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},87760:function(kt,k,B){!function(z,E){"use strict";function _(c,t){if(!c)throw new Error(t||"Assertion failed")}function I(c,t){c.super_=t;var i=function(){};i.prototype=t.prototype,c.prototype=new i,c.prototype.constructor=c}function d(c,t,i){if(d.isBN(c))return c;this.negative=0,this.words=null,this.length=0,this.red=null,null!==c&&(("le"===t||"be"===t)&&(i=t,t=10),this._init(c||0,t||10,i||"be"))}var At;"object"==typeof z?z.exports=d:E.BN=d,d.BN=d,d.wordSize=26;try{At=B(36563).Buffer}catch{}function Ot(c,t,i){for(var o=0,a=Math.min(c.length,i),u=t;u<a;u++){var l=c.charCodeAt(u)-48;o<<=4,o|=l>=49&&l<=54?l-49+10:l>=17&&l<=22?l-17+10:15&l}return o}function Z(c,t,i,o){for(var a=0,u=Math.min(c.length,i),l=t;l<u;l++){var g=c.charCodeAt(l)-48;a*=o,a+=g>=49?g-49+10:g>=17?g-17+10:g}return a}d.isBN=function(t){return t instanceof d||null!==t&&"object"==typeof t&&t.constructor.wordSize===d.wordSize&&Array.isArray(t.words)},d.max=function(t,i){return t.cmp(i)>0?t:i},d.min=function(t,i){return t.cmp(i)<0?t:i},d.prototype._init=function(t,i,o){if("number"==typeof t)return this._initNumber(t,i,o);if("object"==typeof t)return this._initArray(t,i,o);"hex"===i&&(i=16),_(i===(0|i)&&i>=2&&i<=36);var a=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&a++,16===i?this._parseHex(t,a):this._parseBase(t,i,a),"-"===t[0]&&(this.negative=1),this.strip(),"le"===o&&this._initArray(this.toArray(),i,o)},d.prototype._initNumber=function(t,i,o){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(_(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===o&&this._initArray(this.toArray(),i,o)},d.prototype._initArray=function(t,i,o){if(_("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var u,l,g=0;if("be"===o)for(a=t.length-1,u=0;a>=0;a-=3)this.words[u]|=(l=t[a]|t[a-1]<<8|t[a-2]<<16)<<g&67108863,this.words[u+1]=l>>>26-g&67108863,(g+=24)>=26&&(g-=26,u++);else if("le"===o)for(a=0,u=0;a<t.length;a+=3)this.words[u]|=(l=t[a]|t[a+1]<<8|t[a+2]<<16)<<g&67108863,this.words[u+1]=l>>>26-g&67108863,(g+=24)>=26&&(g-=26,u++);return this.strip()},d.prototype._parseHex=function(t,i){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var a,u,l=0;for(o=t.length-6,a=0;o>=i;o-=6)u=Ot(t,o,o+6),this.words[a]|=u<<l&67108863,this.words[a+1]|=u>>>26-l&4194303,(l+=24)>=26&&(l-=26,a++);o+6!==i&&(u=Ot(t,i,o+6),this.words[a]|=u<<l&67108863,this.words[a+1]|=u>>>26-l&4194303),this.strip()},d.prototype._parseBase=function(t,i,o){this.words=[0],this.length=1;for(var a=0,u=1;u<=67108863;u*=i)a++;a--,u=u/i|0;for(var l=t.length-o,g=l%a,h=Math.min(l,l-g)+o,e=0,f=o;f<h;f+=a)e=Z(t,f,f+a,i),this.imuln(u),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(0!==g){var S=1;for(e=Z(t,f,t.length,i),f=0;f<g;f++)S*=i;this.imuln(S),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}},d.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},d.prototype.clone=function(){var t=new d(null);return this.copy(t),t},d.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},d.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},d.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},d.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var It=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Nt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Bt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Tt(c,t,i){i.negative=t.negative^c.negative;var o=c.length+t.length|0;i.length=o,o=o-1|0;var a=0|c.words[0],u=0|t.words[0],l=a*u,h=l/67108864|0;i.words[0]=67108863&l;for(var e=1;e<o;e++){for(var f=h>>>26,S=67108863&h,T=Math.min(e,t.length-1),R=Math.max(0,e-c.length+1);R<=T;R++)f+=(l=(a=0|c.words[e-R|0])*(u=0|t.words[R])+S)/67108864|0,S=67108863&l;i.words[e]=0|S,h=0|f}return 0!==h?i.words[e]=0|h:i.length--,i.strip()}d.prototype.toString=function(t,i){var o;if(i=0|i||1,16===(t=t||10)||"hex"===t){o="";for(var a=0,u=0,l=0;l<this.length;l++){var g=this.words[l],h=(16777215&(g<<a|u)).toString(16);o=0!=(u=g>>>24-a&16777215)||l!==this.length-1?It[6-h.length]+h+o:h+o,(a+=2)>=26&&(a-=26,l--)}for(0!==u&&(o=u.toString(16)+o);o.length%i!=0;)o="0"+o;return 0!==this.negative&&(o="-"+o),o}if(t===(0|t)&&t>=2&&t<=36){var e=Nt[t],f=Bt[t];o="";var S=this.clone();for(S.negative=0;!S.isZero();){var T=S.modn(f).toString(t);o=(S=S.idivn(f)).isZero()?T+o:It[e-T.length]+T+o}for(this.isZero()&&(o="0"+o);o.length%i!=0;)o="0"+o;return 0!==this.negative&&(o="-"+o),o}_(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&_(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},d.prototype.toJSON=function(){return this.toString(16)},d.prototype.toBuffer=function(t,i){return _(void 0!==At),this.toArrayLike(At,t,i)},d.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)},d.prototype.toArrayLike=function(t,i,o){var a=this.byteLength(),u=o||Math.max(1,a);_(a<=u,"byte array longer than desired length"),_(u>0,"Requested array length <= 0"),this.strip();var h,e,l="le"===i,g=new t(u),f=this.clone();if(l){for(e=0;!f.isZero();e++)h=f.andln(255),f.iushrn(8),g[e]=h;for(;e<u;e++)g[e]=0}else{for(e=0;e<u-a;e++)g[e]=0;for(e=0;!f.isZero();e++)h=f.andln(255),f.iushrn(8),g[u-e-1]=h}return g},d.prototype._countBits=Math.clz32?function(t){return 32-Math.clz32(t)}:function(t){var i=t,o=0;return i>=4096&&(o+=13,i>>>=13),i>=64&&(o+=7,i>>>=7),i>=8&&(o+=4,i>>>=4),i>=2&&(o+=2,i>>>=2),o+i},d.prototype._zeroBits=function(t){if(0===t)return 26;var i=t,o=0;return 0==(8191&i)&&(o+=13,i>>>=13),0==(127&i)&&(o+=7,i>>>=7),0==(15&i)&&(o+=4,i>>>=4),0==(3&i)&&(o+=2,i>>>=2),0==(1&i)&&o++,o},d.prototype.bitLength=function(){var i=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+i},d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var o=this._zeroBits(this.words[i]);if(t+=o,26!==o)break}return t},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},d.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return 0!==this.negative},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this.strip()},d.prototype.ior=function(t){return _(0==(this.negative|t.negative)),this.iuor(t)},d.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},d.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},d.prototype.iuand=function(t){var i;i=this.length>t.length?t:this;for(var o=0;o<i.length;o++)this.words[o]=this.words[o]&t.words[o];return this.length=i.length,this.strip()},d.prototype.iand=function(t){return _(0==(this.negative|t.negative)),this.iuand(t)},d.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},d.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},d.prototype.iuxor=function(t){var i,o;this.length>t.length?(i=this,o=t):(i=t,o=this);for(var a=0;a<o.length;a++)this.words[a]=i.words[a]^o.words[a];if(this!==i)for(;a<i.length;a++)this.words[a]=i.words[a];return this.length=i.length,this.strip()},d.prototype.ixor=function(t){return _(0==(this.negative|t.negative)),this.iuxor(t)},d.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},d.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},d.prototype.inotn=function(t){_("number"==typeof t&&t>=0);var i=0|Math.ceil(t/26),o=t%26;this._expand(i),o>0&&i--;for(var a=0;a<i;a++)this.words[a]=67108863&~this.words[a];return o>0&&(this.words[a]=~this.words[a]&67108863>>26-o),this.strip()},d.prototype.notn=function(t){return this.clone().inotn(t)},d.prototype.setn=function(t,i){_("number"==typeof t&&t>=0);var o=t/26|0,a=t%26;return this._expand(o+1),this.words[o]=i?this.words[o]|1<<a:this.words[o]&~(1<<a),this.strip()},d.prototype.iadd=function(t){var i,o,a;if(0!==this.negative&&0===t.negative)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();this.length>t.length?(o=this,a=t):(o=t,a=this);for(var u=0,l=0;l<a.length;l++)this.words[l]=67108863&(i=(0|o.words[l])+(0|a.words[l])+u),u=i>>>26;for(;0!==u&&l<o.length;l++)this.words[l]=67108863&(i=(0|o.words[l])+u),u=i>>>26;if(this.length=o.length,0!==u)this.words[this.length]=u,this.length++;else if(o!==this)for(;l<o.length;l++)this.words[l]=o.words[l];return this},d.prototype.add=function(t){var i;return 0!==t.negative&&0===this.negative?(t.negative=0,i=this.sub(t),t.negative^=1,i):0===t.negative&&0!==this.negative?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},d.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var a,u,o=this.cmp(t);if(0===o)return this.negative=0,this.length=1,this.words[0]=0,this;o>0?(a=this,u=t):(a=t,u=this);for(var l=0,g=0;g<u.length;g++)l=(i=(0|a.words[g])-(0|u.words[g])+l)>>26,this.words[g]=67108863&i;for(;0!==l&&g<a.length;g++)l=(i=(0|a.words[g])+l)>>26,this.words[g]=67108863&i;if(0===l&&g<a.length&&a!==this)for(;g<a.length;g++)this.words[g]=a.words[g];return this.length=Math.max(this.length,g),a!==this&&(this.negative=1),this.strip()},d.prototype.sub=function(t){return this.clone().isub(t)};var Ut=function(t,i,o){var h,e,f,a=t.words,u=i.words,l=o.words,g=0,S=0|a[0],T=8191&S,R=S>>>13,A=0|a[1],L=8191&A,q=A>>>13,Lt=0|a[2],H=8191&Lt,G=Lt>>>13,ce=0|a[3],rt=8191&ce,Y=ce>>>13,zt=0|a[4],K=8191&zt,gt=zt>>>13,Te=0|a[5],nt=8191&Te,mt=Te>>>13,le=0|a[6],X=8191&le,vt=le>>>13,Re=0|a[7],it=8191&Re,st=Re>>>13,Ie=0|a[8],ot=8191&Ie,at=Ie>>>13,Gt=0|a[9],J=8191&Gt,ht=Gt>>>13,de=0|u[0],ft=8191&de,ut=de>>>13,pe=0|u[1],D=8191&pe,P=pe>>>13,Yt=0|u[2],tt=8191&Yt,ct=Yt>>>13,ke=0|u[3],F=8191&ke,W=ke>>>13,Xt=0|u[4],et=8191&Xt,V=Xt>>>13,te=0|u[5],U=8191&te,yt=te>>>13,Ee=0|u[6],lt=8191&Ee,Q=Ee>>>13,ee=0|u[7],dt=8191&ee,_t=ee>>>13,Oe=0|u[8],wt=8191&Oe,Mt=Oe>>>13,Ae=0|u[9],bt=8191&Ae,$=Ae>>>13;o.negative=t.negative^i.negative,o.length=19;var re=(g+(h=Math.imul(T,ft))|0)+((8191&(e=(e=Math.imul(T,ut))+Math.imul(R,ft)|0))<<13)|0;g=((f=Math.imul(R,ut))+(e>>>13)|0)+(re>>>26)|0,re&=67108863,h=Math.imul(L,ft),e=(e=Math.imul(L,ut))+Math.imul(q,ft)|0,f=Math.imul(q,ut);var qt=(g+(h=h+Math.imul(T,D)|0)|0)+((8191&(e=(e=e+Math.imul(T,P)|0)+Math.imul(R,D)|0))<<13)|0;g=((f=f+Math.imul(R,P)|0)+(e>>>13)|0)+(qt>>>26)|0,qt&=67108863,h=Math.imul(H,ft),e=(e=Math.imul(H,ut))+Math.imul(G,ft)|0,f=Math.imul(G,ut),h=h+Math.imul(L,D)|0,e=(e=e+Math.imul(L,P)|0)+Math.imul(q,D)|0,f=f+Math.imul(q,P)|0;var Dt=(g+(h=h+Math.imul(T,tt)|0)|0)+((8191&(e=(e=e+Math.imul(T,ct)|0)+Math.imul(R,tt)|0))<<13)|0;g=((f=f+Math.imul(R,ct)|0)+(e>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,h=Math.imul(rt,ft),e=(e=Math.imul(rt,ut))+Math.imul(Y,ft)|0,f=Math.imul(Y,ut),h=h+Math.imul(H,D)|0,e=(e=e+Math.imul(H,P)|0)+Math.imul(G,D)|0,f=f+Math.imul(G,P)|0,h=h+Math.imul(L,tt)|0,e=(e=e+Math.imul(L,ct)|0)+Math.imul(q,tt)|0,f=f+Math.imul(q,ct)|0;var ge=(g+(h=h+Math.imul(T,F)|0)|0)+((8191&(e=(e=e+Math.imul(T,W)|0)+Math.imul(R,F)|0))<<13)|0;g=((f=f+Math.imul(R,W)|0)+(e>>>13)|0)+(ge>>>26)|0,ge&=67108863,h=Math.imul(K,ft),e=(e=Math.imul(K,ut))+Math.imul(gt,ft)|0,f=Math.imul(gt,ut),h=h+Math.imul(rt,D)|0,e=(e=e+Math.imul(rt,P)|0)+Math.imul(Y,D)|0,f=f+Math.imul(Y,P)|0,h=h+Math.imul(H,tt)|0,e=(e=e+Math.imul(H,ct)|0)+Math.imul(G,tt)|0,f=f+Math.imul(G,ct)|0,h=h+Math.imul(L,F)|0,e=(e=e+Math.imul(L,W)|0)+Math.imul(q,F)|0,f=f+Math.imul(q,W)|0;var me=(g+(h=h+Math.imul(T,et)|0)|0)+((8191&(e=(e=e+Math.imul(T,V)|0)+Math.imul(R,et)|0))<<13)|0;g=((f=f+Math.imul(R,V)|0)+(e>>>13)|0)+(me>>>26)|0,me&=67108863,h=Math.imul(nt,ft),e=(e=Math.imul(nt,ut))+Math.imul(mt,ft)|0,f=Math.imul(mt,ut),h=h+Math.imul(K,D)|0,e=(e=e+Math.imul(K,P)|0)+Math.imul(gt,D)|0,f=f+Math.imul(gt,P)|0,h=h+Math.imul(rt,tt)|0,e=(e=e+Math.imul(rt,ct)|0)+Math.imul(Y,tt)|0,f=f+Math.imul(Y,ct)|0,h=h+Math.imul(H,F)|0,e=(e=e+Math.imul(H,W)|0)+Math.imul(G,F)|0,f=f+Math.imul(G,W)|0,h=h+Math.imul(L,et)|0,e=(e=e+Math.imul(L,V)|0)+Math.imul(q,et)|0,f=f+Math.imul(q,V)|0;var ne=(g+(h=h+Math.imul(T,U)|0)|0)+((8191&(e=(e=e+Math.imul(T,yt)|0)+Math.imul(R,U)|0))<<13)|0;g=((f=f+Math.imul(R,yt)|0)+(e>>>13)|0)+(ne>>>26)|0,ne&=67108863,h=Math.imul(X,ft),e=(e=Math.imul(X,ut))+Math.imul(vt,ft)|0,f=Math.imul(vt,ut),h=h+Math.imul(nt,D)|0,e=(e=e+Math.imul(nt,P)|0)+Math.imul(mt,D)|0,f=f+Math.imul(mt,P)|0,h=h+Math.imul(K,tt)|0,e=(e=e+Math.imul(K,ct)|0)+Math.imul(gt,tt)|0,f=f+Math.imul(gt,ct)|0,h=h+Math.imul(rt,F)|0,e=(e=e+Math.imul(rt,W)|0)+Math.imul(Y,F)|0,f=f+Math.imul(Y,W)|0,h=h+Math.imul(H,et)|0,e=(e=e+Math.imul(H,V)|0)+Math.imul(G,et)|0,f=f+Math.imul(G,V)|0,h=h+Math.imul(L,U)|0,e=(e=e+Math.imul(L,yt)|0)+Math.imul(q,U)|0,f=f+Math.imul(q,yt)|0;var jt=(g+(h=h+Math.imul(T,lt)|0)|0)+((8191&(e=(e=e+Math.imul(T,Q)|0)+Math.imul(R,lt)|0))<<13)|0;g=((f=f+Math.imul(R,Q)|0)+(e>>>13)|0)+(jt>>>26)|0,jt&=67108863,h=Math.imul(it,ft),e=(e=Math.imul(it,ut))+Math.imul(st,ft)|0,f=Math.imul(st,ut),h=h+Math.imul(X,D)|0,e=(e=e+Math.imul(X,P)|0)+Math.imul(vt,D)|0,f=f+Math.imul(vt,P)|0,h=h+Math.imul(nt,tt)|0,e=(e=e+Math.imul(nt,ct)|0)+Math.imul(mt,tt)|0,f=f+Math.imul(mt,ct)|0,h=h+Math.imul(K,F)|0,e=(e=e+Math.imul(K,W)|0)+Math.imul(gt,F)|0,f=f+Math.imul(gt,W)|0,h=h+Math.imul(rt,et)|0,e=(e=e+Math.imul(rt,V)|0)+Math.imul(Y,et)|0,f=f+Math.imul(Y,V)|0,h=h+Math.imul(H,U)|0,e=(e=e+Math.imul(H,yt)|0)+Math.imul(G,U)|0,f=f+Math.imul(G,yt)|0,h=h+Math.imul(L,lt)|0,e=(e=e+Math.imul(L,Q)|0)+Math.imul(q,lt)|0,f=f+Math.imul(q,Q)|0;var Wt=(g+(h=h+Math.imul(T,dt)|0)|0)+((8191&(e=(e=e+Math.imul(T,_t)|0)+Math.imul(R,dt)|0))<<13)|0;g=((f=f+Math.imul(R,_t)|0)+(e>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,h=Math.imul(ot,ft),e=(e=Math.imul(ot,ut))+Math.imul(at,ft)|0,f=Math.imul(at,ut),h=h+Math.imul(it,D)|0,e=(e=e+Math.imul(it,P)|0)+Math.imul(st,D)|0,f=f+Math.imul(st,P)|0,h=h+Math.imul(X,tt)|0,e=(e=e+Math.imul(X,ct)|0)+Math.imul(vt,tt)|0,f=f+Math.imul(vt,ct)|0,h=h+Math.imul(nt,F)|0,e=(e=e+Math.imul(nt,W)|0)+Math.imul(mt,F)|0,f=f+Math.imul(mt,W)|0,h=h+Math.imul(K,et)|0,e=(e=e+Math.imul(K,V)|0)+Math.imul(gt,et)|0,f=f+Math.imul(gt,V)|0,h=h+Math.imul(rt,U)|0,e=(e=e+Math.imul(rt,yt)|0)+Math.imul(Y,U)|0,f=f+Math.imul(Y,yt)|0,h=h+Math.imul(H,lt)|0,e=(e=e+Math.imul(H,Q)|0)+Math.imul(G,lt)|0,f=f+Math.imul(G,Q)|0,h=h+Math.imul(L,dt)|0,e=(e=e+Math.imul(L,_t)|0)+Math.imul(q,dt)|0,f=f+Math.imul(q,_t)|0;var $t=(g+(h=h+Math.imul(T,wt)|0)|0)+((8191&(e=(e=e+Math.imul(T,Mt)|0)+Math.imul(R,wt)|0))<<13)|0;g=((f=f+Math.imul(R,Mt)|0)+(e>>>13)|0)+($t>>>26)|0,$t&=67108863,h=Math.imul(J,ft),e=(e=Math.imul(J,ut))+Math.imul(ht,ft)|0,f=Math.imul(ht,ut),h=h+Math.imul(ot,D)|0,e=(e=e+Math.imul(ot,P)|0)+Math.imul(at,D)|0,f=f+Math.imul(at,P)|0,h=h+Math.imul(it,tt)|0,e=(e=e+Math.imul(it,ct)|0)+Math.imul(st,tt)|0,f=f+Math.imul(st,ct)|0,h=h+Math.imul(X,F)|0,e=(e=e+Math.imul(X,W)|0)+Math.imul(vt,F)|0,f=f+Math.imul(vt,W)|0,h=h+Math.imul(nt,et)|0,e=(e=e+Math.imul(nt,V)|0)+Math.imul(mt,et)|0,f=f+Math.imul(mt,V)|0,h=h+Math.imul(K,U)|0,e=(e=e+Math.imul(K,yt)|0)+Math.imul(gt,U)|0,f=f+Math.imul(gt,yt)|0,h=h+Math.imul(rt,lt)|0,e=(e=e+Math.imul(rt,Q)|0)+Math.imul(Y,lt)|0,f=f+Math.imul(Y,Q)|0,h=h+Math.imul(H,dt)|0,e=(e=e+Math.imul(H,_t)|0)+Math.imul(G,dt)|0,f=f+Math.imul(G,_t)|0,h=h+Math.imul(L,wt)|0,e=(e=e+Math.imul(L,Mt)|0)+Math.imul(q,wt)|0,f=f+Math.imul(q,Mt)|0;var ie=(g+(h=h+Math.imul(T,bt)|0)|0)+((8191&(e=(e=e+Math.imul(T,$)|0)+Math.imul(R,bt)|0))<<13)|0;g=((f=f+Math.imul(R,$)|0)+(e>>>13)|0)+(ie>>>26)|0,ie&=67108863,h=Math.imul(J,D),e=(e=Math.imul(J,P))+Math.imul(ht,D)|0,f=Math.imul(ht,P),h=h+Math.imul(ot,tt)|0,e=(e=e+Math.imul(ot,ct)|0)+Math.imul(at,tt)|0,f=f+Math.imul(at,ct)|0,h=h+Math.imul(it,F)|0,e=(e=e+Math.imul(it,W)|0)+Math.imul(st,F)|0,f=f+Math.imul(st,W)|0,h=h+Math.imul(X,et)|0,e=(e=e+Math.imul(X,V)|0)+Math.imul(vt,et)|0,f=f+Math.imul(vt,V)|0,h=h+Math.imul(nt,U)|0,e=(e=e+Math.imul(nt,yt)|0)+Math.imul(mt,U)|0,f=f+Math.imul(mt,yt)|0,h=h+Math.imul(K,lt)|0,e=(e=e+Math.imul(K,Q)|0)+Math.imul(gt,lt)|0,f=f+Math.imul(gt,Q)|0,h=h+Math.imul(rt,dt)|0,e=(e=e+Math.imul(rt,_t)|0)+Math.imul(Y,dt)|0,f=f+Math.imul(Y,_t)|0,h=h+Math.imul(H,wt)|0,e=(e=e+Math.imul(H,Mt)|0)+Math.imul(G,wt)|0,f=f+Math.imul(G,Mt)|0;var ve=(g+(h=h+Math.imul(L,bt)|0)|0)+((8191&(e=(e=e+Math.imul(L,$)|0)+Math.imul(q,bt)|0))<<13)|0;g=((f=f+Math.imul(q,$)|0)+(e>>>13)|0)+(ve>>>26)|0,ve&=67108863,h=Math.imul(J,tt),e=(e=Math.imul(J,ct))+Math.imul(ht,tt)|0,f=Math.imul(ht,ct),h=h+Math.imul(ot,F)|0,e=(e=e+Math.imul(ot,W)|0)+Math.imul(at,F)|0,f=f+Math.imul(at,W)|0,h=h+Math.imul(it,et)|0,e=(e=e+Math.imul(it,V)|0)+Math.imul(st,et)|0,f=f+Math.imul(st,V)|0,h=h+Math.imul(X,U)|0,e=(e=e+Math.imul(X,yt)|0)+Math.imul(vt,U)|0,f=f+Math.imul(vt,yt)|0,h=h+Math.imul(nt,lt)|0,e=(e=e+Math.imul(nt,Q)|0)+Math.imul(mt,lt)|0,f=f+Math.imul(mt,Q)|0,h=h+Math.imul(K,dt)|0,e=(e=e+Math.imul(K,_t)|0)+Math.imul(gt,dt)|0,f=f+Math.imul(gt,_t)|0,h=h+Math.imul(rt,wt)|0,e=(e=e+Math.imul(rt,Mt)|0)+Math.imul(Y,wt)|0,f=f+Math.imul(Y,Mt)|0;var ye=(g+(h=h+Math.imul(H,bt)|0)|0)+((8191&(e=(e=e+Math.imul(H,$)|0)+Math.imul(G,bt)|0))<<13)|0;g=((f=f+Math.imul(G,$)|0)+(e>>>13)|0)+(ye>>>26)|0,ye&=67108863,h=Math.imul(J,F),e=(e=Math.imul(J,W))+Math.imul(ht,F)|0,f=Math.imul(ht,W),h=h+Math.imul(ot,et)|0,e=(e=e+Math.imul(ot,V)|0)+Math.imul(at,et)|0,f=f+Math.imul(at,V)|0,h=h+Math.imul(it,U)|0,e=(e=e+Math.imul(it,yt)|0)+Math.imul(st,U)|0,f=f+Math.imul(st,yt)|0,h=h+Math.imul(X,lt)|0,e=(e=e+Math.imul(X,Q)|0)+Math.imul(vt,lt)|0,f=f+Math.imul(vt,Q)|0,h=h+Math.imul(nt,dt)|0,e=(e=e+Math.imul(nt,_t)|0)+Math.imul(mt,dt)|0,f=f+Math.imul(mt,_t)|0,h=h+Math.imul(K,wt)|0,e=(e=e+Math.imul(K,Mt)|0)+Math.imul(gt,wt)|0,f=f+Math.imul(gt,Mt)|0;var _e=(g+(h=h+Math.imul(rt,bt)|0)|0)+((8191&(e=(e=e+Math.imul(rt,$)|0)+Math.imul(Y,bt)|0))<<13)|0;g=((f=f+Math.imul(Y,$)|0)+(e>>>13)|0)+(_e>>>26)|0,_e&=67108863,h=Math.imul(J,et),e=(e=Math.imul(J,V))+Math.imul(ht,et)|0,f=Math.imul(ht,V),h=h+Math.imul(ot,U)|0,e=(e=e+Math.imul(ot,yt)|0)+Math.imul(at,U)|0,f=f+Math.imul(at,yt)|0,h=h+Math.imul(it,lt)|0,e=(e=e+Math.imul(it,Q)|0)+Math.imul(st,lt)|0,f=f+Math.imul(st,Q)|0,h=h+Math.imul(X,dt)|0,e=(e=e+Math.imul(X,_t)|0)+Math.imul(vt,dt)|0,f=f+Math.imul(vt,_t)|0,h=h+Math.imul(nt,wt)|0,e=(e=e+Math.imul(nt,Mt)|0)+Math.imul(mt,wt)|0,f=f+Math.imul(mt,Mt)|0;var Kt=(g+(h=h+Math.imul(K,bt)|0)|0)+((8191&(e=(e=e+Math.imul(K,$)|0)+Math.imul(gt,bt)|0))<<13)|0;g=((f=f+Math.imul(gt,$)|0)+(e>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,h=Math.imul(J,U),e=(e=Math.imul(J,yt))+Math.imul(ht,U)|0,f=Math.imul(ht,yt),h=h+Math.imul(ot,lt)|0,e=(e=e+Math.imul(ot,Q)|0)+Math.imul(at,lt)|0,f=f+Math.imul(at,Q)|0,h=h+Math.imul(it,dt)|0,e=(e=e+Math.imul(it,_t)|0)+Math.imul(st,dt)|0,f=f+Math.imul(st,_t)|0,h=h+Math.imul(X,wt)|0,e=(e=e+Math.imul(X,Mt)|0)+Math.imul(vt,wt)|0,f=f+Math.imul(vt,Mt)|0;var we=(g+(h=h+Math.imul(nt,bt)|0)|0)+((8191&(e=(e=e+Math.imul(nt,$)|0)+Math.imul(mt,bt)|0))<<13)|0;g=((f=f+Math.imul(mt,$)|0)+(e>>>13)|0)+(we>>>26)|0,we&=67108863,h=Math.imul(J,lt),e=(e=Math.imul(J,Q))+Math.imul(ht,lt)|0,f=Math.imul(ht,Q),h=h+Math.imul(ot,dt)|0,e=(e=e+Math.imul(ot,_t)|0)+Math.imul(at,dt)|0,f=f+Math.imul(at,_t)|0,h=h+Math.imul(it,wt)|0,e=(e=e+Math.imul(it,Mt)|0)+Math.imul(st,wt)|0,f=f+Math.imul(st,Mt)|0;var Me=(g+(h=h+Math.imul(X,bt)|0)|0)+((8191&(e=(e=e+Math.imul(X,$)|0)+Math.imul(vt,bt)|0))<<13)|0;g=((f=f+Math.imul(vt,$)|0)+(e>>>13)|0)+(Me>>>26)|0,Me&=67108863,h=Math.imul(J,dt),e=(e=Math.imul(J,_t))+Math.imul(ht,dt)|0,f=Math.imul(ht,_t),h=h+Math.imul(ot,wt)|0,e=(e=e+Math.imul(ot,Mt)|0)+Math.imul(at,wt)|0,f=f+Math.imul(at,Mt)|0;var se=(g+(h=h+Math.imul(it,bt)|0)|0)+((8191&(e=(e=e+Math.imul(it,$)|0)+Math.imul(st,bt)|0))<<13)|0;g=((f=f+Math.imul(st,$)|0)+(e>>>13)|0)+(se>>>26)|0,se&=67108863,h=Math.imul(J,wt),e=(e=Math.imul(J,Mt))+Math.imul(ht,wt)|0,f=Math.imul(ht,Mt);var Jt=(g+(h=h+Math.imul(ot,bt)|0)|0)+((8191&(e=(e=e+Math.imul(ot,$)|0)+Math.imul(at,bt)|0))<<13)|0;g=((f=f+Math.imul(at,$)|0)+(e>>>13)|0)+(Jt>>>26)|0,Jt&=67108863;var oe=(g+(h=Math.imul(J,bt))|0)+((8191&(e=(e=Math.imul(J,$))+Math.imul(ht,bt)|0))<<13)|0;return g=((f=Math.imul(ht,$))+(e>>>13)|0)+(oe>>>26)|0,oe&=67108863,l[0]=re,l[1]=qt,l[2]=Dt,l[3]=ge,l[4]=me,l[5]=ne,l[6]=jt,l[7]=Wt,l[8]=$t,l[9]=ie,l[10]=ve,l[11]=ye,l[12]=_e,l[13]=Kt,l[14]=we,l[15]=Me,l[16]=se,l[17]=Jt,l[18]=oe,0!==g&&(l[19]=g,o.length++),o};function v(c,t,i){return(new y).mulp(c,t,i)}function y(c,t){this.x=c,this.y=t}Math.imul||(Ut=Tt),d.prototype.mulTo=function(t,i){var o,a=this.length+t.length;return o=10===this.length&&10===t.length?Ut(this,t,i):a<63?Tt(this,t,i):a<1024?function(c,t,i){i.negative=t.negative^c.negative,i.length=c.length+t.length;for(var o=0,a=0,u=0;u<i.length-1;u++){var l=a;a=0;for(var g=67108863&o,h=Math.min(u,t.length-1),e=Math.max(0,u-c.length+1);e<=h;e++){var R=(0|c.words[u-e])*(0|t.words[e]),A=67108863&R;g=67108863&(A=A+g|0),a+=(l=(l=l+(R/67108864|0)|0)+(A>>>26)|0)>>>26,l&=67108863}i.words[u]=g,o=l,l=a}return 0!==o?i.words[u]=o:i.length--,i.strip()}(this,t,i):v(this,t,i),o},y.prototype.makeRBT=function(t){for(var i=new Array(t),o=d.prototype._countBits(t)-1,a=0;a<t;a++)i[a]=this.revBin(a,o,t);return i},y.prototype.revBin=function(t,i,o){if(0===t||t===o-1)return t;for(var a=0,u=0;u<i;u++)a|=(1&t)<<i-u-1,t>>=1;return a},y.prototype.permute=function(t,i,o,a,u,l){for(var g=0;g<l;g++)a[g]=i[t[g]],u[g]=o[t[g]]},y.prototype.transform=function(t,i,o,a,u,l){this.permute(l,t,i,o,a,u);for(var g=1;g<u;g<<=1)for(var h=g<<1,e=Math.cos(2*Math.PI/h),f=Math.sin(2*Math.PI/h),S=0;S<u;S+=h)for(var T=e,R=f,A=0;A<g;A++){var L=o[S+A],q=a[S+A],Lt=o[S+A+g],H=a[S+A+g],G=T*Lt-R*H;H=T*H+R*Lt,o[S+A]=L+(Lt=G),a[S+A]=q+H,o[S+A+g]=L-Lt,a[S+A+g]=q-H,A!==h&&(G=e*T-f*R,R=e*R+f*T,T=G)}},y.prototype.guessLen13b=function(t,i){var o=1|Math.max(i,t),a=1&o,u=0;for(o=o/2|0;o;o>>>=1)u++;return 1<<u+1+a},y.prototype.conjugate=function(t,i,o){if(!(o<=1))for(var a=0;a<o/2;a++){var u=t[a];t[a]=t[o-a-1],t[o-a-1]=u,u=i[a],i[a]=-i[o-a-1],i[o-a-1]=-u}},y.prototype.normalize13b=function(t,i){for(var o=0,a=0;a<i/2;a++){var u=8192*Math.round(t[2*a+1]/i)+Math.round(t[2*a]/i)+o;t[a]=67108863&u,o=u<67108864?0:u/67108864|0}return t},y.prototype.convert13b=function(t,i,o,a){for(var u=0,l=0;l<i;l++)o[2*l]=8191&(u+=0|t[l]),o[2*l+1]=8191&(u>>>=13),u>>>=13;for(l=2*i;l<a;++l)o[l]=0;_(0===u),_(0==(-8192&u))},y.prototype.stub=function(t){for(var i=new Array(t),o=0;o<t;o++)i[o]=0;return i},y.prototype.mulp=function(t,i,o){var a=2*this.guessLen13b(t.length,i.length),u=this.makeRBT(a),l=this.stub(a),g=new Array(a),h=new Array(a),e=new Array(a),f=new Array(a),S=new Array(a),T=new Array(a),R=o.words;R.length=a,this.convert13b(t.words,t.length,g,a),this.convert13b(i.words,i.length,f,a),this.transform(g,l,h,e,a,u),this.transform(f,l,S,T,a,u);for(var A=0;A<a;A++){var L=h[A]*S[A]-e[A]*T[A];e[A]=h[A]*T[A]+e[A]*S[A],h[A]=L}return this.conjugate(h,e,a),this.transform(h,e,R,l,a,u),this.conjugate(R,l,a),this.normalize13b(R,a),o.negative=t.negative^i.negative,o.length=t.length+i.length,o.strip()},d.prototype.mul=function(t){var i=new d(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},d.prototype.mulf=function(t){var i=new d(null);return i.words=new Array(this.length+t.length),v(this,t,i)},d.prototype.imul=function(t){return this.clone().mulTo(t,this)},d.prototype.imuln=function(t){_("number"==typeof t),_(t<67108864);for(var i=0,o=0;o<this.length;o++){var a=(0|this.words[o])*t,u=(67108863&a)+(67108863&i);i>>=26,i+=a/67108864|0,i+=u>>>26,this.words[o]=67108863&u}return 0!==i&&(this.words[o]=i,this.length++),this},d.prototype.muln=function(t){return this.clone().imuln(t)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(t){var i=function(c){for(var t=new Array(c.bitLength()),i=0;i<t.length;i++){var a=i%26;t[i]=(c.words[i/26|0]&1<<a)>>>a}return t}(t);if(0===i.length)return new d(1);for(var o=this,a=0;a<i.length&&0===i[a];a++,o=o.sqr());if(++a<i.length)for(var u=o.sqr();a<i.length;a++,u=u.sqr())0!==i[a]&&(o=o.mul(u));return o},d.prototype.iushln=function(t){_("number"==typeof t&&t>=0);var u,i=t%26,o=(t-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var l=0;for(u=0;u<this.length;u++){var g=this.words[u]&a;this.words[u]=(0|this.words[u])-g<<i|l,l=g>>>26-i}l&&(this.words[u]=l,this.length++)}if(0!==o){for(u=this.length-1;u>=0;u--)this.words[u+o]=this.words[u];for(u=0;u<o;u++)this.words[u]=0;this.length+=o}return this.strip()},d.prototype.ishln=function(t){return _(0===this.negative),this.iushln(t)},d.prototype.iushrn=function(t,i,o){var a;_("number"==typeof t&&t>=0),a=i?(i-i%26)/26:0;var u=t%26,l=Math.min((t-u)/26,this.length),g=67108863^67108863>>>u<<u,h=o;if(a-=l,a=Math.max(0,a),h){for(var e=0;e<l;e++)h.words[e]=this.words[e];h.length=l}if(0!==l)if(this.length>l)for(this.length-=l,e=0;e<this.length;e++)this.words[e]=this.words[e+l];else this.words[0]=0,this.length=1;var f=0;for(e=this.length-1;e>=0&&(0!==f||e>=a);e--){var S=0|this.words[e];this.words[e]=f<<26-u|S>>>u,f=S&g}return h&&0!==f&&(h.words[h.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function(t,i,o){return _(0===this.negative),this.iushrn(t,i,o)},d.prototype.shln=function(t){return this.clone().ishln(t)},d.prototype.ushln=function(t){return this.clone().iushln(t)},d.prototype.shrn=function(t){return this.clone().ishrn(t)},d.prototype.ushrn=function(t){return this.clone().iushrn(t)},d.prototype.testn=function(t){_("number"==typeof t&&t>=0);var i=t%26,o=(t-i)/26;return!(this.length<=o||!(this.words[o]&1<<i))},d.prototype.imaskn=function(t){_("number"==typeof t&&t>=0);var i=t%26,o=(t-i)/26;return _(0===this.negative,"imaskn works only with positive numbers"),this.length<=o?this:(0!==i&&o++,this.length=Math.min(o,this.length),0!==i&&(this.words[this.length-1]&=67108863^67108863>>>i<<i),this.strip())},d.prototype.maskn=function(t){return this.clone().imaskn(t)},d.prototype.iaddn=function(t){return _("number"==typeof t),_(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},d.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},d.prototype.isubn=function(t){if(_("number"==typeof t),_(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},d.prototype.addn=function(t){return this.clone().iaddn(t)},d.prototype.subn=function(t){return this.clone().isubn(t)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(t,i,o){var u;this._expand(t.length+o);var l,g=0;for(u=0;u<t.length;u++){l=(0|this.words[u+o])+g;var h=(0|t.words[u])*i;g=((l-=67108863&h)>>26)-(h/67108864|0),this.words[u+o]=67108863&l}for(;u<this.length-o;u++)g=(l=(0|this.words[u+o])+g)>>26,this.words[u+o]=67108863&l;if(0===g)return this.strip();for(_(-1===g),g=0,u=0;u<this.length;u++)g=(l=-(0|this.words[u])+g)>>26,this.words[u]=67108863&l;return this.negative=1,this.strip()},d.prototype._wordDiv=function(t,i){var o,a=this.clone(),u=t,l=0|u.words[u.length-1];0!=(o=26-this._countBits(l))&&(u=u.ushln(o),a.iushln(o),l=0|u.words[u.length-1]);var e,h=a.length-u.length;if("mod"!==i){(e=new d(null)).length=h+1,e.words=new Array(e.length);for(var f=0;f<e.length;f++)e.words[f]=0}var S=a.clone()._ishlnsubmul(u,1,h);0===S.negative&&(a=S,e&&(e.words[h]=1));for(var T=h-1;T>=0;T--){var R=67108864*(0|a.words[u.length+T])+(0|a.words[u.length+T-1]);for(R=Math.min(R/l|0,67108863),a._ishlnsubmul(u,R,T);0!==a.negative;)R--,a.negative=0,a._ishlnsubmul(u,1,T),a.isZero()||(a.negative^=1);e&&(e.words[T]=R)}return e&&e.strip(),a.strip(),"div"!==i&&0!==o&&a.iushrn(o),{div:e||null,mod:a}},d.prototype.divmod=function(t,i,o){return _(!t.isZero()),this.isZero()?{div:new d(0),mod:new d(0)}:0!==this.negative&&0===t.negative?(l=this.neg().divmod(t,i),"mod"!==i&&(a=l.div.neg()),"div"!==i&&(u=l.mod.neg(),o&&0!==u.negative&&u.iadd(t)),{div:a,mod:u}):0===this.negative&&0!==t.negative?(l=this.divmod(t.neg(),i),"mod"!==i&&(a=l.div.neg()),{div:a,mod:l.mod}):0!=(this.negative&t.negative)?(l=this.neg().divmod(t.neg(),i),"div"!==i&&(u=l.mod.neg(),o&&0!==u.negative&&u.isub(t)),{div:l.div,mod:u}):t.length>this.length||this.cmp(t)<0?{div:new d(0),mod:this}:1===t.length?"div"===i?{div:this.divn(t.words[0]),mod:null}:"mod"===i?{div:null,mod:new d(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new d(this.modn(t.words[0]))}:this._wordDiv(t,i);var a,u,l},d.prototype.div=function(t){return this.divmod(t,"div",!1).div},d.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},d.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},d.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var o=0!==i.div.negative?i.mod.isub(t):i.mod,a=t.ushrn(1),u=t.andln(1),l=o.cmp(a);return l<0||1===u&&0===l?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},d.prototype.modn=function(t){_(t<=67108863);for(var i=(1<<26)%t,o=0,a=this.length-1;a>=0;a--)o=(i*o+(0|this.words[a]))%t;return o},d.prototype.idivn=function(t){_(t<=67108863);for(var i=0,o=this.length-1;o>=0;o--){var a=(0|this.words[o])+67108864*i;this.words[o]=a/t|0,i=a%t}return this.strip()},d.prototype.divn=function(t){return this.clone().idivn(t)},d.prototype.egcd=function(t){_(0===t.negative),_(!t.isZero());var i=this,o=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var a=new d(1),u=new d(0),l=new d(0),g=new d(1),h=0;i.isEven()&&o.isEven();)i.iushrn(1),o.iushrn(1),++h;for(var e=o.clone(),f=i.clone();!i.isZero();){for(var S=0,T=1;0==(i.words[0]&T)&&S<26;++S,T<<=1);if(S>0)for(i.iushrn(S);S-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(e),u.isub(f)),a.iushrn(1),u.iushrn(1);for(var R=0,A=1;0==(o.words[0]&A)&&R<26;++R,A<<=1);if(R>0)for(o.iushrn(R);R-- >0;)(l.isOdd()||g.isOdd())&&(l.iadd(e),g.isub(f)),l.iushrn(1),g.iushrn(1);i.cmp(o)>=0?(i.isub(o),a.isub(l),u.isub(g)):(o.isub(i),l.isub(a),g.isub(u))}return{a:l,b:g,gcd:o.iushln(h)}},d.prototype._invmp=function(t){_(0===t.negative),_(!t.isZero());var S,i=this,o=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var a=new d(1),u=new d(0),l=o.clone();i.cmpn(1)>0&&o.cmpn(1)>0;){for(var g=0,h=1;0==(i.words[0]&h)&&g<26;++g,h<<=1);if(g>0)for(i.iushrn(g);g-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);for(var e=0,f=1;0==(o.words[0]&f)&&e<26;++e,f<<=1);if(e>0)for(o.iushrn(e);e-- >0;)u.isOdd()&&u.iadd(l),u.iushrn(1);i.cmp(o)>=0?(i.isub(o),a.isub(u)):(o.isub(i),u.isub(a))}return(S=0===i.cmpn(1)?a:u).cmpn(0)<0&&S.iadd(t),S},d.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),o=t.clone();i.negative=0,o.negative=0;for(var a=0;i.isEven()&&o.isEven();a++)i.iushrn(1),o.iushrn(1);for(;;){for(;i.isEven();)i.iushrn(1);for(;o.isEven();)o.iushrn(1);var u=i.cmp(o);if(u<0){var l=i;i=o,o=l}else if(0===u||0===o.cmpn(1))break;i.isub(o)}return o.iushln(a)},d.prototype.invm=function(t){return this.egcd(t).a.umod(t)},d.prototype.isEven=function(){return 0==(1&this.words[0])},d.prototype.isOdd=function(){return 1==(1&this.words[0])},d.prototype.andln=function(t){return this.words[0]&t},d.prototype.bincn=function(t){_("number"==typeof t);var i=t%26,o=(t-i)/26,a=1<<i;if(this.length<=o)return this._expand(o+1),this.words[o]|=a,this;for(var u=a,l=o;0!==u&&l<this.length;l++){var g=0|this.words[l];u=(g+=u)>>>26,this.words[l]=g&=67108863}return 0!==u&&(this.words[l]=u,this.length++),this},d.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},d.prototype.cmpn=function(t){var o,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)o=1;else{i&&(t=-t),_(t<=67108863,"Number is too big");var a=0|this.words[0];o=a===t?0:a<t?-1:1}return 0!==this.negative?0|-o:o},d.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var i=this.ucmp(t);return 0!==this.negative?0|-i:i},d.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,o=this.length-1;o>=0;o--){var a=0|this.words[o],u=0|t.words[o];if(a!==u){a<u?i=-1:a>u&&(i=1);break}}return i},d.prototype.gtn=function(t){return 1===this.cmpn(t)},d.prototype.gt=function(t){return 1===this.cmp(t)},d.prototype.gten=function(t){return this.cmpn(t)>=0},d.prototype.gte=function(t){return this.cmp(t)>=0},d.prototype.ltn=function(t){return-1===this.cmpn(t)},d.prototype.lt=function(t){return-1===this.cmp(t)},d.prototype.lten=function(t){return this.cmpn(t)<=0},d.prototype.lte=function(t){return this.cmp(t)<=0},d.prototype.eqn=function(t){return 0===this.cmpn(t)},d.prototype.eq=function(t){return 0===this.cmp(t)},d.red=function(t){return new j(t)},d.prototype.toRed=function(t){return _(!this.red,"Already a number in reduction context"),_(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},d.prototype.fromRed=function(){return _(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(t){return this.red=t,this},d.prototype.forceRed=function(t){return _(!this.red,"Already a number in reduction context"),this._forceRed(t)},d.prototype.redAdd=function(t){return _(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},d.prototype.redIAdd=function(t){return _(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},d.prototype.redSub=function(t){return _(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},d.prototype.redISub=function(t){return _(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},d.prototype.redShl=function(t){return _(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},d.prototype.redMul=function(t){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},d.prototype.redIMul=function(t){return _(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},d.prototype.redSqr=function(){return _(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return _(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return _(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return _(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return _(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(t){return _(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function w(c,t){this.name=c,this.p=new d(t,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function C(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function St(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function j(c){if("string"==typeof c){var t=d._prime(c);this.m=t.p,this.prime=t}else _(c.gtn(1),"modulus must be greater than 1"),this.m=c,this.prime=null}function Ct(c){j.call(this,c),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new d(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var o,i=t;do{this.split(i,this.tmp),o=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(o>this.n);var a=o<this.n?-1:i.ucmp(this.p);return 0===a?(i.words[0]=0,i.length=1):a>0?i.isub(this.p):i.strip(),i},w.prototype.split=function(t,i){t.iushrn(this.n,0,i)},w.prototype.imulK=function(t){return t.imul(this.k)},I(x,w),x.prototype.split=function(t,i){for(var o=4194303,a=Math.min(t.length,9),u=0;u<a;u++)i.words[u]=t.words[u];if(i.length=a,t.length<=9)return t.words[0]=0,void(t.length=1);var l=t.words[9];for(i.words[i.length++]=l&o,u=10;u<t.length;u++){var g=0|t.words[u];t.words[u-10]=(g&o)<<4|l>>>22,l=g}t.words[u-10]=l>>>=22,t.length-=0===l&&t.length>10?10:9},x.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,o=0;o<t.length;o++){var a=0|t.words[o];t.words[o]=67108863&(i+=977*a),i=64*a+(i/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},I(C,w),I(O,w),I(St,w),St.prototype.imulK=function(t){for(var i=0,o=0;o<t.length;o++){var a=19*(0|t.words[o])+i,u=67108863&a;a>>>=26,t.words[o]=u,i=a}return 0!==i&&(t.words[t.length++]=i),t},d._prime=function(t){if(b[t])return b[t];var i;if("k256"===t)i=new x;else if("p224"===t)i=new C;else if("p192"===t)i=new O;else{if("p25519"!==t)throw new Error("Unknown prime "+t);i=new St}return b[t]=i,i},j.prototype._verify1=function(t){_(0===t.negative,"red works only with positives"),_(t.red,"red works only with red numbers")},j.prototype._verify2=function(t,i){_(0==(t.negative|i.negative),"red works only with positives"),_(t.red&&t.red===i.red,"red works only with red numbers")},j.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},j.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},j.prototype.add=function(t,i){this._verify2(t,i);var o=t.add(i);return o.cmp(this.m)>=0&&o.isub(this.m),o._forceRed(this)},j.prototype.iadd=function(t,i){this._verify2(t,i);var o=t.iadd(i);return o.cmp(this.m)>=0&&o.isub(this.m),o},j.prototype.sub=function(t,i){this._verify2(t,i);var o=t.sub(i);return o.cmpn(0)<0&&o.iadd(this.m),o._forceRed(this)},j.prototype.isub=function(t,i){this._verify2(t,i);var o=t.isub(i);return o.cmpn(0)<0&&o.iadd(this.m),o},j.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},j.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},j.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},j.prototype.isqr=function(t){return this.imul(t,t.clone())},j.prototype.sqr=function(t){return this.mul(t,t)},j.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(_(i%2==1),3===i){var o=this.m.add(new d(1)).iushrn(2);return this.pow(t,o)}for(var a=this.m.subn(1),u=0;!a.isZero()&&0===a.andln(1);)u++,a.iushrn(1);_(!a.isZero());var l=new d(1).toRed(this),g=l.redNeg(),h=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new d(2*e*e).toRed(this);0!==this.pow(e,h).cmp(g);)e.redIAdd(g);for(var f=this.pow(e,a),S=this.pow(t,a.addn(1).iushrn(1)),T=this.pow(t,a),R=u;0!==T.cmp(l);){for(var A=T,L=0;0!==A.cmp(l);L++)A=A.redSqr();_(L<R);var q=this.pow(f,new d(1).iushln(R-L-1));S=S.redMul(q),f=q.redSqr(),T=T.redMul(f),R=L}return S},j.prototype.invm=function(t){var i=t._invmp(this.m);return 0!==i.negative?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},j.prototype.pow=function(t,i){if(i.isZero())return new d(1).toRed(this);if(0===i.cmpn(1))return t.clone();var a=new Array(16);a[0]=new d(1).toRed(this),a[1]=t;for(var u=2;u<a.length;u++)a[u]=this.mul(a[u-1],t);var l=a[0],g=0,h=0,e=i.bitLength()%26;for(0===e&&(e=26),u=i.length-1;u>=0;u--){for(var f=i.words[u],S=e-1;S>=0;S--){var T=f>>S&1;l!==a[0]&&(l=this.sqr(l)),0!==T||0!==g?(g<<=1,g|=T,(4==++h||0===u&&0===S)&&(l=this.mul(l,a[g]),h=0,g=0)):h=0}e=26}return l},j.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},j.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},d.mont=function(t){return new Ct(t)},I(Ct,j),Ct.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Ct.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},Ct.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var o=t.imul(i),a=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=o.isub(a).iushrn(this.shift),l=u;return u.cmp(this.m)>=0?l=u.isub(this.m):u.cmpn(0)<0&&(l=u.iadd(this.m)),l._forceRed(this)},Ct.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new d(0)._forceRed(this);var o=t.mul(i),a=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=o.isub(a).iushrn(this.shift),l=u;return u.cmp(this.m)>=0?l=u.isub(this.m):u.cmpn(0)<0&&(l=u.iadd(this.m)),l._forceRed(this)},Ct.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(kt=B.nmd(kt),this)},37167:(kt,k)=>{"use strict";function B(Et){let Tt;return"undefined"!=typeof window&&void 0!==window[Et]&&(Tt=window[Et]),Tt}function z(Et){const Tt=B(Et);if(!Tt)throw new Error(`${Et} is not defined in Window`);return Tt}Object.defineProperty(k,"__esModule",{value:!0}),k.getLocalStorage=k.getLocalStorageOrThrow=k.getCrypto=k.getCryptoOrThrow=k.getLocation=k.getLocationOrThrow=k.getNavigator=k.getNavigatorOrThrow=k.getDocument=k.getDocumentOrThrow=k.getFromWindowOrThrow=k.getFromWindow=void 0,k.getFromWindow=B,k.getFromWindowOrThrow=z,k.getDocumentOrThrow=function(){return z("document")},k.getDocument=function(){return B("document")},k.getNavigatorOrThrow=function(){return z("navigator")},k.getNavigator=function(){return B("navigator")},k.getLocationOrThrow=function(){return z("location")},k.getLocation=function(){return B("location")},k.getCryptoOrThrow=function(){return z("crypto")},k.getCrypto=function(){return B("crypto")},k.getLocalStorageOrThrow=function(){return z("localStorage")},k.getLocalStorage=function(){return B("localStorage")}},78359:(kt,k,B)=>{"use strict";k.D=void 0;const E=B(37167);k.D=function(){let I,d;try{I=E.getDocumentOrThrow(),d=E.getLocationOrThrow()}catch{return null}function Ot(...xt){const v=I.getElementsByTagName("meta");for(let y=0;y<v.length;y++){const b=v[y],w=["itemprop","property","name"].map(x=>b.getAttribute(x)).filter(x=>!!x&&xt.includes(x));if(w.length&&w){const x=b.getAttribute("content");if(x)return x}}return""}const Nt=function(){let xt=Ot("name","og:site_name","og:title","twitter:title");return xt||(xt=I.title),xt}();return{description:Ot("description","og:description","twitter:description","keywords"),url:d.origin,icons:function(){const xt=I.getElementsByTagName("link"),v=[];for(let y=0;y<xt.length;y++){const b=xt[y],w=b.getAttribute("rel");if(w&&w.toLowerCase().indexOf("icon")>-1){const x=b.getAttribute("href");if(x)if(-1===x.toLowerCase().indexOf("https:")&&-1===x.toLowerCase().indexOf("http:")&&0!==x.indexOf("//")){let C=d.protocol+"//"+d.host;if(0===x.indexOf("/"))C+=x;else{const O=d.pathname.split("/");O.pop(),C+=O.join("/")+"/"+x}v.push(C)}else 0===x.indexOf("//")?v.push(d.protocol+x):v.push(x)}}return v}(),name:Nt}}},16658:kt=>{kt.exports=z,z.strict=E,z.loose=_;var k=Object.prototype.toString,B={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function z(I){return E(I)||_(I)}function E(I){return I instanceof Int8Array||I instanceof Int16Array||I instanceof Int32Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Uint16Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array}function _(I){return B[k.call(I)]}},45703:(kt,k,B)=>{"use strict";const z=B(82915),E=B(65361),_=B(95967);function Ot(v){if("string"!=typeof v||1!==v.length)throw new TypeError("arrayFormatSeparator must be single character string")}function Z(v,y){return y.encode?y.strict?z(v):encodeURIComponent(v):v}function It(v,y){return y.decode?E(v):v}function Nt(v){return Array.isArray(v)?v.sort():"object"==typeof v?Nt(Object.keys(v)).sort((y,b)=>Number(y)-Number(b)).map(y=>v[y]):v}function Bt(v){const y=v.indexOf("#");return-1!==y&&(v=v.slice(0,y)),v}function Tt(v){const y=(v=Bt(v)).indexOf("?");return-1===y?"":v.slice(y+1)}function Ut(v,y){return y.parseNumbers&&!Number.isNaN(Number(v))&&"string"==typeof v&&""!==v.trim()?v=Number(v):y.parseBooleans&&null!==v&&("true"===v.toLowerCase()||"false"===v.toLowerCase())&&(v="true"===v.toLowerCase()),v}function xt(v,y){Ot((y=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},y)).arrayFormatSeparator);const b=function(v){let y;switch(v.arrayFormat){case"index":return(b,w,x)=>{y=/\[(\d*)\]$/.exec(b),b=b.replace(/\[\d*\]$/,""),y?(void 0===x[b]&&(x[b]={}),x[b][y[1]]=w):x[b]=w};case"bracket":return(b,w,x)=>{y=/(\[\])$/.exec(b),x[b=b.replace(/\[\]$/,"")]=y?void 0!==x[b]?[].concat(x[b],w):[w]:w};case"comma":case"separator":return(b,w,x)=>{const O="string"==typeof w&&w.split("").indexOf(v.arrayFormatSeparator)>-1?w.split(v.arrayFormatSeparator).map(St=>It(St,v)):null===w?w:It(w,v);x[b]=O};default:return(b,w,x)=>{x[b]=void 0!==x[b]?[].concat(x[b],w):w}}}(y),w=Object.create(null);if("string"!=typeof v||!(v=v.trim().replace(/^[?#&]/,"")))return w;for(const x of v.split("&")){let[C,O]=_(y.decode?x.replace(/\+/g," "):x,"=");O=void 0===O?null:["comma","separator"].includes(y.arrayFormat)?O:It(O,y),b(It(C,y),O,w)}for(const x of Object.keys(w)){const C=w[x];if("object"==typeof C&&null!==C)for(const O of Object.keys(C))C[O]=Ut(C[O],y);else w[x]=Ut(C,y)}return!1===y.sort?w:(!0===y.sort?Object.keys(w).sort():Object.keys(w).sort(y.sort)).reduce((x,C)=>{const O=w[C];return x[C]=Boolean(O)&&"object"==typeof O&&!Array.isArray(O)?Nt(O):O,x},Object.create(null))}k.extract=Tt,k.parse=xt,k.stringify=(v,y)=>{if(!v)return"";Ot((y=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},y)).arrayFormatSeparator);const b=O=>y.skipNull&&(v=>null==v)(v[O])||y.skipEmptyString&&""===v[O],w=function(v){switch(v.arrayFormat){case"index":return y=>(b,w)=>{const x=b.length;return void 0===w||v.skipNull&&null===w||v.skipEmptyString&&""===w?b:null===w?[...b,[Z(y,v),"[",x,"]"].join("")]:[...b,[Z(y,v),"[",Z(x,v),"]=",Z(w,v)].join("")]};case"bracket":return y=>(b,w)=>void 0===w||v.skipNull&&null===w||v.skipEmptyString&&""===w?b:null===w?[...b,[Z(y,v),"[]"].join("")]:[...b,[Z(y,v),"[]=",Z(w,v)].join("")];case"comma":case"separator":return y=>(b,w)=>null==w||0===w.length?b:0===b.length?[[Z(y,v),"=",Z(w,v)].join("")]:[[b,Z(w,v)].join(v.arrayFormatSeparator)];default:return y=>(b,w)=>void 0===w||v.skipNull&&null===w||v.skipEmptyString&&""===w?b:null===w?[...b,Z(y,v)]:[...b,[Z(y,v),"=",Z(w,v)].join("")]}}(y),x={};for(const O of Object.keys(v))b(O)||(x[O]=v[O]);const C=Object.keys(x);return!1!==y.sort&&C.sort(y.sort),C.map(O=>{const St=v[O];return void 0===St?"":null===St?Z(O,y):Array.isArray(St)?St.reduce(w(O),[]).join("&"):Z(O,y)+"="+Z(St,y)}).filter(O=>O.length>0).join("&")},k.parseUrl=(v,y)=>{y=Object.assign({decode:!0},y);const[b,w]=_(v,"#");return Object.assign({url:b.split("?")[0]||"",query:xt(Tt(v),y)},y&&y.parseFragmentIdentifier&&w?{fragmentIdentifier:It(w,y)}:{})},k.stringifyUrl=(v,y)=>{y=Object.assign({encode:!0,strict:!0},y);const b=Bt(v.url).split("?")[0]||"",w=k.extract(v.url),x=k.parse(w,{sort:!1}),C=Object.assign(x,v.query);let O=k.stringify(C,y);O&&(O=`?${O}`);let St=function(v){let y="";const b=v.indexOf("#");return-1!==b&&(y=v.slice(b)),y}(v.url);return v.fragmentIdentifier&&(St=`#${Z(v.fragmentIdentifier,y)}`),`${b}${O}${St}`}},15343:(kt,k,B)=>{var z=B(16658).strict;kt.exports=function(_){if(z(_)){var I=Buffer.from(_.buffer);return _.byteLength!==_.buffer.byteLength&&(I=I.slice(_.byteOffset,_.byteOffset+_.byteLength)),I}return Buffer.from(_)}},36563:()=>{}}]);