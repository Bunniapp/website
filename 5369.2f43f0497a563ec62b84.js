(self.webpackChunktimeless_frontend=self.webpackChunktimeless_frontend||[]).push([[5369],{15527:(j,C,c)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.ComposedStore=void 0;const o=c(36812);C.ComposedStore=class extends o.ObservableStore{constructor(a){super({}),this._children=a||{},Object.keys(this._children).forEach(f=>{this._addChild(f,this._children[f])})}_addChild(a,f){const h=m=>{const w=this.getState();w[a]=m,this.putState(w)};f.subscribe(h),h(f.getState())}}},32053:(j,C,c)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.MergedStore=void 0;const o=c(36812);C.MergedStore=class extends o.ObservableStore{constructor(a=[]){super({}),this._children=a,a.forEach(f=>this._addChild(f)),this._updateWholeState()}_addChild(a){a.subscribe(()=>this._updateWholeState())}_updateWholeState(){const a=this._children.map(h=>h.getState()),f=Object.assign({},...a);this.putState(f)}}},36812:function(j,C,c){"use strict";var o=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(C,"__esModule",{value:!0}),C.ObservableStore=void 0;const O=o(c(14521));C.ObservableStore=class extends O.default{constructor(f){super(),this._state=f||{}}getState(){return this._getState()}putState(f){this._putState(f),this.emit("update",f)}updateState(f){if(f&&"object"==typeof f){const h=this.getState();this.putState(Object.assign(Object.assign({},h),f))}else this.putState(f)}subscribe(f){this.on("update",f)}unsubscribe(f){this.removeListener("update",f)}_getState(){return this._state}_putState(f){this._state=f}}},91905:(j,C,c)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.storeAsStream=void 0;const o=c(36917);class O extends o.Duplex{constructor(f){super({objectMode:!0}),this.resume(),this.handler=h=>this.push(h),this.obsStore=f,this.obsStore.subscribe(this.handler)}pipe(f,h){const m=super.pipe(f,h);return f.write(this.obsStore.getState()),m}_write(f,h,m){this.obsStore.putState(f),m()}_read(f){}_destroy(f,h){this.obsStore.unsubscribe(this.handler),super._destroy(f,h)}}C.storeAsStream=function(a){return new O(a)}},16177:function(j,C,c){"use strict";var o=this&&this.__createBinding||(Object.create?function(v,a,f,h){void 0===h&&(h=f),Object.defineProperty(v,h,{enumerable:!0,get:function(){return a[f]}})}:function(v,a,f,h){void 0===h&&(h=f),v[h]=a[f]}),O=this&&this.__exportStar||function(v,a){for(var f in v)"default"!==f&&!Object.prototype.hasOwnProperty.call(a,f)&&o(a,v,f)};Object.defineProperty(C,"__esModule",{value:!0}),O(c(91905),C),O(c(15527),C),O(c(32053),C),O(c(36812),C),O(c(58503),C)},58503:(j,C,c)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.storeTransformStream=void 0;const o=c(73529);C.storeTransformStream=function(v){return o.obj((a,f,h)=>{try{return void h(null,v(a))}catch(m){return void h(m)}})}},17510:function(j,C,c){var o,O;!function(v,a){"use strict";void 0!==(O="function"==typeof(o=function(){var v=function(){},a="undefined",f=typeof window!==a&&typeof window.navigator!==a&&/Trident\/|MSIE /.test(window.navigator.userAgent),h=["trace","debug","info","warn","error"];function m(D,g){var E=D[g];if("function"==typeof E.bind)return E.bind(D);try{return Function.prototype.bind.call(E,D)}catch{return function(){return Function.prototype.apply.apply(E,[D,arguments])}}}function w(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function M(D){return"debug"===D&&(D="log"),typeof console!==a&&("trace"===D&&f?w:void 0!==console[D]?m(console,D):void 0!==console.log?m(console,"log"):v)}function U(D,g){for(var E=0;E<h.length;E++){var S=h[E];this[S]=E<D?v:this.methodFactory(S,D,g)}this.log=this.debug}function q(D,g,E){return function(){typeof console!==a&&(U.call(this,g,E),this[D].apply(this,arguments))}}function X(D,g,E){return M(D)||q.apply(this,arguments)}function b(D,g,E){var te,S=this;g=g??"WARN";var F="loglevel";function me(){var H;if(typeof window!==a&&F){try{H=window.localStorage[F]}catch{}if(typeof H===a)try{var oe=window.document.cookie,le=oe.indexOf(encodeURIComponent(F)+"=");-1!==le&&(H=/^([^;]+)/.exec(oe.slice(le))[1])}catch{}return void 0===S.levels[H]&&(H=void 0),H}}"string"==typeof D?F+=":"+D:"symbol"==typeof D&&(F=void 0),S.name=D,S.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},S.methodFactory=E||X,S.getLevel=function(){return te},S.setLevel=function(H,oe){if("string"==typeof H&&void 0!==S.levels[H.toUpperCase()]&&(H=S.levels[H.toUpperCase()]),!("number"==typeof H&&H>=0&&H<=S.levels.SILENT))throw"log.setLevel() called with invalid level: "+H;if(te=H,!1!==oe&&function(H){var oe=(h[H]||"silent").toUpperCase();if(typeof window!==a&&F){try{return void(window.localStorage[F]=oe)}catch{}try{window.document.cookie=encodeURIComponent(F)+"="+oe+";"}catch{}}}(H),U.call(S,H,D),typeof console===a&&H<S.levels.SILENT)return"No console available for logging"},S.setDefaultLevel=function(H){g=H,me()||S.setLevel(H,!1)},S.resetLevel=function(){S.setLevel(g,!1),function(){if(typeof window!==a&&F){try{return void window.localStorage.removeItem(F)}catch{}try{window.document.cookie=encodeURIComponent(F)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}()},S.enableAll=function(H){S.setLevel(S.levels.TRACE,H)},S.disableAll=function(H){S.setLevel(S.levels.SILENT,H)};var ye=me();null==ye&&(ye=g),S.setLevel(ye,!1)}var B=new b,k={};B.getLogger=function(g){if("symbol"!=typeof g&&"string"!=typeof g||""===g)throw new TypeError("You must supply a name when creating a logger.");var E=k[g];return E||(E=k[g]=new b(g,B.getLevel(),B.methodFactory)),E};var ee=typeof window!==a?window.log:void 0;return B.noConflict=function(){return typeof window!==a&&window.log===B&&(window.log=ee),B},B.getLoggers=function(){return k},B.default=B,B})?o.call(C,c,C,j):o)&&(j.exports=O)}()},15369:(j,C,c)=>{"use strict";c.r(C),c.d(C,{BUTTON_POSITION:()=>$e,LOGIN_PROVIDER:()=>ot,PAYMENT_PROVIDER:()=>he,SUPPORTED_PAYMENT_NETWORK:()=>pe,TORUS_BUILD_ENV:()=>or,TorusInpageProvider:()=>Mt,WALLET_OPENLOGIN_VERIFIER_MAP:()=>Gt,WALLET_VERIFIERS:()=>Fe,default:()=>gn});var o=c(8239);function a(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var f=c(41413),h=c.n(f),m=c(17510);function M(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function U(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?M(Object(e),!0).forEach(function(r){a(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):M(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}const q=c.n(m)().getLogger("http-helpers");q.setLevel(m.levels.INFO);let X="torus-default";function H(n,t){return oe.apply(this,arguments)}function oe(){return(oe=(0,o.Z)(function*(n,t){let e=null;try{e=new URL(n)}catch{}return fetch(n,t)})).apply(this,arguments)}function le(){const n={};return X&&(n["x-api-key"]=X),n}function ve(n){q.info(`Response: ${n.status} ${n.statusText}`),q.info(`Url: ${n.url}`)}const P=function(){var n=(0,o.Z)(function*(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i={mode:"cors",headers:{}};r.useAPIKey&&(i.headers=U(U({},i.headers),le()));const l=h()(i,e,{method:"GET"}),y=yield H(t,l);if(y.ok)return y.json();throw ve(y),y});return function(e){return n.apply(this,arguments)}}();function $(n){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Y(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function fe(n,t,e){return t&&ie(n.prototype,t),e&&ie(n,e),n}function re(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function de(n,t){return(de=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r})(n,t)}function s(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&de(n,t)}function u(n,t){return!t||"object"!==$(t)&&"function"!=typeof t?re(n):t}function T(n){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(n)}var x=c(18300),ne=c(88774),G=c.n(ne),Q=c(16589),Ne=c.n(Q);function Be(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pe(n,t,e){return(Pe=Be()?Reflect.construct:function(i,l,y){var _=[null];_.push.apply(_,l);var N=new(Function.bind.apply(i,_));return y&&de(N,y.prototype),N}).apply(null,arguments)}function Oe(n){var t="function"==typeof Map?new Map:void 0;return(Oe=function(r){if(null===r||!function(n){return-1!==Function.toString.call(n).indexOf("[native code]")}(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return Pe(r,arguments,T(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),de(i,r)})(n)}var Ue=c(37092),je=c.n(Ue),Me=c(25229),Te=c.n(Me);URL,je(),Te();var Xe=c(93105),lt=c(47300),ct=c.n(lt);function Je(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function Ve(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var y,_,r=[],i=!0,l=!1;try{for(e=e.call(n);!(i=(y=e.next()).done)&&(r.push(y.value),!t||r.length!==t);i=!0);}catch(L){l=!0,_=L}finally{try{!i&&null!=e.return&&e.return()}finally{if(l)throw _}}return r}}(n,t)||function(n,t){if(n){if("string"==typeof n)return Je(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Je(n,t)}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ce=c(56396),gt=c(75859),qe=c.n(gt),yt=c(99318),mt=c.n(yt),vt=c(30968),We=c.n(vt);function He(){}var tt=function(n){s(e,n);var t=function(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,r=T(n);if(t){var l=T(this).constructor;i=Reflect.construct(r,arguments,l)}else i=r.apply(this,arguments);return u(this,i)}}(e);function e(r){var i,l=r.name,y=r.target,_=r.targetWindow,L=void 0===_?window:_,N=r.targetOrigin,I=void 0===N?"*":N;if(Y(this,e),a(re(i=t.call(this,{objectMode:!0})),"_init",void 0),a(re(i),"_haveSyn",void 0),a(re(i),"_name",void 0),a(re(i),"_target",void 0),a(re(i),"_targetWindow",void 0),a(re(i),"_targetOrigin",void 0),a(re(i),"_onMessage",void 0),a(re(i),"_synIntervalId",void 0),!l||!y)throw new Error("Invalid input.");return i._init=!1,i._haveSyn=!1,i._name=l,i._target=y,i._targetWindow=L,i._targetOrigin=I,i._onMessage=i.onMessage.bind(re(i)),i._synIntervalId=null,window.addEventListener("message",i._onMessage,!1),i._handShake(),i}return fe(e,[{key:"_break",value:function(){this.cork(),this._write("BRK",null,He),this._haveSyn=!1,this._init=!1}},{key:"_handShake",value:function(){this._write("SYN",null,He),this.cork()}},{key:"_onData",value:function(i){if(this._init)if("BRK"===i)this._break();else try{this.push(i)}catch(l){this.emit("error",l)}else"SYN"===i?(this._haveSyn=!0,this._write("ACK",null,He)):"ACK"===i&&(this._init=!0,this._haveSyn||this._write("ACK",null,He),this.uncork())}},{key:"_postMessage",value:function(i){this._targetWindow.postMessage({target:this._target,data:i},this._targetOrigin)}},{key:"onMessage",value:function(i){var l=i.data;"*"!==this._targetOrigin&&i.origin!==this._targetOrigin||i.source!==this._targetWindow||"object"!==$(l)||l.target!==this._name||!l.data||this._onData(l.data)}},{key:"_read",value:function(){}},{key:"_write",value:function(i,l,y){this._postMessage(i),y()}},{key:"_destroy",value:function(){window.removeEventListener("message",this._onMessage,!1)}}]),e}(x.Duplex);function rt(n,t,e){try{Reflect.apply(n,t,e)}catch(r){setTimeout(function(){throw r})}}function Ct(n){for(var t=n.length,e=new Array(t),r=0;r<t;r+=1)e[r]=n[r];return e}var Ke=function(n){s(e,n);var t=function(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,r=T(n);if(t){var l=T(this).constructor;i=Reflect.construct(r,arguments,l)}else i=r.apply(this,arguments);return u(this,i)}}(e);function e(){return Y(this,e),t.apply(this,arguments)}return fe(e,[{key:"emit",value:function(i){var l="error"===i,y=this._events;if(void 0!==y)l=l&&void 0===y.error;else if(!l)return!1;for(var _=arguments.length,L=new Array(_>1?_-1:0),N=1;N<_;N++)L[N-1]=arguments[N];if(l){var I;if(L.length>0&&(I=L[0]),I instanceof Error)throw I;var K=new Error("Unhandled error.".concat(I?" (".concat(I.message,")"):""));throw K.context=I,K}var z=y[i];if(void 0===z)return!1;if("function"==typeof z)rt(z,this,L);else for(var J=z.length,Z=Ct(z),se=0;se<J;se+=1)rt(Z[se],this,L);return!0}}]),e}(Xe.EventEmitter);var Ae=function(n){s(e,n);var t=function(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,r=T(n);if(t){var l=T(this).constructor;i=Reflect.construct(r,arguments,l)}else i=r.apply(this,arguments);return u(this,i)}}(e);function e(r){var i,l=r.code,y=r.message,_=r.data;if(Y(this,e),!Number.isInteger(l))throw new Error("code must be an integer");if(!y||"string"!=typeof y)throw new Error("message must be string");return a(re(i=t.call(this,y)),"code",void 0),a(re(i),"data",void 0),i.code=l,void 0!==_&&(i.data=_),i}return fe(e,[{key:"toString",value:function(){return ct()({code:this.code,message:this.message,data:this.data,stack:this.stack})}}]),e}(Oe(Error));function nt(n,t){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function(n,t){if(n){if("string"==typeof n)return it(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return it(n,t)}}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(N){throw N},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _,l=!0,y=!1;return{s:function(){e=e.call(n)},n:function(){var N=e.next();return l=N.done,N},e:function(N){y=!0,_=N},f:function(){try{!l&&null!=e.return&&e.return()}finally{if(y)throw _}}}}function it(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function qt(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Er(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(e),!0).forEach(function(r){a(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):qt(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}var Qt=function(n){s(e,n);var r,t=function(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,r=T(n);if(t){var l=T(this).constructor;i=Reflect.construct(r,arguments,l)}else i=r.apply(this,arguments);return u(this,i)}}(e);function e(){var r;return Y(this,e),a(re(r=t.call(this)),"_middleware",void 0),r._middleware=[],r}return fe(e,[{key:"push",value:function(i){this._middleware.push(i)}},{key:"handle",value:function(i,l){if(l&&"function"!=typeof l)throw new Error('"callback" must be a function if provided.');return Array.isArray(i)?l?this._handleBatch(i,l):this._handleBatch(i):l?this._handle(i,l):this._promiseHandle(i)}},{key:"asMiddleware",value:function(){var i=this;return function(){var l=(0,o.Z)(G().mark(function y(_,L,N,I){var z,J,se;return G().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.prev=0,ae.next=3,e._runAllMiddleware(_,L,i._middleware);case 3:if(z=Ve(ae.sent,3),J=z[0],se=z[2],!z[1]){ae.next=12;break}return ae.next=11,e._runReturnHandlers(se);case 11:return ae.abrupt("return",I(J));case 12:return ae.abrupt("return",N(function(){var ce=(0,o.Z)(G().mark(function Vt(Zt){return G().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return be.prev=0,be.next=3,e._runReturnHandlers(se);case 3:be.next=8;break;case 5:return be.prev=5,be.t0=be.catch(0),be.abrupt("return",Zt(be.t0));case 8:return be.abrupt("return",Zt());case 9:case"end":return be.stop()}},Vt,null,[[0,5]])}));return function(Vt){return ce.apply(this,arguments)}}()));case 15:return ae.prev=15,ae.t0=ae.catch(0),ae.abrupt("return",I(ae.t0));case 18:case"end":return ae.stop()}},y,null,[[0,15]])}));return function(y,_,L,N){return l.apply(this,arguments)}}()}},{key:"_handleBatch",value:(r=(0,o.Z)(G().mark(function l(y,_){var L;return G().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,I.next=3,Promise.all(y.map(this._promiseHandle.bind(this)));case 3:if(L=I.sent,!_){I.next=6;break}return I.abrupt("return",_(null,L));case 6:return I.abrupt("return",L);case 9:if(I.prev=9,I.t0=I.catch(0),!_){I.next=13;break}return I.abrupt("return",_(I.t0));case 13:throw I.t0;case 14:case"end":return I.stop()}},l,this,[[0,9]])})),function(l,y){return r.apply(this,arguments)})},{key:"_promiseHandle",value:function(i){var l=this;return new Promise(function(y){l._handle(i,function(_,L){y(L)})})}},{key:"_handle",value:function(){var r=(0,o.Z)(G().mark(function l(y,_){var L,N,I,K,z;return G().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(y&&!Array.isArray(y)&&"object"===$(y)){Z.next=3;break}return L=new Ae({code:-32603,message:"request must be plain object"}),Z.abrupt("return",_(L,{id:void 0,jsonrpc:"2.0",error:L}));case 3:if("string"==typeof y.method){Z.next=6;break}return N=new Ae({code:-32603,message:"method must be string"}),Z.abrupt("return",_(N,{id:y.id,jsonrpc:"2.0",error:N}));case 6:return I=Er({},y),K={id:I.id,jsonrpc:I.jsonrpc},z=null,Z.prev=9,Z.next=12,this._processRequest(I,K);case 12:Z.next=17;break;case 14:Z.prev=14,Z.t0=Z.catch(9),z=Z.t0;case 17:return z&&(delete K.result,K.error||(K.error=(0,Ce.serializeError)(z))),Z.abrupt("return",_(z,K));case 19:case"end":return Z.stop()}},l,this,[[9,14]])}));return function(l,y){return r.apply(this,arguments)}}()},{key:"_processRequest",value:function(){var r=(0,o.Z)(G().mark(function l(y,_){var N,I,z;return G().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,e._runAllMiddleware(y,_,this._middleware);case 2:return N=Ve(Z.sent,3),I=N[0],z=N[2],e._checkForCompletion(y,_,N[1]),Z.next=10,e._runReturnHandlers(z);case 10:if(!I){Z.next=12;break}throw I;case 12:case"end":return Z.stop()}},l,this)}));return function(l,y){return r.apply(this,arguments)}}()}],[{key:"_runAllMiddleware",value:function(){var r=(0,o.Z)(G().mark(function l(y,_,L){var N,I,K,z,J,Z,ge;return G().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:N=[],I=null,K=!1,z=nt(L),ce.prev=4,z.s();case 6:if((J=z.n()).done){ce.next=18;break}return Z=J.value,ce.next=10,e._runMiddleware(y,_,Z,N);case 10:if(ge=Ve(ce.sent,2),I=ge[0],!(K=ge[1])){ce.next=16;break}return ce.abrupt("break",18);case 16:ce.next=6;break;case 18:ce.next=23;break;case 20:ce.prev=20,ce.t0=ce.catch(4),z.e(ce.t0);case 23:return ce.prev=23,z.f(),ce.finish(23);case 26:return ce.abrupt("return",[I,K,N.reverse()]);case 27:case"end":return ce.stop()}},l,null,[[4,20,23,26]])}));return function(l,y,_){return r.apply(this,arguments)}}()},{key:"_runMiddleware",value:function(i,l,y,_){return new Promise(function(L){var N=function(z){var J=z||l.error;J&&(l.error=(0,Ce.serializeError)(J)),L([J,!0])};try{y(i,l,function(z){l.error?N(l.error):(z&&("function"!=typeof z&&N(new Ae({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),_.push(z)),L([null,!1]))},N)}catch(K){N(K)}})}},{key:"_runReturnHandlers",value:function(){var r=(0,o.Z)(G().mark(function l(y){var _,L,N;return G().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:_=nt(y),K.prev=1,N=G().mark(function z(){var J;return G().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return J=L.value,se.next=3,new Promise(function(ge,ae){J(function(ce){return ce?ae(ce):ge()})});case 3:case"end":return se.stop()}},z)}),_.s();case 4:if((L=_.n()).done){K.next=8;break}return K.delegateYield(N(),"t0",6);case 6:K.next=4;break;case 8:K.next=13;break;case 10:K.prev=10,K.t1=K.catch(1),_.e(K.t1);case 13:return K.prev=13,_.f(),K.finish(13);case 16:case"end":return K.stop()}},l,null,[[1,10,13,16]])}));return function(l){return r.apply(this,arguments)}}()},{key:"_checkForCompletion",value:function(i,l,y){if(!("result"in l)&&!("error"in l))throw new Ae({code:-32603,message:"Response has no error or result for request"});if(!y)throw new Ae({code:-32603,message:"Nothing ended request"})}}]),e}(Ke);var Pr=function(n){s(e,n);var t=function(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,r=T(n);if(t){var l=T(this).constructor;i=Reflect.construct(r,arguments,l)}else i=r.apply(this,arguments);return u(this,i)}}(e);function e(r){var i,l=r.parent,y=r.name;return Y(this,e),a(re(i=t.call(this,{objectMode:!0})),"_parent",void 0),a(re(i),"_name",void 0),i._parent=l,i._name=y,i}return fe(e,[{key:"_read",value:function(){}},{key:"_write",value:function(i,l,y){this._parent.push({name:this._name,data:i}),y()}}]),e}(x.Duplex);function er(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function tr(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?er(Object(e),!0).forEach(function(r){a(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):er(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}var rr=Symbol("IGNORE_SUBSTREAM"),nr=function(n){s(e,n);var t=function(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,r=T(n);if(t){var l=T(this).constructor;i=Reflect.construct(r,arguments,l)}else i=r.apply(this,arguments);return u(this,i)}}(e);function e(){var r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Y(this,e),a(re(r=t.call(this,tr(tr({},i),{},{objectMode:!0}))),"_substreams",void 0),a(re(r),"getStream",void 0),r._substreams={},r}return fe(e,[{key:"createStream",value:function(i){if(!i)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[i])throw new Error('ObjectMultiplex - Substream for name "'.concat(i,'" already exists'));var l=new Pr({parent:this,name:i});return this._substreams[i]=l,function(n,t){var e=mt()(function(y){return l.destroy(y||void 0)});qe()(n,{readable:!1},e),qe()(n,{writable:!1},e)}(this),l}},{key:"ignoreStream",value:function(i){if(!i)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[i])throw new Error('ObjectMultiplex - Substream for name "'.concat(i,'" already exists'));this._substreams[i]=rr}},{key:"_read",value:function(){}},{key:"_write",value:function(i,l,y){var _=i.name,L=i.data;if(!_)return window.console.warn('ObjectMultiplex - malformed chunk without name "'.concat(i,'"')),y();var N=this._substreams[_];return N?(N!==rr&&N.push(L),y()):(window.console.warn('ObjectMultiplex - orphaned data for stream "'.concat(_,'"')),y())}}]),e}(x.Duplex),ir=c(16177),kr=c(95439),Br=c.n(kr),Ur=c(78936),jr=c(58330),xr=c.n(jr),Wr=c(12506),Hr=c.n(Wr);const ot={GOOGLE:"google",FACEBOOK:"facebook",TWITCH:"twitch",REDDIT:"reddit",DISCORD:"discord"},Fe={GOOGLE:"google",FACEBOOK:"facebook",TWITCH:"twitch",REDDIT:"reddit",DISCORD:"discord",EMAIL_PASSWORDLESS:"torus-auth0-email-passwordless"},Gt={[Fe.GOOGLE]:"tkey-google",[Fe.FACEBOOK]:"tkey-facebook",[Fe.TWITCH]:"tkey-twitch",[Fe.REDDIT]:"tkey-reddit",[Fe.DISCORD]:"tkey-discord",[Fe.EMAIL_PASSWORDLESS]:"tkey-auth0-email-passwordless"},he={MOONPAY:"moonpay",WYRE:"wyre",RAMPNETWORK:"rampnetwork",XANPOOL:"xanpool",MERCURYO:"mercuryo",TRANSAK:"transak",BANXA:"banxa"},pe={MAINNET:"mainnet",MATIC:"matic",BSC_MAINNET:"bsc_mainnet",AVALANCHE_MAINNET:"avalanche_mainnet",XDAI:"xdai"},or={PRODUCTION:"production",DEVELOPMENT:"development",BINANCE:"binance",TESTING:"testing",LRC:"lrc",BETA:"beta",BNB:"bnb",POLYGON:"polygon"},$e={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},Fr={[he.MOONPAY]:["AUD","BGN","BRL","CAD","CHF","CNY","COP","CZK","DKK","DOP","EGP","EUR","GBP","HKD","HRK","IDR","ILS","JPY","JOD","KES","KRW","KWD","LKR","MAD","MXN","MYR","NGN","NOK","NZD","OMR","PEN","PKR","PLN","RON","RUB","SEK","SGD","THB","TRY","TWD","USD","VND","ZAR"],[he.WYRE]:["USD","EUR","GBP","AUD","CAD","NZD","ARS","BRL","CHF","CLP","COP","CZK","DKK","HKD","ILS","INR","ISK","JPY","KRW","MXN","MYR","NOK","PHP","PLN","SEK","THB","VND","ZAR"],[he.RAMPNETWORK]:["USD","EUR","GBP"],[he.XANPOOL]:["SGD","HKD","THB","PHP","INR","IDR","MYR","AUD","NZD","KRW"],[he.MERCURYO]:["EUR","USD","GBP","TRY","JPY","BRL","NGN","VND","MXN","KRW"],[he.TRANSAK]:["ARS","AUD","BBD","BGN","BMD","BRL","CAD","CHF","CLP","CRC","CZK","DKK","DOP","EUR","FJD","FKP","GBP","GIP","HRK","HUF","IDR","ILS","ISK","JMD","JPY","KES","KRW","MDL","MXN","MYR","NOK","NZD","PEN","PHP","PLN","PYG","RON","SEK","SGD","THB","TRY","TZS","USD","ZAR"],[he.BANXA]:["EUR","GBP","USD"]},Vr=new Set(["ETH","USDT","USDC","TUSD","EOSDT","USD","DAI","GUSD","DKKT","PAX","ILS","RUB","BYN","EUR","GBP","JPY","KRW","PLN","MXN","AUD","BRL","CAD","CHF","KPW","LAK","LBP","LKR","XOF","CNHT","DOGE","UAH","TRY","HKD","XJP","SGD","USC","NZD","NGN","RUR","COP","GHS","EGP","IDR","BHD","CRC","PEN","AED","DOP","PKR","HUF","VND","XAR","LTC","RON","OMR","MYR","DKK","UGX","ZMW","SAR","SEK","GEL","RWF","IRR","TZS","CNY","VEF","BDT","HRK","CLP","THB","XAF","ARS","UYU","SZL","KZT","NOK","KES","PAB","INR","CZK","MAD","TWD","PHP","ZAR","BOB","CDF","DASH","VES","ISK","MWK","BAM","TTD","XRP","JOD","RSD","HNL","BGN","GTQ","BWP","XMR","MMK","QAR","AOA","KWD","MUR","WUSD","WEUR","WAVES","WTRY","LRD","LSL","LYD","AWG","MDL","BTO","EURS","CHFT","MKD","MNT","MOP","MRO","MVR","VOLLAR","CKUSD","KHR","VUV","BITCNY","QC","BBD","NAD","NPR","PGK","PYG","BIF","BMD","BND","XLM","BNB","SCR","BAT","CRO","HT","KCS","LEO","LINK","MKR","NPXS","OMG","REP","ZB","ZIL","ZRX","BCH","BZD","CUP","CVE","DJF","DZD","ERN","ETB","FJD","FKP","BUSD","ANCT","ALL","AMD","ANG","CNYX","IQD","UZS","TND","GGP","XAU","KGS","GIP","JMD","ZEC","USDP","BSV","EMC2","SNT","GTO","POWR","EUSD","EURT","BCY","BTS","ATM","BLOCKPAY","ARDR","AMP","B2X","BITGOLD","BITEUR","ATB","BITUSD","AGRS","DFXT","HIKEN","BIX","KNC","EOS","COB","COSS","BMH","NANO","BDG","BNT","XVG","LKK1Y","LKK","USDK","EURN","NZDT","JSE","GMD","GNF","GYD","YER","XPF","HTG","SLL","SOS","WST","SVC","SYP","NEO","KMF","JUMP","AYA","BLAST","WGR","BCN","BTG","URALS","INN","USDQ","CNH","HUSD","BKRW","NZDX","EURX","CADX","USDEX","JPYX","AUDX","VNDC","EON","GBPX","CHFX","USDJ","IDRT","USDS","USDN","BIDR","IDK","BSD","BTN","KYD","NIO","SBD","SDG","SHP","TOP","XCD","XCHF","CNYT","GYEN","ZUSD","GOLD","TRX","TRYB","PLATC","STRAX","UST","GLM","VAI","BRZ","DDRST","XAUT","MIM"]);function ze(n){return Fr[n].filter(e=>Vr.has(e))}const Gr={[he.MOONPAY]:{line1:"Credit/ Debit Card/ Apple Pay",line2:"4.5% or 5 USD",line3:"2,000\u20ac/day, 10,000\u20ac/mo",supportPage:"https://help.moonpay.io/en/",minOrderValue:24.99,maxOrderValue:5e4,validCurrencies:ze(he.MOONPAY),validCryptoCurrenciesByChain:{[pe.MAINNET]:[{value:"aave",display:"AAVE"},{value:"bat",display:"BAT"},{value:"dai",display:"DAI"},{value:"eth",display:"ETH"},{value:"mkr",display:"MKR"},{value:"matic",display:"MATIC"},{value:"usdt",display:"USDT"},{value:"usdc",display:"USDC"}],[pe.MATIC]:[{value:"eth_polygon",display:"ETH"},{value:"matic_polygon",display:"MATIC"},{value:"usdc_polygon",display:"USDC"}],[pe.BSC_MAINNET]:[{value:"bnb_bsc",display:"BNB"},{value:"busd_bsc",display:"BUSD"}],[pe.AVALANCHE_MAINNET]:[{value:"avax_cchain",display:"AVAX"}]},includeFees:!0,api:!0,enforceMax:!1},[he.WYRE]:{line1:"Apple Pay/ Debit/ Credit Card",line2:"4.9% + 30\xa2 or 5 USD",line3:"$250/day",supportPage:"https://support.sendwyre.com/en/",minOrderValue:5,maxOrderValue:500,validCurrencies:ze(he.WYRE),validCryptoCurrenciesByChain:{[pe.MAINNET]:[{value:"AAVE",display:"AAVE"},{value:"BAT",display:"BAT"},{value:"BUSD",display:"BUSD"},{value:"DAI",display:"DAI"},{value:"ETH",display:"ETH"},{value:"MKR",display:"MKR"},{value:"UNI",display:"UNI"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],[pe.MATIC]:[{value:"MUSDC",display:"USDC"}],[pe.AVALANCHE_MAINNET]:[{value:"AVAXC",display:"AVAXC"}]},includeFees:!1,api:!0,enforceMax:!1},[he.RAMPNETWORK]:{line1:"Debit Card/ <br>Apple Pay/ Bank transfer",line2:"0.49% - 2.9%",line3:"5,000\u20ac/purchase, 20,000\u20ac/mo",supportPage:"https://instant.ramp.network/",minOrderValue:50,maxOrderValue:2e4,validCurrencies:ze(he.RAMPNETWORK),validCryptoCurrenciesByChain:{[pe.MAINNET]:[{value:"ETH",display:"ETH"},{value:"DAI",display:"DAI"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],[pe.MATIC]:[{value:"MATIC_DAI",display:"DAI"},{value:"MATIC_MATIC",display:"MATIC"},{value:"MATIC_USDC",display:"USDC"}],[pe.AVALANCHE_MAINNET]:[{value:"AVAX",display:"AVAX"}]},includeFees:!0,api:!0,receiveHint:"walletTopUp.receiveHintRamp",enforceMax:!1},[he.XANPOOL]:{line1:"PayNow/ InstaPay/ FPS/ GoJekPay/ UPI/ PromptPay/ <br>ViettelPay/ DuitNow",line2:"2.5% buying, 3% selling",line3:"$2,500 / day",supportPage:"mailto:support@xanpool.com",minOrderValue:100,maxOrderValue:2500,validCurrencies:ze(he.XANPOOL),validCryptoCurrenciesByChain:{[pe.MAINNET]:[{value:"ETH",display:"ETH"},{value:"USDT",display:"USDT"}]},includeFees:!0,api:!0,sell:!0,enforceMax:!1},[he.MERCURYO]:{line1:"Credit/ Debit Card/ Apple Pay",line2:"3.95% or 4 USD",line3:"10,000\u20ac/day, 25,000\u20ac/mo",supportPage:"mailto:support@mercuryo.io",minOrderValue:30,maxOrderValue:5e3,validCurrencies:ze(he.MERCURYO),validCryptoCurrenciesByChain:{[pe.MAINNET]:[{value:"ETH",display:"ETH"},{value:"BAT",display:"BAT"},{value:"USDT",display:"USDT"},{value:"DAI",display:"DAI"}],[pe.BSC_MAINNET]:[{value:"BNB",display:"BNB"},{value:"BUSD",display:"BUSD"},{value:"1INCH",display:"1INCH"}]},includeFees:!0,api:!0,enforceMax:!1},[he.TRANSAK]:{line1:"Apple & Google Pay / Credit/Debit Card<br/>Bangkok Bank Mobile & iPay<br/>Bank Transfer (sepa/gbp) / SCB Mobile & Easy",line2:"0.99% - 5.5% or 5 USD",line3:"$5,000/day, $28,000/mo",supportPage:"https://support.transak.com/hc/en-US",minOrderValue:30,maxOrderValue:500,validCurrencies:ze(he.TRANSAK),validCryptoCurrenciesByChain:{[pe.MAINNET]:[{value:"AAVE",display:"AAVE"},{value:"DAI",display:"DAI"},{value:"ETH",display:"ETH"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}],[pe.MATIC]:[{value:"AAVE",display:"AAVE"},{value:"DAI",display:"DAI"},{value:"MATIC",display:"MATIC"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"},{value:"WETH",display:"WETH"}],[pe.BSC_MAINNET]:[{value:"BNB",display:"BNB"},{value:"BUSD",display:"BUSD"}],[pe.AVALANCHE_MAINNET]:[{value:"AVAX",display:"AVAX"}]},includeFees:!0,enforceMax:!0},[he.BANXA]:{line1:"Debit Card/ <br>Apple Pay/ Bank transfer",line2:"0.49% - 2.9%",line3:"5,000\u20ac/purchase, 20,000\u20ac/mo",supportPage:"https://support.banxa.com",minOrderValue:20,maxOrderValue:15e3,validCurrencies:ze(he.BANXA),validCryptoCurrenciesByChain:{[pe.MAINNET]:[{value:"ETH",display:"ETH"},{value:"USDT",display:"USDT"},{value:"BUSD",display:"BUSD"},{value:"LINK",display:"LINK"},{value:"USDC",display:"USDC"},{value:"CHZ",display:"CHZ"},{value:"BAT",display:"BAT"},{value:"MANA",display:"MANA"},{value:"AAVE",display:"AAVE"},{value:"COMP",display:"COMP"},{value:"ENJ",display:"ENJ"}],[pe.MATIC]:[{value:"MATIC",display:"MATIC"}]},includeFees:!0,enforceMax:!0}};var Ie={supportedVerifierList:Object.values(Fe),paymentProviders:Gr,api:"https://api.tor.us",translations:{en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies ben\xf6tigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"\u7d99\u7d9a\u3059\u308b",actionRequired:"\u8a8d\u8a3c\u304c\u5fc5\u8981\u3067\u3059",pendingAction:"\u7d9a\u884c\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u7d9a\u884c\u3057\u307e\u3059",cookiesRequired:"\u5fc5\u8981\u306a\u30af\u30c3\u30ad\u30fc",enableCookies:"Torus\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u8a2d\u5b9a\u3067Cookie\u3092\u6709\u52b9\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",clickHere:"\u8a73\u3057\u304f\u306f"}},ko:{embed:{continue:"\uacc4\uc18d\ud558\ub2e4",actionRequired:"\uc2b9\uc778 \ud544\uc694",pendingAction:"\ud31d\uc5c5\uc5d0\uc11c \uc694\uccad\uc744 \uc9c4\ud589\ud558\ub824\uba74 \uacc4\uc18d\uc744 \ud074\ub9ad\ud558\uc2ed\uc2dc\uc624.",cookiesRequired:"\ucfe0\ud0a4 \ud544\uc694",enableCookies:"\ube0c\ub77c\uc6b0\uc800 \ud658\uacbd \uc124\uc815\uc5d0\uc11c \ucfe0\ud0a4\ub97c \ud65c\uc131\ud654\ud558\uc5ec Torus\uc5d0 \uc561\uc138\uc2a4\ud558\uc2ed\uc2dc\uc624.",clickHere:"\ub354 \ub9ce\uc740 \uc815\ubcf4"}},zh:{embed:{continue:"\u7ee7\u7eed",actionRequired:"\u9700\u8981\u6388\u6743",pendingAction:"\u5355\u51fb\u7ee7\u7eed\u4ee5\u5728\u5f39\u51fa\u7a97\u53e3\u4e2d\u7ee7\u7eed\u60a8\u7684\u8bf7\u6c42",cookiesRequired:"\u5fc5\u586bCookie",enableCookies:"\u8bf7\u5728\u60a8\u7684\u6d4f\u89c8\u5668\u9996\u9009\u9879\u4e2d\u542f\u7528cookie\u4ee5\u8bbf\u95eeTorus\u3002",clickHere:"\u66f4\u591a\u4fe1\u606f"}}},prodTorusUrl:"",localStorageKeyPrefix:"torus-"};const ar=n=>new Promise((t,e)=>{null!=window.document.body?Promise.resolve(n()).then(t).catch(e):window.document.addEventListener("DOMContentLoaded",()=>{Promise.resolve(n()).then(t).catch(e)})}),Pt=n=>{const t=window.document.createElement("template"),e=n.trim();return t.innerHTML=e,t.content.firstChild},zr=function(n,t,e){for(var r=arguments.length,i=new Array(r>3?r-3:0),l=3;l<r;l++)i[l-3]=arguments[l];const y=()=>{e(...i),n.removeEventListener(t,y)};n.addEventListener(t,y)},Le=(n,t,e)=>{const r=i=>{e(i),n.removeListener(t,r)};n.on(t,r)};function $t(){return($t=(0,o.Z)(function*(){return new Promise(n=>{"loading"!==document.readyState?n():zr(document,"DOMContentLoaded",n)})})).apply(this,arguments)}var ue=xr().getLogger("torus-embed"),Ee={errors:{disconnected:()=>"Torus: Lost connection to Torus.",permanentlyDisconnected:()=>"Torus: Disconnected from iframe. Page reload required.",sendSiteMetadata:()=>"Torus: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:n=>`Torus: The Torus Ethereum provider does not support synchronous methods like ${n} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:(n,t)=>`Invalid options. Received: { maxEventListeners: ${n}, shouldSendMetadata: ${t} }`,invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:n=>`'args.logger' must include required method '${n}'.`},info:{connected:n=>`Torus: Connected to chain with ID "${n}".`},warnings:{enableDeprecation:'Torus: ""ethereum.enable()" is deprecated and may be removed in the future. Please use "ethereum.send("eth_requestAccounts")" instead. For more information, see: https://eips.ethereum.org/EIPS/eip-1102',sendDeprecation:'Torus: "ethereum.send(...)" is deprecated and may be removed in the future. Please use "ethereum.sendAsync(...)" or "ethereum.request(...)" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',events:{close:'Torus: The event "close" is deprecated and may be removed in the future. Please use "disconnect" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',data:'Torus: The event "data" is deprecated and will be removed in the future.Use "message" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message',networkChanged:'Torus: The event "networkChanged" is deprecated and may be removed in the future. Please use "chainChanged" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',notification:'Torus: The event "notification" is deprecated and may be removed in the future. Please use "message" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193'},publicConfigStore:'Torus: The property "publicConfigStore" is deprecated and WILL be removed in the future.'}};const{paymentProviders:sr}=Ie;function ur(n,t,e){let r=`MetaMask: Lost connection to "${n}".`;null!=t&&t.stack&&(r+=`\n${t.stack}`),ue.warn(r),e&&e.listenerCount("error")>0&&e.emit("error",r)}const Ye=()=>Math.random().toString(36).slice(2),lr=function(){var n=(0,o.Z)(function*(t,e){let r,i;const l="1.38.2";let y=e.version||l;try{if(("binance"===t||"production"===t)&&!e.version){let _;_=Ie.prodTorusUrl?{data:Ie.prodTorusUrl}:yield P(`${Ie.api}/latestversion?name=@toruslabs/torus-embed&version=${l}`,{},{useAPIKey:!0}),y=_.data,Ie.prodTorusUrl=_.data}}catch(_){ue.error(_,"unable to fetch latest version")}switch(ue.info("version used: ",y),t){case"binance":r=`https://binance.tor.us/v${y}`,i="info";break;case"testing":r="https://testing.tor.us",i="debug";break;case"bnb":r="https://bnb.tor.us",i="error";break;case"polygon":r="https://polygon.tor.us",i="error";break;case"lrc":r="https://lrc.tor.us",i="debug";break;case"beta":r="https://beta.tor.us",i="debug";break;case"development":r="http://localhost:4050",i="debug";break;default:r=`https://app.tor.us/v${y}`,i="error"}return{torusUrl:r,logLevel:i}});return function(e,r){return n.apply(this,arguments)}}(),cr=()=>{let n=window.navigator.language||"en-US";const t=n.split("-");return n=Object.prototype.hasOwnProperty.call(Ie.translations,t[0])?t[0]:"en",n},Jr=["eth_subscription"],fr=()=>{},dr="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=660,width=375",hr="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=450";function pr(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}Ke.defaultMaxListeners=100;const gr=function(n,t){let e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(r,i)=>r||i.error?t(r||i.error):!e||Array.isArray(i)?n(i):n(i.result)};class Mt extends Ke{constructor(t){let{maxEventListeners:e=100,shouldSendMetadata:r=!0,jsonRpcStreamName:i="provider"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(super(),a(this,"chainId",void 0),a(this,"selectedAddress",void 0),a(this,"_rpcEngine",void 0),a(this,"networkVersion",void 0),a(this,"shouldSendMetadata",void 0),a(this,"isTorus",void 0),a(this,"_publicConfigStore",void 0),a(this,"tryPreopenHandle",void 0),a(this,"enable",void 0),a(this,"_state",void 0),a(this,"_jsonRpcConnection",void 0),a(this,"_sentWarnings",{enable:!1,experimentalMethods:!1,send:!1,publicConfigStore:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}}),!(0,Ur.duplex)(t))throw new Error(Ee.errors.invalidDuplexStream());this.isTorus=!0,this.setMaxListeners(e),this._state=function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(e),!0).forEach(function(r){a(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):pr(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}({},Mt._defaultState),this.selectedAddress=null,this.networkVersion=null,this.chainId=null,this.shouldSendMetadata=r,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._sendSync=this._sendSync.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._initializeState=this._initializeState.bind(this),this.request=this.request.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this);const l=new nr;We()(t,l,t,this._handleStreamDisconnect.bind(this,"MetaMask")),this._publicConfigStore=new ir.ObservableStore({storageKey:"Metamask-Config"}),We()(l.createStream("publicConfig"),(0,ir.storeAsStream)(this._publicConfigStore),ur.bind(this,"MetaMask PublicConfigStore")),l.ignoreStream("phishing"),this.on("connect",()=>{this._state.isConnected=!0});const y=function(){var n={},e=new Ke,y=new x.Duplex({objectMode:!0,read:function(){return!1},write:function(L,N,I){var K;try{L.id?function(L){var N=n[L.id];if(!N)throw new Error('StreamMiddleware - Unknown response id "'.concat(L.id,'"'));delete n[L.id],Object.assign(N.res,L),setTimeout(N.end)}(L):function(L){e.emit("notification",L)}(L)}catch(J){K=J}I(K)}});return{events:e,middleware:function(N,I,K,z){y.push(N),n[N.id]={req:N,res:I,next:K,end:z}},stream:y}}();We()(y.stream,l.createStream(i),y.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider"));const _=new Qt;_.push(function(n,t,e,r){var i=n.id,l=Ne()(32).toString("hex");n.id=l,t.id=l,e(function(y){n.id=i,t.id=i,y()})}),_.push((n,t,e)=>{("string"!=typeof n.method||!n.method)&&(t.error=Ce.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:n})),e(r=>{const{error:i}=t;return i&&ue.error(`MetaMask - RPC Error: ${i.message}`,i),r()})}),_.push(y.middleware),this._rpcEngine=_,y.events.on("notification",L=>{const{method:N,params:I}=L;"wallet_accountsChanged"===N?this._handleAccountsChanged(I):"wallet_unlockStateChanged"===N?this._handleUnlockStateChanged(I):"wallet_chainChanged"===N?this._handleChainChanged(I):Jr.includes(L.method)&&(this.emit("data",L),this.emit("notification",I.result),this.emit("message",{type:N,data:I}))})}get publicConfigStore(){return this._sentWarnings.publicConfigStore||(ue.warn(Ee.warnings.publicConfigStore),this._sentWarnings.publicConfigStore=!0),this._publicConfigStore}isConnected(){return this._state.isConnected}request(t){var e=this;return(0,o.Z)(function*(){if(!t||"object"!=typeof t||Array.isArray(t))throw Ce.ethErrors.rpc.invalidRequest({message:Ee.errors.invalidRequestArgs(),data:t});const{method:r,params:i}=t;if("string"!=typeof r||0===r.length)throw Ce.ethErrors.rpc.invalidRequest({message:Ee.errors.invalidRequestMethod(),data:t});if(void 0!==i&&!Array.isArray(i)&&("object"!=typeof i||null===i))throw Ce.ethErrors.rpc.invalidRequest({message:Ee.errors.invalidRequestParams(),data:t});return new Promise((l,y)=>{e._rpcRequest({method:r,params:i},gr(l,y))})})()}sendAsync(t,e){this._rpcRequest(t,e)}addListener(t,e){return this._warnOfDeprecation(t),super.addListener(t,e)}on(t,e){return this._warnOfDeprecation(t),super.on(t,e)}once(t,e){return this._warnOfDeprecation(t),super.once(t,e)}prependListener(t,e){return this._warnOfDeprecation(t),super.prependListener(t,e)}prependOnceListener(t,e){return this._warnOfDeprecation(t),super.prependOnceListener(t,e)}_initializeState(){var t=this;return(0,o.Z)(function*(){try{const{accounts:e,chainId:r,isUnlocked:i,networkVersion:l}=yield t.request({method:"wallet_getProviderState"});t.emit("connect",{chainId:r}),t._handleChainChanged({chainId:r,networkVersion:l}),t._handleUnlockStateChanged({accounts:e,isUnlocked:i}),t._handleAccountsChanged(e)}catch(e){ue.error("MetaMask: Failed to get initial state. Please report this bug.",e)}finally{ue.info("initialized state"),t._state.initialized=!0,t.emit("_initialized")}})()}_rpcRequest(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e;const l=t;if(!Array.isArray(l))if(l.jsonrpc||(l.jsonrpc="2.0"),"eth_accounts"===l.method||"eth_requestAccounts"===l.method)i=(y,_)=>{this._handleAccountsChanged(_.result||[],"eth_accounts"===l.method,r),e(y,_)};else if("wallet_getProviderState"===l.method)return void this._rpcEngine.handle(t,i);this.tryPreopenHandle(l,i)}send(t,e){return this._sentWarnings.send||(ue.warn(Ee.warnings.sendDeprecation),this._sentWarnings.send=!0),"string"!=typeof t||e&&!Array.isArray(e)?t&&"object"==typeof t&&"function"==typeof e?this._rpcRequest(t,e):this._sendSync(t):new Promise((r,i)=>{try{this._rpcRequest({method:t,params:e},gr(r,i,!1))}catch(l){i(l)}})}_sendSync(t){let e;switch(t.method){case"eth_accounts":e=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":e=this.selectedAddress||null;break;case"eth_uninstallFilter":this._rpcRequest(t,fr),e=!0;break;case"net_version":e=this.networkVersion||null;break;default:throw new Error(Ee.errors.unsupportedSync(t.method))}return{id:t.id,jsonrpc:t.jsonrpc,result:e}}_handleConnect(t){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:t}),ue.debug(Ee.info.connected(t)))}_handleDisconnect(t,e){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!t){let r;this._state.isConnected=!1,t?(r=new Ce.EthereumRpcError(1013,e||Ee.errors.disconnected()),ue.debug(r)):(r=new Ce.EthereumRpcError(1011,e||Ee.errors.permanentlyDisconnected()),ue.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleStreamDisconnect(t,e){ur(t,e,this),this._handleDisconnect(!1,e?e.message:void 0)}_handleAccountsChanged(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t;Array.isArray(i)||(ue.error("MetaMask: Received non-array accounts parameter. Please report this bug.",i),i=[]);for(const l of t)if("string"!=typeof l){ue.error("MetaMask: Received non-string account. Please report this bug.",t),i=[];break}Br()(this._state.accounts,i)||(e&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!r&&ue.error('MetaMask: "eth_accounts" unexpectedly updated accounts. Please report this bug.',i),this._state.accounts=i,this.emit("accountsChanged",i)),this.selectedAddress!==i[0]&&(this.selectedAddress=i[0]||null)}_handleChainChanged(){let{chainId:t,networkVersion:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t&&e?"loading"===e?this._handleDisconnect(!0):(this._handleConnect(t),t!==this.chainId&&(this.chainId=t,this._state.initialized&&this.emit("chainChanged",this.chainId))):ue.error("MetaMask: Received invalid network parameters. Please report this bug.",{chainId:t,networkVersion:e})}_handleUnlockStateChanged(){let{accounts:t,isUnlocked:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"boolean"==typeof e?e!==this._state.isUnlocked&&(this._state.isUnlocked=e,this._handleAccountsChanged(t||[])):ue.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:e})}_warnOfDeprecation(t){!1===this._sentWarnings.events[t]&&(ue.warn(Ee.warnings.events[t]),this._sentWarnings.events[t]=!0)}}a(Mt,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});const rn=(n,t)=>{const e={};return n.algorithms.forEach(r=>{e[r]=Hr()(r).update(t,"utf8").digest("base64")}),e};class yr extends Xe.EventEmitter{constructor(t){let{url:e,target:r,features:i}=t;super(),a(this,"url",void 0),a(this,"target",void 0),a(this,"features",void 0),a(this,"window",void 0),a(this,"windowTimer",void 0),a(this,"iClosedWindow",void 0),this.url=e,this.target=r||"_blank",this.features=i||function(){const n=void 0!==window.screenLeft?window.screenLeft:window.screenX,t=void 0!==window.screenTop?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,l=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,_=Math.abs((i-1200)/2/1+n);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=1200,top=${Math.abs((l-700)/2/1+t)},left=${_}`}(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){var t;return this.window=window.open(this.url.href,this.target,this.features),null!==(t=this.window)&&void 0!==t&&t.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(t){t?window.location.replace(this.url.href):window.location.href=this.url.href}}function mr(n){return new Promise((t,e)=>{try{const r=document.createElement("img");r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=n}catch(r){e(r)}})}const an=n=>{const{document:t}=n,e=t.querySelector('head > meta[property="og:site_name"]');if(e)return e.content;const r=t.querySelector('head > meta[name="title"]');return r?r.content:t.title&&t.title.length>0?t.title:n.location.hostname};function sn(n){return zt.apply(this,arguments)}function zt(){return(zt=(0,o.Z)(function*(n){const{document:t}=n;let e=t.querySelector('head > link[rel="shortcut icon"]');return e&&(yield mr(e.href))||(e=Array.from(t.querySelectorAll('head > link[rel="icon"]')).find(r=>Boolean(r.href)),e&&(yield mr(e.href)))?e.href:null})).apply(this,arguments)}const un=function(){var n=(0,o.Z)(function*(){return{name:an(window),icon:yield sn(window)}});return function(){return n.apply(this,arguments)}}();function Yt(){return(Yt=(0,o.Z)(function*(n){try{const t=yield un();n.handle({jsonrpc:"2.0",id:Ye(),method:"wallet_sendDomainMetadata",params:t},fr)}catch(t){ue.error({message:Ee.errors.sendSiteMetadata(),originalError:t})}})).apply(this,arguments)}const cn=["host","chainId","networkName"];function vr(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function fn(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(e),!0).forEach(function(r){a(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):vr(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}const dn={[ot.GOOGLE]:!0,[ot.FACEBOOK]:!0,[ot.REDDIT]:!0,[ot.TWITCH]:!0,[ot.DISCORD]:!0},wr="sha384-CtXpgmTZsK+NAtIX8tWrMn+8s/fTjkftnUPkLV3Hnhe7kj5CH5E92MqqBD46kp/0",pn=["eth_sendTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","eth_getEncryptionPublicKey","eth_decrypt"];var n;(n=(0,o.Z)(function*(){try{if("undefined"==typeof document)return;const e=document.createElement("link"),{torusUrl:r}=yield lr("production",{check:!1,hash:wr,version:""});e.href=`${r}/popup`,e.crossOrigin="anonymous",e.type="text/html",e.rel="prefetch",e.relList&&e.relList.supports&&e.relList.supports("prefetch")&&document.head.appendChild(e)}catch(e){ue.warn(e)}}),function(){return n.apply(this,arguments)})();class gn{constructor(){let{buttonPosition:t=$e.BOTTOM_LEFT,buttonSize:e=56,modalZIndex:r=99999,apiKey:i="torus-default"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,"buttonPosition",$e.BOTTOM_LEFT),a(this,"buttonSize",void 0),a(this,"torusUrl",void 0),a(this,"torusIframe",void 0),a(this,"styleLink",void 0),a(this,"isLoggedIn",void 0),a(this,"isInitialized",void 0),a(this,"torusWidgetVisibility",void 0),a(this,"torusAlert",void 0),a(this,"apiKey",void 0),a(this,"modalZIndex",void 0),a(this,"alertZIndex",void 0),a(this,"torusAlertContainer",void 0),a(this,"isIframeFullScreen",void 0),a(this,"whiteLabel",void 0),a(this,"requestedVerifier",void 0),a(this,"currentVerifier",void 0),a(this,"embedTranslations",void 0),a(this,"ethereum",void 0),a(this,"provider",void 0),a(this,"communicationMux",void 0),a(this,"isLoginCallback",void 0),a(this,"paymentProviders",Ie.paymentProviders),a(this,"loginHint",""),a(this,"useWalletConnect",void 0),a(this,"isCustomLogin",!1),this.buttonPosition=t,this.buttonSize=e,this.torusUrl="",this.isLoggedIn=!1,this.isInitialized=!1,this.torusWidgetVisibility=!0,this.requestedVerifier="",this.currentVerifier="",this.apiKey=i,function(n){X=n}(i),this.modalZIndex=r,this.alertZIndex=r+1e3,this.isIframeFullScreen=!1}init(){var t=arguments,e=this;return(0,o.Z)(function*(){let{buildEnv:r=or.PRODUCTION,enableLogging:i=!1,enabledVerifiers:l=dn,network:y={host:"mainnet",chainId:null,networkName:"",blockExplorer:"",ticker:"",tickerName:""},loginConfig:_={},showTorusButton:L=!0,integrity:N={check:!1,hash:wr,version:""},whiteLabel:I,skipTKey:K=!1,useWalletConnect:z=!1,mfaLevel:J="default"}=t.length>0&&void 0!==t[0]?t[0]:{};if(e.isInitialized)throw new Error("Already initialized");const{torusUrl:Z,logLevel:se}=yield lr(r,N);ue.info(Z,"url loaded"),e.torusUrl=Z,e.whiteLabel=I,e.useWalletConnect=z,e.isCustomLogin=!!(_&&Object.keys(_).length>0)||!!(I&&Object.keys(I).length>0),ue.setDefaultLevel(se),i?ue.enableAll():ue.disableAll(),e.torusWidgetVisibility=L;const ge=new URL(Z);ge.pathname.endsWith("/")?ge.pathname+="popup":ge.pathname+="/popup",ge.hash=`#isCustomLogin=${e.isCustomLogin}`,e.torusIframe=Pt(`<iframe\n        id="torusIframe"\n        allow=${z?"camera":""}\n        class="torusIframe"\n        src="${ge.href}"\n        style="display: none; position: fixed; top: 0; right: 0; width: 100%; color-scheme: none;\n        height: 100%; border: none; border-radius: 0; z-index: ${e.modalZIndex}"\n      ></iframe>`),e.torusAlertContainer=Pt('<div id="torusAlertContainer"></div>'),e.torusAlertContainer.style.display="none",e.torusAlertContainer.style.setProperty("z-index",e.alertZIndex.toString());const ae=window.document.createElement("link");ae.setAttribute("rel","stylesheet"),ae.setAttribute("type","text/css"),ae.setAttribute("href",`${Z}/css/widget.css`),e.styleLink=ae;const{defaultLanguage:ce=cr(),customTranslations:Vt={}}=e.whiteLabel||{},br=h()(Ie.translations,Vt)[ce]||Ie.translations[cr()];e.embedTranslations=br.embed;const be=function(){var Xt=(0,o.Z)(function*(){return yield function(){return $t.apply(this,arguments)}(),new Promise((at,Jt)=>{e.torusIframe.onload=(0,o.Z)(function*(){e._setupWeb3();const Dt=e.communicationMux.getStream("init_stream");Dt.on("data",yn=>{const{name:mn,data:vn,error:Sr}=yn;"init_complete"===mn&&vn.success?(e.isInitialized=!0,e._displayIframe(e.isIframeFullScreen),at(void 0)):Sr&&Jt(new Error(Sr))}),Dt.write({name:"init_stream",data:{enabledVerifiers:l,loginConfig:_,whiteLabel:e.whiteLabel,buttonPosition:e.buttonPosition,buttonSize:e.buttonSize,torusWidgetVisibility:e.torusWidgetVisibility,apiKey:e.apiKey,skipTKey:K,network:y,mfaLevel:J}})}),window.document.head.appendChild(e.styleLink),window.document.body.appendChild(e.torusIframe),window.document.body.appendChild(e.torusAlertContainer)})});return function(){return Xt.apply(this,arguments)}}();if("production"===r&&N.check){const Xt=`${Z}/popup`,at=yield fetch(Xt,{cache:"reload"});if("max-age=3600"!==at.headers.get("Cache-Control"))throw new Error(`Unexpected Cache-Control headers, got ${at.headers.get("Cache-Control")}`);const Dt=((n,t)=>{const e=(n=>({algorithms:n.algorithms||["sha256"],delimiter:n.delimiter||" ",full:n.full||!1}))(n),r={hashes:rn(e,t),integrity:void 0};return r.integrity=((n,t)=>{let e="";return e+=Object.keys(t.hashes).map(r=>`${r}-${t.hashes[r]}`).join(n.delimiter),e})(e,r),e.full?r:r.integrity})({algorithms:["sha384"]},yield at.text());if(ue.info(Dt,"integrity"),Dt!==N.hash)throw e.clearInit(),new Error("Integrity check failed");yield be()}else yield be()})()}login(){let{verifier:t="",login_hint:e=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isInitialized)throw new Error("Call init() first");return this.requestedVerifier=t,this.loginHint=e,this.ethereum.enable()}logout(){return new Promise((t,e)=>{if(!this.isLoggedIn)return void e(new Error("User has not logged in yet"));this.communicationMux.getStream("logout").write({name:"logOut"});const i=this.communicationMux.getStream("status");Le(i,"data",y=>{y.loggedIn?e(new Error("Some Error Occured")):(this.isLoggedIn=!1,this.currentVerifier="",this.requestedVerifier="",t())})})}cleanUp(){var t=this;return(0,o.Z)(function*(){t.isLoggedIn&&(yield t.logout()),t.clearInit()})()}clearInit(){function t(e){return e instanceof Element||e instanceof HTMLDocument}t(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),t(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),t(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}hideTorusButton(){this.torusWidgetVisibility=!1,this._sendWidgetVisibilityStatus(!1),this._displayIframe()}showTorusButton(){this.torusWidgetVisibility=!0,this._sendWidgetVisibilityStatus(!0),this._displayIframe()}setProvider(t){let{host:e="mainnet",chainId:r=null,networkName:i=""}=t,l=function(n,t){if(null==n)return{};var r,i,e=function(n,t){if(null==n)return{};var i,l,e={},r=Object.keys(n);for(l=0;l<r.length;l++)!(t.indexOf(i=r[l])>=0)&&(e[i]=n[i]);return e}(n,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(i=0;i<l.length;i++)!(t.indexOf(r=l[i])>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(e[r]=n[r]))}return e}(t,cn);return new Promise((y,_)=>{const L=this.communicationMux.getStream("provider_change");Le(L,"data",K=>{const{err:z,success:J}=K.data;ue.info(K),z?_(z):J?y():_(new Error("some error occured"))});const I=Ye();this._handleWindow(I,{target:"_blank",features:dr}),L.write({name:"show_provider_change",data:{network:fn({host:e,chainId:r,networkName:i},l),preopenInstanceId:I,override:!1}})})}showWallet(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.communicationMux.getStream("show_wallet"),i=t?`/${t}`:"";r.write({name:"show_wallet",data:{path:i}}),Le(r,"data",y=>{if("show_wallet_instance"===y.name){const{instanceId:_}=y.data,L=new URL(`${this.torusUrl}/wallet${i}`);L.searchParams.append("integrity","true"),L.searchParams.append("instanceId",_),Object.keys(e).forEach(I=>{L.searchParams.append(I,e[I])}),L.hash=`#isCustomLogin=${this.isCustomLogin}`,new yr({url:L,features:"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=740,width=1315"}).open()}})}getPublicAddress(t){return(0,o.Z)(function*(){let{verifier:e,verifierId:r,isExtended:i=!1}=t;if(!Ie.supportedVerifierList.includes(e)||!Gt[e])throw new Error("Unsupported verifier");const l=e,y=Gt[e],_=new URL("https://api.tor.us/lookup/torus");return _.searchParams.append("verifier",y),_.searchParams.append("verifierId",r),_.searchParams.append("walletVerifier",l),_.searchParams.append("network","mainnet"),_.searchParams.append("isExtended",i.toString()),P(_.href,{headers:{"Content-Type":"application/json; charset=utf-8"}},{useAPIKey:!0})})()}getUserInfo(t){return new Promise((e,r)=>{if(this.isLoggedIn){const i=this.communicationMux.getStream("user_info_access");i.write({name:"user_info_access_request"}),Le(i,"data",y=>{const{name:_,data:{approved:L,payload:N,rejected:I,newRequest:K}}=y;if("user_info_access_response"===_)if(L)e(N);else if(I)r(new Error("User rejected the request"));else if(K){const z=this.communicationMux.getStream("user_info");Le(z,"data",se=>{"user_info_response"===se.name&&(se.data.approved?e(se.data.payload):r(new Error("User rejected the request")))});const Z=Ye();this._handleWindow(Z,{target:"_blank",features:dr}),z.write({name:"user_info_request",data:{message:t,preopenInstanceId:Z}})}})}else r(new Error("User has not logged in yet"))})}initiateTopup(t,e){return new Promise((r,i)=>{if(this.isInitialized){const{errors:l,isValid:y}=((n,t)=>{const e={};if(!n)return{errors:e,isValid:!0};if(n&&!sr[n])return e.provider="Invalid Provider",{errors:e,isValid:0===Object.keys(e).length};const r=sr[n],i=t||{};if(i.fiatValue){const l=+parseFloat(i.fiatValue.toString())||0;l<r.minOrderValue&&(e.fiatValue="Requested amount is lower than supported"),l>r.maxOrderValue&&r.enforceMax&&(e.fiatValue="Requested amount is higher than supported")}if(i.selectedCurrency&&!r.validCurrencies.includes(i.selectedCurrency)&&(e.selectedCurrency="Unsupported currency"),i.selectedCryptoCurrency){const l=Object.values(r.validCryptoCurrenciesByChain).flat().map(_=>_.value),y=n===he.MOONPAY?i.selectedCryptoCurrency.toLowerCase():i.selectedCryptoCurrency;l&&!l.includes(y)&&(e.selectedCryptoCurrency="Unsupported cryptoCurrency")}return{errors:e,isValid:0===Object.keys(e).length}})(t,e);if(!y)return void i(new Error(JSON.stringify(l)));const _=this.communicationMux.getStream("topup");Le(_,"data",I=>{"topup_response"===I.name&&(I.data.success?r(I.data.success):i(new Error(I.data.error)))});const N=Ye();this._handleWindow(N),_.write({name:"topup_request",data:{provider:t,params:e,preopenInstanceId:N}})}else i(new Error("Torus is not initialized yet"))})}loginWithPrivateKey(t){var e=this;return(0,o.Z)(function*(){const{privateKey:r,userInfo:i}=t;return new Promise((l,y)=>{if(e.isInitialized){if(32!==Buffer.from(r,"hex").length)return void y(new Error("Invalid private key, Please provide a 32 byte valid secp25k1 private key"));const _=e.communicationMux.getStream("login_with_private_key");Le(_,"data",N=>{"login_with_private_key_response"===N.name&&(N.data.success?l(N.data.success):y(new Error(N.data.error)))}),_.write({name:"login_with_private_key_request",data:{privateKey:r,userInfo:i}})}else y(new Error("Torus is not initialized yet"))})})()}showWalletConnectScanner(){var t=this;return(0,o.Z)(function*(){if(!t.useWalletConnect)throw new Error("Set `useWalletConnect` as true in init function options to use wallet connect scanner");return new Promise((e,r)=>{if(t.isLoggedIn){const i=t.communicationMux.getStream("wallet_connect_stream");Le(i,"data",y=>{"wallet_connect_stream_res"===y.name&&(y.data.success?e(y.data.success):r(new Error(y.data.error)),t._displayIframe())}),i.write({name:"wallet_connect_stream_req"}),t._displayIframe(!0)}else r(new Error("User has not logged in yet"))})})()}_handleWindow(t){let{url:e,target:r,features:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){const l=this.communicationMux.getStream("window"),y=new URL(e||`${this.torusUrl}/redirect?preopenInstanceId=${t}`);y.hash?y.hash+=`&isCustomLogin=${this.isCustomLogin}`:y.hash=`#isCustomLogin=${this.isCustomLogin}`;const _=new yr({url:y,target:r,features:i});if(_.open(),!_.window)return void this._createPopupBlockAlert(t,y.href);l.write({name:"opened_window",data:{preopenInstanceId:t}});const L=N=>{let{preopenInstanceId:I,close:K}=N;I===t&&K&&(_.close(),l.removeListener("data",L))};l.on("data",L),_.once("close",()=>{l.write({data:{preopenInstanceId:t,closed:!0}}),l.removeListener("data",L)})}}_setEmbedWhiteLabel(t){const{theme:e}=this.whiteLabel||{};if(e){const{isDark:r=!1,colors:i={}}=e;r&&t.classList.add("torus-dark"),i.torusBrand1&&t.style.setProperty("--torus-brand-1",i.torusBrand1),i.torusGray2&&t.style.setProperty("--torus-gray-2",i.torusGray2)}}_getLogoUrl(){var t,e;let r=`${this.torusUrl}/images/torus_icon-blue.svg`;var i,l;return r=null!==(t=this.whiteLabel)&&void 0!==t&&null!==(e=t.theme)&&void 0!==e&&e.isDark?(null===(i=this.whiteLabel)||void 0===i?void 0:i.logoLight)||r:(null===(l=this.whiteLabel)||void 0===l?void 0:l.logoDark)||r,r}_sendWidgetVisibilityStatus(t){this.communicationMux.getStream("torus-widget-visibility").write({data:t})}_displayIframe(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e={},r=this.buttonSize+14;if(t)e.display="block",e.width="100%",e.height="100%",e.top="0px",e.right="0px",e.left="0px",e.bottom="0px";else switch(e.display=this.torusWidgetVisibility?"block":"none",e.height=`${r}px`,e.width=`${r}px`,this.buttonPosition){case $e.TOP_LEFT:e.top="0px",e.left="0px",e.right="auto",e.bottom="auto";break;case $e.TOP_RIGHT:e.top="0px",e.right="0px",e.left="auto",e.bottom="auto";break;case $e.BOTTOM_RIGHT:e.bottom="0px",e.right="0px",e.top="auto",e.left="auto";break;case $e.BOTTOM_LEFT:default:e.bottom="0px",e.left="0px",e.top="auto",e.right="auto"}Object.assign(this.torusIframe.style,e),this.isIframeFullScreen=t}_setupWeb3(){ue.info("setupWeb3 running");const t=new tt({name:"embed_metamask",target:"iframe_metamask",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),e=new tt({name:"embed_comm",target:"iframe_comm",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),r=new Mt(t),i=I=>{const K=r[I];r[I]=function(J){if(J&&"eth_requestAccounts"===J)return r.enable();for(var Z=arguments.length,se=new Array(Z>1?Z-1:0),ge=1;ge<Z;ge++)se[ge-1]=arguments[ge];return K.apply(this,[J,...se])}};i("send"),i("sendAsync"),r.enable=()=>new Promise((I,K)=>{r.sendAsync({jsonrpc:"2.0",id:Ye(),method:"eth_requestAccounts",params:[]},(z,J)=>{const{result:Z}=J||{};if(z)setTimeout(()=>{K(z)},50);else if(Array.isArray(Z)&&Z.length>0){const se=()=>{if(""!==this.requestedVerifier&&this.currentVerifier!==this.requestedVerifier){const{requestedVerifier:ge}=this;this.logout().then(ae=>{this.requestedVerifier=ge,this._showLoginPopup(!0,I,K)}).catch(ae=>K(ae))}else I(Z)};this.isLoggedIn?se():this.isLoginCallback=se}else this._showLoginPopup(!0,I,K)})}),r.tryPreopenHandle=(I,K)=>{const z=I;if(!Array.isArray(z)&&pn.includes(z.method)){const J=Ye();this._handleWindow(J,{target:"_blank",features:hr}),z.preopenInstanceId=J}r._rpcEngine.handle(z,K)};const l=new Proxy(r,{deleteProperty:()=>!0});this.ethereum=l;const y=function(n){var t=new nr;return t.getStream=function(r){return this._substreams[r]?this._substreams[r]:this.createStream(r)},We()(n,t,n,function(e){e&&window.console.error(e)}),t}(e);this.communicationMux=y,y.getStream("window").on("data",I=>{"create_window"===I.name&&this._createPopupBlockAlert(I.data.preopenInstanceId,I.data.url)}),y.getStream("widget").on("data",I=>{const{data:K}=I;this._displayIframe(K)}),y.getStream("status").on("data",I=>{I.loggedIn?(this.isLoggedIn=I.loggedIn,this.currentVerifier=I.verifier):this._displayIframe(),this.isLoginCallback&&(this.isLoginCallback(),delete this.isLoginCallback)}),this.provider=l,this.provider.shouldSendMetadata&&function(n){Yt.apply(this,arguments)}(this.provider._rpcEngine),r._initializeState(),ue.debug("Torus - injected provider")}_showLoginPopup(t,e,r){const i=y=>{const{err:_,selectedAddress:L}=y;_?(ue.error(_),r&&r(_)):e&&e([L]),this.isIframeFullScreen&&this._displayIframe()},l=this.communicationMux.getStream("oauth");if(this.requestedVerifier){Le(l,"data",i);const y=Ye();this._handleWindow(y),l.write({name:"oauth",data:{calledFromEmbed:t,verifier:this.requestedVerifier,preopenInstanceId:y,login_hint:this.loginHint}})}else this._displayIframe(!0),Le(l,"data",i),l.write({name:"oauth_modal",data:{calledFromEmbed:t}})}_createPopupBlockAlert(t,e){const r=this._getLogoUrl(),i=Pt(`<div id="torusAlert" class="torus-alert--v2"><div id="torusAlert__logo"><img src="${r}" /></div><div><h1 id="torusAlert__title">${this.embedTranslations.actionRequired}</h1><p id="torusAlert__desc">${this.embedTranslations.pendingAction}</p></div></div>`),l=Pt(`<div><a id="torusAlert__btn">${this.embedTranslations.continue}</a></div>`),y=Pt('<div id="torusAlert__btn-container"></div>');y.appendChild(l),i.appendChild(y),this._setEmbedWhiteLabel(i),ar(()=>{this.torusAlertContainer.style.display="block",this.torusAlertContainer.appendChild(i)}),ar(()=>{l.addEventListener("click",()=>{this._handleWindow(t,{url:e,target:"_blank",features:hr}),i.remove(),0===this.torusAlertContainer.children.length&&(this.torusAlertContainer.style.display="none")})})}}},25229:(j,C,c)=>{j.exports=c(73744)(c(20453))},73744:(j,C,c)=>{const o=c(56933),O=c(6195);j.exports=function(v){const a=o(v),f=O(v);return function(h,m){switch("string"==typeof h?h.toLowerCase():h){case"keccak224":return new a(1152,448,null,224,m);case"keccak256":return new a(1088,512,null,256,m);case"keccak384":return new a(832,768,null,384,m);case"keccak512":return new a(576,1024,null,512,m);case"sha3-224":return new a(1152,448,6,224,m);case"sha3-256":return new a(1088,512,6,256,m);case"sha3-384":return new a(832,768,6,384,m);case"sha3-512":return new a(576,1024,6,512,m);case"shake128":return new f(1344,256,31,m);case"shake256":return new f(1088,512,31,m);default:throw new Error("Invald algorithm: "+h)}}}},56933:(j,C,c)=>{const{Transform:o}=c(18300);j.exports=O=>class _r extends o{constructor(a,f,h,m,w){super(w),this._rate=a,this._capacity=f,this._delimitedSuffix=h,this._hashBitLength=m,this._options=w,this._state=new O,this._state.initialize(a,f),this._finalized=!1}_transform(a,f,h){let m=null;try{this.update(a,f)}catch(w){m=w}h(m)}_flush(a){let f=null;try{this.push(this.digest())}catch(h){f=h}a(f)}update(a,f){if(!Buffer.isBuffer(a)&&"string"!=typeof a)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(a)||(a=Buffer.from(a,f)),this._state.absorb(a),this}digest(a){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let f=this._state.squeeze(this._hashBitLength/8);return void 0!==a&&(f=f.toString(a)),this._resetState(),f}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const a=new _r(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(a._state),a._finalized=this._finalized,a}}},6195:(j,C,c)=>{const{Transform:o}=c(18300);j.exports=O=>class Cr extends o{constructor(a,f,h,m){super(m),this._rate=a,this._capacity=f,this._delimitedSuffix=h,this._options=m,this._state=new O,this._state.initialize(a,f),this._finalized=!1}_transform(a,f,h){let m=null;try{this.update(a,f)}catch(w){m=w}h(m)}_flush(){}_read(a){this.push(this.squeeze(a))}update(a,f){if(!Buffer.isBuffer(a)&&"string"!=typeof a)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(a)||(a=Buffer.from(a,f)),this._state.absorb(a),this}squeeze(a,f){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let h=this._state.squeeze(a);return void 0!==f&&(h=h.toString(f)),h}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const a=new Cr(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(a._state),a._finalized=this._finalized,a}}},63312:(j,C)=>{const c=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];C.p1600=function(o){for(let O=0;O<24;++O){const v=o[0]^o[10]^o[20]^o[30]^o[40],a=o[1]^o[11]^o[21]^o[31]^o[41],f=o[2]^o[12]^o[22]^o[32]^o[42],h=o[3]^o[13]^o[23]^o[33]^o[43],m=o[4]^o[14]^o[24]^o[34]^o[44],w=o[5]^o[15]^o[25]^o[35]^o[45],M=o[6]^o[16]^o[26]^o[36]^o[46],U=o[7]^o[17]^o[27]^o[37]^o[47],q=o[8]^o[18]^o[28]^o[38]^o[48],X=o[9]^o[19]^o[29]^o[39]^o[49];let b=q^(f<<1|h>>>31),B=X^(h<<1|f>>>31);const k=o[0]^b,ee=o[1]^B,D=o[10]^b,g=o[11]^B,E=o[20]^b,S=o[21]^B,te=o[30]^b,F=o[31]^B,we=o[40]^b,me=o[41]^B;b=v^(m<<1|w>>>31),B=a^(w<<1|m>>>31);const Se=o[2]^b,ye=o[3]^B,H=o[12]^b,oe=o[13]^B,le=o[22]^b,ve=o[23]^B,_e=o[32]^b,P=o[33]^B,R=o[42]^b,W=o[43]^B;b=f^(M<<1|U>>>31),B=h^(U<<1|M>>>31);const d=o[4]^b,p=o[5]^B,A=o[14]^b,V=o[15]^B,$=o[24]^b,Y=o[25]^B,ie=o[34]^b,fe=o[35]^B,re=o[44]^b,de=o[45]^B;b=m^(q<<1|X>>>31),B=w^(X<<1|q>>>31);const s=o[6]^b,u=o[7]^B,T=o[16]^b,x=o[17]^B,ne=o[26]^b,G=o[27]^B,Q=o[36]^b,Ne=o[37]^B,ke=o[46]^b,Re=o[47]^B;b=M^(v<<1|a>>>31),B=U^(a<<1|v>>>31);const Ze=o[8]^b,Be=o[9]^B,Pe=o[18]^b,Oe=o[19]^B,Ue=o[28]^b,je=o[29]^B,Me=o[38]^b,Te=o[39]^B,De=o[48]^b,It=o[49]^B,st=k,Lt=ee,xe=g<<4|D>>>28,Nt=D<<4|g>>>28,kt=E<<3|S>>>29,ut=S<<3|E>>>29,Bt=F<<9|te>>>23,Ut=te<<9|F>>>23,jt=we<<18|me>>>14,Xe=me<<18|we>>>14,lt=Se<<1|ye>>>31,ct=ye<<1|Se>>>31,ft=oe<<12|H>>>20,dt=H<<12|oe>>>20,Je=le<<10|ve>>>22,ht=ve<<10|le>>>22,pt=P<<13|_e>>>19,Ve=_e<<13|P>>>19,Ce=R<<2|W>>>30,gt=W<<2|R>>>30,qe=p<<30|d>>>2,yt=d<<30|p>>>2,mt=A<<6|V>>>26,vt=V<<6|A>>>26,We=Y<<11|$>>>21,wt=$<<11|Y>>>21,bt=ie<<15|fe>>>17,He=fe<<15|ie>>>17,Qe=de<<29|re>>>3,Ge=re<<29|de>>>3,et=s<<28|u>>>4,tt=u<<28|s>>>4,St=x<<23|T>>>9,_t=T<<23|x>>>9,rt=ne<<25|G>>>7,Ct=G<<25|ne>>>7,Ke=Q<<21|Ne>>>11,Et=Ne<<21|Q>>>11,Ot=Re<<24|ke>>>8,Ae=ke<<24|Re>>>8,xt=Ze<<27|Be>>>5,Wt=Be<<27|Ze>>>5,Tt=Pe<<20|Oe>>>12,Ht=Oe<<20|Pe>>>12,At=je<<7|Ue>>>25,Kt=Ue<<7|je>>>25,Ft=Me<<8|Te>>>24,nt=Te<<8|Me>>>24,Rt=De<<14|It>>>18,it=It<<14|De>>>18;o[0]=st^~ft&We,o[1]=Lt^~dt&wt,o[10]=et^~Tt&kt,o[11]=tt^~Ht&ut,o[20]=lt^~mt&rt,o[21]=ct^~vt&Ct,o[30]=xt^~xe&Je,o[31]=Wt^~Nt&ht,o[40]=qe^~St&At,o[41]=yt^~_t&Kt,o[2]=ft^~We&Ke,o[3]=dt^~wt&Et,o[12]=Tt^~kt&pt,o[13]=Ht^~ut&Ve,o[22]=mt^~rt&Ft,o[23]=vt^~Ct&nt,o[32]=xe^~Je&bt,o[33]=Nt^~ht&He,o[42]=St^~At&Bt,o[43]=_t^~Kt&Ut,o[4]=We^~Ke&Rt,o[5]=wt^~Et&it,o[14]=kt^~pt&Qe,o[15]=ut^~Ve&Ge,o[24]=rt^~Ft&jt,o[25]=Ct^~nt&Xe,o[34]=Je^~bt&Ot,o[35]=ht^~He&Ae,o[44]=At^~Bt&Ce,o[45]=Kt^~Ut&gt,o[6]=Ke^~Rt&st,o[7]=Et^~it&Lt,o[16]=pt^~Qe&et,o[17]=Ve^~Ge&tt,o[26]=Ft^~jt&lt,o[27]=nt^~Xe&ct,o[36]=bt^~Ot&xt,o[37]=He^~Ae&Wt,o[46]=Bt^~Ce&qe,o[47]=Ut^~gt&yt,o[8]=Rt^~st&ft,o[9]=it^~Lt&dt,o[18]=Qe^~et&Tt,o[19]=Ge^~tt&Ht,o[28]=jt^~lt&mt,o[29]=Xe^~ct&vt,o[38]=Ot^~xt&xe,o[39]=Ae^~Wt&Nt,o[48]=Ce^~qe&St,o[49]=gt^~yt&_t,o[0]^=c[2*O],o[1]^=c[2*O+1]}}},20453:(j,C,c)=>{const o=c(63312);function O(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}O.prototype.initialize=function(v,a){for(let f=0;f<50;++f)this.state[f]=0;this.blockSize=v/8,this.count=0,this.squeezing=!1},O.prototype.absorb=function(v){for(let a=0;a<v.length;++a)this.state[~~(this.count/4)]^=v[a]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(o.p1600(this.state),this.count=0)},O.prototype.absorbLastFewBits=function(v){this.state[~~(this.count/4)]^=v<<this.count%4*8,0!=(128&v)&&this.count===this.blockSize-1&&o.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,o.p1600(this.state),this.count=0,this.squeezing=!0},O.prototype.squeeze=function(v){this.squeezing||this.absorbLastFewBits(1);const a=Buffer.alloc(v);for(let f=0;f<v;++f)a[f]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(o.p1600(this.state),this.count=0);return a},O.prototype.copy=function(v){for(let a=0;a<50;++a)v.state[a]=this.state[a];v.blockSize=this.blockSize,v.count=this.count,v.squeezing=this.squeezing},j.exports=O},45611:(j,C,c)=>{"use strict";var O=c(49152);function v(M,U){return void 0===U&&(U="utf8"),Buffer.isBuffer(M)?h(M.toString("base64")):h(Buffer.from(M,U).toString("base64"))}function f(M){return M=M.toString(),O.default(M).replace(/\-/g,"+").replace(/_/g,"/")}function h(M){return M.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var w=v;w.encode=v,w.decode=function(M,U){return void 0===U&&(U="utf8"),Buffer.from(f(M),"base64").toString(U)},w.toBase64=f,w.fromBase64=h,w.toBuffer=function(M){return Buffer.from(f(M),"base64")},C.default=w},49152:(j,C)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(o){var v=o.length,a=v%4;if(!a)return o;var f=v,h=4-a,w=Buffer.alloc(v+h);for(w.write(o);h--;)w.write("=",f++);return w.toString()}},37092:(j,C,c)=>{j.exports=c(45611).default,j.exports.default=j.exports},93605:(j,C)=>{function B(k){return Object.prototype.toString.call(k)}C.isArray=function(k){return Array.isArray?Array.isArray(k):"[object Array]"===B(k)},C.isBoolean=function(k){return"boolean"==typeof k},C.isNull=function(k){return null===k},C.isNullOrUndefined=function(k){return null==k},C.isNumber=function(k){return"number"==typeof k},C.isString=function(k){return"string"==typeof k},C.isSymbol=function(k){return"symbol"==typeof k},C.isUndefined=function(k){return void 0===k},C.isRegExp=function(k){return"[object RegExp]"===B(k)},C.isObject=function(k){return"object"==typeof k&&null!==k},C.isDate=function(k){return"[object Date]"===B(k)},C.isError=function(k){return"[object Error]"===B(k)||k instanceof Error},C.isFunction=function(k){return"function"==typeof k},C.isPrimitive=function(k){return null===k||"boolean"==typeof k||"number"==typeof k||"string"==typeof k||"symbol"==typeof k||void 0===k},C.isBuffer=Buffer.isBuffer},75859:(j,C,c)=>{var o=c(99318),O=function(){},f=function(h,m,w){if("function"==typeof m)return f(h,null,m);m||(m={}),w=o(w||O);var M=h._writableState,U=h._readableState,q=m.readable||!1!==m.readable&&h.readable,X=m.writable||!1!==m.writable&&h.writable,b=!1,B=function(){h.writable||k()},k=function(){X=!1,q||w.call(h)},ee=function(){q=!1,X||w.call(h)},D=function(F){w.call(h,F?new Error("exited with error code: "+F):null)},g=function(F){w.call(h,F)},E=function(){process.nextTick(S)},S=function(){if(!b){if(q&&(!U||!U.ended||U.destroyed))return w.call(h,new Error("premature close"));if(X&&(!M||!M.ended||M.destroyed))return w.call(h,new Error("premature close"))}},te=function(){h.req.on("finish",k)};return function(h){return h.setHeader&&"function"==typeof h.abort}(h)?(h.on("complete",k),h.on("abort",E),h.req?te():h.on("request",te)):X&&!M&&(h.on("end",B),h.on("close",B)),function(h){return h.stdio&&Array.isArray(h.stdio)&&3===h.stdio.length}(h)&&h.on("exit",D),h.on("end",ee),h.on("finish",k),!1!==m.error&&h.on("error",g),h.on("close",E),function(){b=!0,h.removeListener("complete",k),h.removeListener("abort",E),h.removeListener("request",te),h.req&&h.req.removeListener("finish",k),h.removeListener("end",B),h.removeListener("close",B),h.removeListener("finish",k),h.removeListener("exit",D),h.removeListener("end",ee),h.removeListener("error",g),h.removeListener("close",E)}};j.exports=f},95439:j=>{"use strict";j.exports=function C(c,o){if(c===o)return!0;if(c&&o&&"object"==typeof c&&"object"==typeof o){if(c.constructor!==o.constructor)return!1;var O,v,a;if(Array.isArray(c)){if((O=c.length)!=o.length)return!1;for(v=O;0!=v--;)if(!C(c[v],o[v]))return!1;return!0}if(c.constructor===RegExp)return c.source===o.source&&c.flags===o.flags;if(c.valueOf!==Object.prototype.valueOf)return c.valueOf()===o.valueOf();if(c.toString!==Object.prototype.toString)return c.toString()===o.toString();if((O=(a=Object.keys(c)).length)!==Object.keys(o).length)return!1;for(v=O;0!=v--;)if(!Object.prototype.hasOwnProperty.call(o,a[v]))return!1;for(v=O;0!=v--;){var f=a[v];if(!C(c[f],o[f]))return!1}return!0}return c!=c&&o!=o}},78936:j=>{"use strict";const C=c=>null!==c&&"object"==typeof c&&"function"==typeof c.pipe;C.writable=c=>C(c)&&!1!==c.writable&&"function"==typeof c._write&&"object"==typeof c._writableState,C.readable=c=>C(c)&&!1!==c.readable&&"function"==typeof c._read&&"object"==typeof c._readableState,C.duplex=c=>C.writable(c)&&C.readable(c),C.transform=c=>C.duplex(c)&&"function"==typeof c._transform,j.exports=C},58330:function(j,C,c){var o,O;!function(v,a){"use strict";void 0!==(O="function"==typeof(o=function(){var v=function(){},a="undefined",f=typeof window!==a&&typeof window.navigator!==a&&/Trident\/|MSIE /.test(window.navigator.userAgent),h=["trace","debug","info","warn","error"];function m(D,g){var E=D[g];if("function"==typeof E.bind)return E.bind(D);try{return Function.prototype.bind.call(E,D)}catch{return function(){return Function.prototype.apply.apply(E,[D,arguments])}}}function w(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function M(D){return"debug"===D&&(D="log"),typeof console!==a&&("trace"===D&&f?w:void 0!==console[D]?m(console,D):void 0!==console.log?m(console,"log"):v)}function U(D,g){for(var E=0;E<h.length;E++){var S=h[E];this[S]=E<D?v:this.methodFactory(S,D,g)}this.log=this.debug}function q(D,g,E){return function(){typeof console!==a&&(U.call(this,g,E),this[D].apply(this,arguments))}}function X(D,g,E){return M(D)||q.apply(this,arguments)}function b(D,g,E){var te,S=this;g=g??"WARN";var F="loglevel";function me(){var H;if(typeof window!==a&&F){try{H=window.localStorage[F]}catch{}if(typeof H===a)try{var oe=window.document.cookie,le=oe.indexOf(encodeURIComponent(F)+"=");-1!==le&&(H=/^([^;]+)/.exec(oe.slice(le))[1])}catch{}return void 0===S.levels[H]&&(H=void 0),H}}"string"==typeof D?F+=":"+D:"symbol"==typeof D&&(F=void 0),S.name=D,S.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},S.methodFactory=E||X,S.getLevel=function(){return te},S.setLevel=function(H,oe){if("string"==typeof H&&void 0!==S.levels[H.toUpperCase()]&&(H=S.levels[H.toUpperCase()]),!("number"==typeof H&&H>=0&&H<=S.levels.SILENT))throw"log.setLevel() called with invalid level: "+H;if(te=H,!1!==oe&&function(H){var oe=(h[H]||"silent").toUpperCase();if(typeof window!==a&&F){try{return void(window.localStorage[F]=oe)}catch{}try{window.document.cookie=encodeURIComponent(F)+"="+oe+";"}catch{}}}(H),U.call(S,H,D),typeof console===a&&H<S.levels.SILENT)return"No console available for logging"},S.setDefaultLevel=function(H){g=H,me()||S.setLevel(H,!1)},S.resetLevel=function(){S.setLevel(g,!1),function(){if(typeof window!==a&&F){try{return void window.localStorage.removeItem(F)}catch{}try{window.document.cookie=encodeURIComponent(F)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}()},S.enableAll=function(H){S.setLevel(S.levels.TRACE,H)},S.disableAll=function(H){S.setLevel(S.levels.SILENT,H)};var ye=me();null==ye&&(ye=g),S.setLevel(ye,!1)}var B=new b,k={};B.getLogger=function(g){if("symbol"!=typeof g&&"string"!=typeof g||""===g)throw new TypeError("You must supply a name when creating a logger.");var E=k[g];return E||(E=k[g]=new b(g,B.getLevel(),B.methodFactory)),E};var ee=typeof window!==a?window.log:void 0;return B.noConflict=function(){return typeof window!==a&&window.log===B&&(window.log=ee),B},B.getLoggers=function(){return k},B.default=B,B})?o.call(C,c,C,j):o)&&(j.exports=O)}()},99318:(j,C,c)=>{var o=c(99006);function O(a){var f=function(){return f.called?f.value:(f.called=!0,f.value=a.apply(this,arguments))};return f.called=!1,f}function v(a){var f=function(){if(f.called)throw new Error(f.onceError);return f.called=!0,f.value=a.apply(this,arguments)};return f.onceError=(a.name||"Function wrapped with `once`")+" shouldn't be called more than once",f.called=!1,f}j.exports=o(O),j.exports.strict=o(v),O.proto=O(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return O(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return v(this)},configurable:!0})})},16349:j=>{"use strict";j.exports="undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?{nextTick:function(c,o,O,v){if("function"!=typeof c)throw new TypeError('"callback" argument must be a function');var f,h,a=arguments.length;switch(a){case 0:case 1:return process.nextTick(c);case 2:return process.nextTick(function(){c.call(null,o)});case 3:return process.nextTick(function(){c.call(null,o,O)});case 4:return process.nextTick(function(){c.call(null,o,O,v)});default:for(f=new Array(a-1),h=0;h<f.length;)f[h++]=arguments[h];return process.nextTick(function(){c.apply(null,f)})}}}:process},30968:(j,C,c)=>{var o=c(99318),O=c(75859),v=c(71156),a=function(){},f=/^v?\.0/.test(process.version),h=function(b){return"function"==typeof b},M=function(b,B,k,ee){ee=o(ee);var D=!1;b.on("close",function(){D=!0}),O(b,{readable:B,writable:k},function(E){if(E)return ee(E);D=!0,ee()});var g=!1;return function(E){if(!D&&!g){if(g=!0,function(b){return!(!f||!v)&&(b instanceof(v.ReadStream||a)||b instanceof(v.WriteStream||a))&&h(b.close)}(b))return b.close(a);if(function(b){return b.setHeader&&h(b.abort)}(b))return b.abort();if(h(b.destroy))return b.destroy();ee(E||new Error("stream was destroyed"))}}},U=function(b){b()},q=function(b,B){return b.pipe(B)};j.exports=function(){var b=Array.prototype.slice.call(arguments),B=h(b[b.length-1]||a)&&b.pop()||a;if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new Error("pump requires two streams per minimum");var k,ee=b.map(function(D,g){var E=g<b.length-1;return M(D,E,g>0,function(te){k||(k=te),te&&ee.forEach(U),!E&&(ee.forEach(U),B(k))})});return b.reduce(q)}},67941:j=>{var C=function(c){"use strict";var v,o=Object.prototype,O=o.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},f=a.iterator||"@@iterator",h=a.asyncIterator||"@@asyncIterator",m=a.toStringTag||"@@toStringTag";function w(P,R,W){return Object.defineProperty(P,R,{value:W,enumerable:!0,configurable:!0,writable:!0}),P[R]}try{w({},"")}catch{w=function(R,W,d){return R[W]=d}}function M(P,R,W,d){var A=Object.create((R&&R.prototype instanceof ee?R:ee).prototype),V=new le(d||[]);return A._invoke=function(P,R,W){var d=q;return function(A,V){if(d===b)throw new Error("Generator is already running");if(d===B){if("throw"===A)throw V;return _e()}for(W.method=A,W.arg=V;;){var $=W.delegate;if($){var Y=ye($,W);if(Y){if(Y===k)continue;return Y}}if("next"===W.method)W.sent=W._sent=W.arg;else if("throw"===W.method){if(d===q)throw d=B,W.arg;W.dispatchException(W.arg)}else"return"===W.method&&W.abrupt("return",W.arg);d=b;var ie=U(P,R,W);if("normal"===ie.type){if(d=W.done?B:X,ie.arg===k)continue;return{value:ie.arg,done:W.done}}"throw"===ie.type&&(d=B,W.method="throw",W.arg=ie.arg)}}}(P,W,V),A}function U(P,R,W){try{return{type:"normal",arg:P.call(R,W)}}catch(d){return{type:"throw",arg:d}}}c.wrap=M;var q="suspendedStart",X="suspendedYield",b="executing",B="completed",k={};function ee(){}function D(){}function g(){}var E={};w(E,f,function(){return this});var S=Object.getPrototypeOf,te=S&&S(S(ve([])));te&&te!==o&&O.call(te,f)&&(E=te);var F=g.prototype=ee.prototype=Object.create(E);function we(P){["next","throw","return"].forEach(function(R){w(P,R,function(W){return this._invoke(R,W)})})}function me(P,R){function W(A,V,$,Y){var ie=U(P[A],P,V);if("throw"!==ie.type){var fe=ie.arg,re=fe.value;return re&&"object"==typeof re&&O.call(re,"__await")?R.resolve(re.__await).then(function(de){W("next",de,$,Y)},function(de){W("throw",de,$,Y)}):R.resolve(re).then(function(de){fe.value=de,$(fe)},function(de){return W("throw",de,$,Y)})}Y(ie.arg)}var d;this._invoke=function(A,V){function $(){return new R(function(Y,ie){W(A,V,Y,ie)})}return d=d?d.then($,$):$()}}function ye(P,R){var W=P.iterator[R.method];if(W===v){if(R.delegate=null,"throw"===R.method){if(P.iterator.return&&(R.method="return",R.arg=v,ye(P,R),"throw"===R.method))return k;R.method="throw",R.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var d=U(W,P.iterator,R.arg);if("throw"===d.type)return R.method="throw",R.arg=d.arg,R.delegate=null,k;var p=d.arg;return p?p.done?(R[P.resultName]=p.value,R.next=P.nextLoc,"return"!==R.method&&(R.method="next",R.arg=v),R.delegate=null,k):p:(R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,k)}function H(P){var R={tryLoc:P[0]};1 in P&&(R.catchLoc=P[1]),2 in P&&(R.finallyLoc=P[2],R.afterLoc=P[3]),this.tryEntries.push(R)}function oe(P){var R=P.completion||{};R.type="normal",delete R.arg,P.completion=R}function le(P){this.tryEntries=[{tryLoc:"root"}],P.forEach(H,this),this.reset(!0)}function ve(P){if(P){var R=P[f];if(R)return R.call(P);if("function"==typeof P.next)return P;if(!isNaN(P.length)){var W=-1,d=function p(){for(;++W<P.length;)if(O.call(P,W))return p.value=P[W],p.done=!1,p;return p.value=v,p.done=!0,p};return d.next=d}}return{next:_e}}function _e(){return{value:v,done:!0}}return D.prototype=g,w(F,"constructor",g),w(g,"constructor",D),D.displayName=w(g,m,"GeneratorFunction"),c.isGeneratorFunction=function(P){var R="function"==typeof P&&P.constructor;return!!R&&(R===D||"GeneratorFunction"===(R.displayName||R.name))},c.mark=function(P){return Object.setPrototypeOf?Object.setPrototypeOf(P,g):(P.__proto__=g,w(P,m,"GeneratorFunction")),P.prototype=Object.create(F),P},c.awrap=function(P){return{__await:P}},we(me.prototype),w(me.prototype,h,function(){return this}),c.AsyncIterator=me,c.async=function(P,R,W,d,p){void 0===p&&(p=Promise);var A=new me(M(P,R,W,d),p);return c.isGeneratorFunction(R)?A:A.next().then(function(V){return V.done?V.value:A.next()})},we(F),w(F,m,"Generator"),w(F,f,function(){return this}),w(F,"toString",function(){return"[object Generator]"}),c.keys=function(P){var R=[];for(var W in P)R.push(W);return R.reverse(),function d(){for(;R.length;){var p=R.pop();if(p in P)return d.value=p,d.done=!1,d}return d.done=!0,d}},c.values=ve,le.prototype={constructor:le,reset:function(P){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(oe),!P)for(var R in this)"t"===R.charAt(0)&&O.call(this,R)&&!isNaN(+R.slice(1))&&(this[R]=v)},stop:function(){this.done=!0;var R=this.tryEntries[0].completion;if("throw"===R.type)throw R.arg;return this.rval},dispatchException:function(P){if(this.done)throw P;var R=this;function W(Y,ie){return A.type="throw",A.arg=P,R.next=Y,ie&&(R.method="next",R.arg=v),!!ie}for(var d=this.tryEntries.length-1;d>=0;--d){var p=this.tryEntries[d],A=p.completion;if("root"===p.tryLoc)return W("end");if(p.tryLoc<=this.prev){var V=O.call(p,"catchLoc"),$=O.call(p,"finallyLoc");if(V&&$){if(this.prev<p.catchLoc)return W(p.catchLoc,!0);if(this.prev<p.finallyLoc)return W(p.finallyLoc)}else if(V){if(this.prev<p.catchLoc)return W(p.catchLoc,!0)}else{if(!$)throw new Error("try statement without catch or finally");if(this.prev<p.finallyLoc)return W(p.finallyLoc)}}}},abrupt:function(P,R){for(var W=this.tryEntries.length-1;W>=0;--W){var d=this.tryEntries[W];if(d.tryLoc<=this.prev&&O.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var p=d;break}}p&&("break"===P||"continue"===P)&&p.tryLoc<=R&&R<=p.finallyLoc&&(p=null);var A=p?p.completion:{};return A.type=P,A.arg=R,p?(this.method="next",this.next=p.finallyLoc,k):this.complete(A)},complete:function(P,R){if("throw"===P.type)throw P.arg;return"break"===P.type||"continue"===P.type?this.next=P.arg:"return"===P.type?(this.rval=this.arg=P.arg,this.method="return",this.next="end"):"normal"===P.type&&R&&(this.next=R),k},finish:function(P){for(var R=this.tryEntries.length-1;R>=0;--R){var W=this.tryEntries[R];if(W.finallyLoc===P)return this.complete(W.completion,W.afterLoc),oe(W),k}},catch:function(P){for(var R=this.tryEntries.length-1;R>=0;--R){var W=this.tryEntries[R];if(W.tryLoc===P){var d=W.completion;if("throw"===d.type){var p=d.arg;oe(W)}return p}}throw new Error("illegal catch attempt")},delegateYield:function(P,R,W){return this.delegate={iterator:ve(P),resultName:R,nextLoc:W},"next"===this.method&&(this.arg=v),k}},c}(j.exports);try{regeneratorRuntime=C}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=C:Function("r","regeneratorRuntime = r")(C)}},12979:j=>{var C={}.toString;j.exports=Array.isArray||function(c){return"[object Array]"==C.call(c)}},84491:(j,C,c)=>{"use strict";var o=c(16349),O=Object.keys||function(X){var b=[];for(var B in X)b.push(B);return b};j.exports=M;var v=Object.create(c(93605));v.inherits=c(59879);var a=c(97866),f=c(3976);v.inherits(M,a);for(var h=O(f.prototype),m=0;m<h.length;m++){var w=h[m];M.prototype[w]||(M.prototype[w]=f.prototype[w])}function M(X){if(!(this instanceof M))return new M(X);a.call(this,X),f.call(this,X),X&&!1===X.readable&&(this.readable=!1),X&&!1===X.writable&&(this.writable=!1),this.allowHalfOpen=!0,X&&!1===X.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",U)}function U(){this.allowHalfOpen||this._writableState.ended||o.nextTick(q,this)}function q(X){X.end()}Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(M.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(X){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=X,this._writableState.destroyed=X)}}),M.prototype._destroy=function(X,b){this.push(null),this.end(),o.nextTick(b,X)}},44842:(j,C,c)=>{"use strict";j.exports=v;var o=c(71481),O=Object.create(c(93605));function v(a){if(!(this instanceof v))return new v(a);o.call(this,a)}O.inherits=c(59879),O.inherits(v,o),v.prototype._transform=function(a,f,h){h(null,a)}},97866:(j,C,c)=>{"use strict";var o=c(16349);j.exports=S;var v,O=c(12979);S.ReadableState=E,c(93105);var f=function(s,u){return s.listeners(u).length},h=c(78204),m=c(13402).Buffer,w=global.Uint8Array||function(){},q=Object.create(c(93605));q.inherits=c(59879);var X=c(66882),b=void 0;b=X&&X.debuglog?X.debuglog("stream"):function(){};var ee,B=c(52911),k=c(69559);q.inherits(S,h);var D=["error","close","destroy","pause","resume"];function E(s,u){var T=u instanceof(v=v||c(84491));this.objectMode=!!(s=s||{}).objectMode,T&&(this.objectMode=this.objectMode||!!s.readableObjectMode);var x=s.highWaterMark,ne=s.readableHighWaterMark;this.highWaterMark=x||0===x?x:T&&(ne||0===ne)?ne:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new B,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=s.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,s.encoding&&(ee||(ee=c(57990).s),this.decoder=new ee(s.encoding),this.encoding=s.encoding)}function S(s){if(v=v||c(84491),!(this instanceof S))return new S(s);this._readableState=new E(s,this),this.readable=!0,s&&("function"==typeof s.read&&(this._read=s.read),"function"==typeof s.destroy&&(this._destroy=s.destroy)),h.call(this)}function te(s,u,T,x,ne){var Q,G=s._readableState;return null===u?(G.reading=!1,function(s,u){if(!u.ended){if(u.decoder){var T=u.decoder.end();T&&T.length&&(u.buffer.push(T),u.length+=u.objectMode?1:T.length)}u.ended=!0,le(s)}}(s,G)):(ne||(Q=function(s,u){var T;return!function(s){return m.isBuffer(s)||s instanceof w}(u)&&"string"!=typeof u&&void 0!==u&&!s.objectMode&&(T=new TypeError("Invalid non-string/buffer chunk")),T}(G,u)),Q?s.emit("error",Q):G.objectMode||u&&u.length>0?("string"!=typeof u&&!G.objectMode&&Object.getPrototypeOf(u)!==m.prototype&&(u=function(s){return m.from(s)}(u)),x?G.endEmitted?s.emit("error",new Error("stream.unshift() after end event")):F(s,G,u,!0):G.ended?s.emit("error",new Error("stream.push() after EOF")):(G.reading=!1,G.decoder&&!T?(u=G.decoder.write(u),G.objectMode||0!==u.length?F(s,G,u,!1):_e(s,G)):F(s,G,u,!1))):x||(G.reading=!1)),function(s){return!s.ended&&(s.needReadable||s.length<s.highWaterMark||0===s.length)}(G)}function F(s,u,T,x){u.flowing&&0===u.length&&!u.sync?(s.emit("data",T),s.read(0)):(u.length+=u.objectMode?1:T.length,x?u.buffer.unshift(T):u.buffer.push(T),u.needReadable&&le(s)),_e(s,u)}function H(s,u){return s<=0||0===u.length&&u.ended?0:u.objectMode?1:s!=s?u.flowing&&u.length?u.buffer.head.data.length:u.length:(s>u.highWaterMark&&(u.highWaterMark=function(s){return s>=8388608?s=8388608:(s--,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s++),s}(s)),s<=u.length?s:u.ended?u.length:(u.needReadable=!0,0))}function le(s){var u=s._readableState;u.needReadable=!1,u.emittedReadable||(b("emitReadable",u.flowing),u.emittedReadable=!0,u.sync?o.nextTick(ve,s):ve(s))}function ve(s){b("emit readable"),s.emit("readable"),A(s)}function _e(s,u){u.readingMore||(u.readingMore=!0,o.nextTick(P,s,u))}function P(s,u){for(var T=u.length;!u.reading&&!u.flowing&&!u.ended&&u.length<u.highWaterMark&&(b("maybeReadMore read 0"),s.read(0),T!==u.length);)T=u.length;u.readingMore=!1}function W(s){b("readable nexttick read 0"),s.read(0)}function p(s,u){u.reading||(b("resume read 0"),s.read(0)),u.resumeScheduled=!1,u.awaitDrain=0,s.emit("resume"),A(s),u.flowing&&!u.reading&&s.read(0)}function A(s){var u=s._readableState;for(b("flow",u.flowing);u.flowing&&null!==s.read(););}function V(s,u){return 0===u.length?null:(u.objectMode?T=u.buffer.shift():!s||s>=u.length?(T=u.decoder?u.buffer.join(""):1===u.buffer.length?u.buffer.head.data:u.buffer.concat(u.length),u.buffer.clear()):T=function(s,u,T){var x;return s<u.head.data.length?(x=u.head.data.slice(0,s),u.head.data=u.head.data.slice(s)):x=s===u.head.data.length?u.shift():T?function(s,u){var T=u.head,x=1,ne=T.data;for(s-=ne.length;T=T.next;){var G=T.data,Q=s>G.length?G.length:s;if(ne+=Q===G.length?G:G.slice(0,s),0==(s-=Q)){Q===G.length?(++x,u.head=T.next?T.next:u.tail=null):(u.head=T,T.data=G.slice(Q));break}++x}return u.length-=x,ne}(s,u):function(s,u){var T=m.allocUnsafe(s),x=u.head,ne=1;for(x.data.copy(T),s-=x.data.length;x=x.next;){var G=x.data,Q=s>G.length?G.length:s;if(G.copy(T,T.length-s,0,Q),0==(s-=Q)){Q===G.length?(++ne,u.head=x.next?x.next:u.tail=null):(u.head=x,x.data=G.slice(Q));break}++ne}return u.length-=ne,T}(s,u),x}(s,u.buffer,u.decoder),T);var T}function fe(s){var u=s._readableState;if(u.length>0)throw new Error('"endReadable()" called on non-empty stream');u.endEmitted||(u.ended=!0,o.nextTick(re,u,s))}function re(s,u){!s.endEmitted&&0===s.length&&(s.endEmitted=!0,u.readable=!1,u.emit("end"))}function de(s,u){for(var T=0,x=s.length;T<x;T++)if(s[T]===u)return T;return-1}Object.defineProperty(S.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(s){!this._readableState||(this._readableState.destroyed=s)}}),S.prototype.destroy=k.destroy,S.prototype._undestroy=k.undestroy,S.prototype._destroy=function(s,u){this.push(null),u(s)},S.prototype.push=function(s,u){var x,T=this._readableState;return T.objectMode?x=!0:"string"==typeof s&&((u=u||T.defaultEncoding)!==T.encoding&&(s=m.from(s,u),u=""),x=!0),te(this,s,u,!1,x)},S.prototype.unshift=function(s){return te(this,s,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(s){return ee||(ee=c(57990).s),this._readableState.decoder=new ee(s),this._readableState.encoding=s,this},S.prototype.read=function(s){b("read",s),s=parseInt(s,10);var u=this._readableState,T=s;if(0!==s&&(u.emittedReadable=!1),0===s&&u.needReadable&&(u.length>=u.highWaterMark||u.ended))return b("read: emitReadable",u.length,u.ended),0===u.length&&u.ended?fe(this):le(this),null;if(0===(s=H(s,u))&&u.ended)return 0===u.length&&fe(this),null;var ne,x=u.needReadable;return b("need readable",x),(0===u.length||u.length-s<u.highWaterMark)&&b("length less than watermark",x=!0),u.ended||u.reading?b("reading or ended",x=!1):x&&(b("do read"),u.reading=!0,u.sync=!0,0===u.length&&(u.needReadable=!0),this._read(u.highWaterMark),u.sync=!1,u.reading||(s=H(T,u))),null===(ne=s>0?V(s,u):null)?(u.needReadable=!0,s=0):u.length-=s,0===u.length&&(u.ended||(u.needReadable=!0),T!==s&&u.ended&&fe(this)),null!==ne&&this.emit("data",ne),ne},S.prototype._read=function(s){this.emit("error",new Error("_read() is not implemented"))},S.prototype.pipe=function(s,u){var T=this,x=this._readableState;switch(x.pipesCount){case 0:x.pipes=s;break;case 1:x.pipes=[x.pipes,s];break;default:x.pipes.push(s)}x.pipesCount+=1,b("pipe count=%d opts=%j",x.pipesCount,u);var G=u&&!1===u.end||s===process.stdout||s===process.stderr?Me:Ne;function Ne(){b("onend"),s.end()}x.endEmitted?o.nextTick(G):T.once("end",G),s.on("unpipe",function Q(Te,De){b("onunpipe"),Te===T&&De&&!1===De.hasUnpiped&&(De.hasUnpiped=!0,b("cleanup"),s.removeListener("close",Ue),s.removeListener("finish",je),s.removeListener("drain",ke),s.removeListener("error",Oe),s.removeListener("unpipe",Q),T.removeListener("end",Ne),T.removeListener("end",Me),T.removeListener("data",Pe),Re=!0,x.awaitDrain&&(!s._writableState||s._writableState.needDrain)&&ke())});var ke=function(s){return function(){var u=s._readableState;b("pipeOnDrain",u.awaitDrain),u.awaitDrain&&u.awaitDrain--,0===u.awaitDrain&&f(s,"data")&&(u.flowing=!0,A(s))}}(T);s.on("drain",ke);var Re=!1,Be=!1;function Pe(Te){b("ondata"),Be=!1,!1===s.write(Te)&&!Be&&((1===x.pipesCount&&x.pipes===s||x.pipesCount>1&&-1!==de(x.pipes,s))&&!Re&&(b("false write response, pause",T._readableState.awaitDrain),T._readableState.awaitDrain++,Be=!0),T.pause())}function Oe(Te){b("onerror",Te),Me(),s.removeListener("error",Oe),0===f(s,"error")&&s.emit("error",Te)}function Ue(){s.removeListener("finish",je),Me()}function je(){b("onfinish"),s.removeListener("close",Ue),Me()}function Me(){b("unpipe"),T.unpipe(s)}return T.on("data",Pe),function(s,u,T){if("function"==typeof s.prependListener)return s.prependListener(u,T);s._events&&s._events[u]?O(s._events[u])?s._events[u].unshift(T):s._events[u]=[T,s._events[u]]:s.on(u,T)}(s,"error",Oe),s.once("close",Ue),s.once("finish",je),s.emit("pipe",T),x.flowing||(b("pipe resume"),T.resume()),s},S.prototype.unpipe=function(s){var u=this._readableState,T={hasUnpiped:!1};if(0===u.pipesCount)return this;if(1===u.pipesCount)return s&&s!==u.pipes||(s||(s=u.pipes),u.pipes=null,u.pipesCount=0,u.flowing=!1,s&&s.emit("unpipe",this,T)),this;if(!s){var x=u.pipes,ne=u.pipesCount;u.pipes=null,u.pipesCount=0,u.flowing=!1;for(var G=0;G<ne;G++)x[G].emit("unpipe",this,T);return this}var Q=de(u.pipes,s);return-1===Q||(u.pipes.splice(Q,1),u.pipesCount-=1,1===u.pipesCount&&(u.pipes=u.pipes[0]),s.emit("unpipe",this,T)),this},S.prototype.addListener=S.prototype.on=function(s,u){var T=h.prototype.on.call(this,s,u);if("data"===s)!1!==this._readableState.flowing&&this.resume();else if("readable"===s){var x=this._readableState;!x.endEmitted&&!x.readableListening&&(x.readableListening=x.needReadable=!0,x.emittedReadable=!1,x.reading?x.length&&le(this):o.nextTick(W,this))}return T},S.prototype.resume=function(){var s=this._readableState;return s.flowing||(b("resume"),s.flowing=!0,function(s,u){u.resumeScheduled||(u.resumeScheduled=!0,o.nextTick(p,s,u))}(this,s)),this},S.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this},S.prototype.wrap=function(s){var u=this,T=this._readableState,x=!1;for(var ne in s.on("end",function(){if(b("wrapped end"),T.decoder&&!T.ended){var Q=T.decoder.end();Q&&Q.length&&u.push(Q)}u.push(null)}),s.on("data",function(Q){b("wrapped data"),T.decoder&&(Q=T.decoder.write(Q)),T.objectMode&&null==Q||!(T.objectMode||Q&&Q.length)||u.push(Q)||(x=!0,s.pause())}),s)void 0===this[ne]&&"function"==typeof s[ne]&&(this[ne]=function(Q){return function(){return s[Q].apply(s,arguments)}}(ne));for(var G=0;G<D.length;G++)s.on(D[G],this.emit.bind(this,D[G]));return this._read=function(Q){b("wrapped _read",Q),x&&(x=!1,s.resume())},this},Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),S._fromList=V},71481:(j,C,c)=>{"use strict";j.exports=a;var o=c(84491),O=Object.create(c(93605));function v(m,w){var M=this._transformState;M.transforming=!1;var U=M.writecb;if(!U)return this.emit("error",new Error("write callback called multiple times"));M.writechunk=null,M.writecb=null,null!=w&&this.push(w),U(m);var q=this._readableState;q.reading=!1,(q.needReadable||q.length<q.highWaterMark)&&this._read(q.highWaterMark)}function a(m){if(!(this instanceof a))return new a(m);o.call(this,m),this._transformState={afterTransform:v.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&("function"==typeof m.transform&&(this._transform=m.transform),"function"==typeof m.flush&&(this._flush=m.flush)),this.on("prefinish",f)}function f(){var m=this;"function"==typeof this._flush?this._flush(function(w,M){h(m,w,M)}):h(this,null,null)}function h(m,w,M){if(w)return m.emit("error",w);if(null!=M&&m.push(M),m._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(m._transformState.transforming)throw new Error("Calling transform done when still transforming");return m.push(null)}O.inherits=c(59879),O.inherits(a,o),a.prototype.push=function(m,w){return this._transformState.needTransform=!1,o.prototype.push.call(this,m,w)},a.prototype._transform=function(m,w,M){throw new Error("_transform() is not implemented")},a.prototype._write=function(m,w,M){var U=this._transformState;if(U.writecb=M,U.writechunk=m,U.writeencoding=w,!U.transforming){var q=this._readableState;(U.needTransform||q.needReadable||q.length<q.highWaterMark)&&this._read(q.highWaterMark)}},a.prototype._read=function(m){var w=this._transformState;null!==w.writechunk&&w.writecb&&!w.transforming?(w.transforming=!0,this._transform(w.writechunk,w.writeencoding,w.afterTransform)):w.needTransform=!0},a.prototype._destroy=function(m,w){var M=this;o.prototype._destroy.call(this,m,function(U){w(U),M.emit("close")})}},3976:(j,C,c)=>{"use strict";var o=c(16349);function v(d){var p=this;this.next=null,this.entry=null,this.finish=function(){!function(d,p,A){var V=d.entry;for(d.entry=null;V;){var $=V.callback;p.pendingcb--,$(undefined),V=V.next}p.corkedRequestsFree?p.corkedRequestsFree.next=d:p.corkedRequestsFree=d}(p,d)}}j.exports=D;var f,a=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:o.nextTick;D.WritableState=k;var h=Object.create(c(93605));h.inherits=c(59879);var ee,m={deprecate:c(15822)},w=c(78204),M=c(13402).Buffer,U=global.Uint8Array||function(){},b=c(69559);function B(){}function k(d,p){f=f||c(84491);var A=p instanceof f;this.objectMode=!!(d=d||{}).objectMode,A&&(this.objectMode=this.objectMode||!!d.writableObjectMode);var V=d.highWaterMark,$=d.writableHighWaterMark;this.highWaterMark=V||0===V?V:A&&($||0===$)?$:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===d.decodeStrings),this.defaultEncoding=d.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(fe){!function(d,p){var A=d._writableState,V=A.sync,$=A.writecb;if(function(d){d.writing=!1,d.writecb=null,d.length-=d.writelen,d.writelen=0}(A),p)!function(d,p,A,V,$){--p.pendingcb,A?(o.nextTick($,V),o.nextTick(P,d,p),d._writableState.errorEmitted=!0,d.emit("error",V)):($(V),d._writableState.errorEmitted=!0,d.emit("error",V),P(d,p))}(d,A,V,p,$);else{var Y=le(A);!Y&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&oe(d,A),V?a(ye,d,A,Y,$):ye(d,A,Y,$)}}(p,fe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new v(this)}function D(d){if(f=f||c(84491),!(ee.call(D,this)||this instanceof f))return new D(d);this._writableState=new k(d,this),this.writable=!0,d&&("function"==typeof d.write&&(this._write=d.write),"function"==typeof d.writev&&(this._writev=d.writev),"function"==typeof d.destroy&&(this._destroy=d.destroy),"function"==typeof d.final&&(this._final=d.final)),w.call(this)}function F(d,p,A,V,$,Y,ie){p.writelen=V,p.writecb=ie,p.writing=!0,p.sync=!0,A?d._writev($,p.onwrite):d._write($,Y,p.onwrite),p.sync=!1}function ye(d,p,A,V){A||function(d,p){0===p.length&&p.needDrain&&(p.needDrain=!1,d.emit("drain"))}(d,p),p.pendingcb--,V(),P(d,p)}function oe(d,p){p.bufferProcessing=!0;var A=p.bufferedRequest;if(d._writev&&A&&A.next){var $=new Array(p.bufferedRequestCount),Y=p.corkedRequestsFree;Y.entry=A;for(var ie=0,fe=!0;A;)$[ie]=A,A.isBuf||(fe=!1),A=A.next,ie+=1;$.allBuffers=fe,F(d,p,!0,p.length,$,"",Y.finish),p.pendingcb++,p.lastBufferedRequest=null,Y.next?(p.corkedRequestsFree=Y.next,Y.next=null):p.corkedRequestsFree=new v(p),p.bufferedRequestCount=0}else{for(;A;){var re=A.chunk;if(F(d,p,!1,p.objectMode?1:re.length,re,A.encoding,A.callback),A=A.next,p.bufferedRequestCount--,p.writing)break}null===A&&(p.lastBufferedRequest=null)}p.bufferedRequest=A,p.bufferProcessing=!1}function le(d){return d.ending&&0===d.length&&null===d.bufferedRequest&&!d.finished&&!d.writing}function ve(d,p){d._final(function(A){p.pendingcb--,A&&d.emit("error",A),p.prefinished=!0,d.emit("prefinish"),P(d,p)})}function P(d,p){var A=le(p);return A&&(function(d,p){!p.prefinished&&!p.finalCalled&&("function"==typeof d._final?(p.pendingcb++,p.finalCalled=!0,o.nextTick(ve,d,p)):(p.prefinished=!0,d.emit("prefinish")))}(d,p),0===p.pendingcb&&(p.finished=!0,d.emit("finish"))),A}h.inherits(D,w),k.prototype.getBuffer=function(){for(var p=this.bufferedRequest,A=[];p;)A.push(p),p=p.next;return A},function(){try{Object.defineProperty(k.prototype,"buffer",{get:m.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(ee=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(d){return!!ee.call(this,d)||this===D&&d&&d._writableState instanceof k}})):ee=function(d){return d instanceof this},D.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},D.prototype.write=function(d,p,A){var V=this._writableState,$=!1,Y=!V.objectMode&&function(d){return M.isBuffer(d)||d instanceof U}(d);return Y&&!M.isBuffer(d)&&(d=function(d){return M.from(d)}(d)),"function"==typeof p&&(A=p,p=null),Y?p="buffer":p||(p=V.defaultEncoding),"function"!=typeof A&&(A=B),V.ended?function(d,p){var A=new Error("write after end");d.emit("error",A),o.nextTick(p,A)}(this,A):(Y||function(d,p,A,V){var $=!0,Y=!1;return null===A?Y=new TypeError("May not write null values to stream"):"string"!=typeof A&&void 0!==A&&!p.objectMode&&(Y=new TypeError("Invalid non-string/buffer chunk")),Y&&(d.emit("error",Y),o.nextTick(V,Y),$=!1),$}(this,V,d,A))&&(V.pendingcb++,$=function(d,p,A,V,$,Y){if(!A){var ie=function(d,p,A){return!d.objectMode&&!1!==d.decodeStrings&&"string"==typeof p&&(p=M.from(p,A)),p}(p,V,$);V!==ie&&(A=!0,$="buffer",V=ie)}var fe=p.objectMode?1:V.length;p.length+=fe;var re=p.length<p.highWaterMark;if(re||(p.needDrain=!0),p.writing||p.corked){var de=p.lastBufferedRequest;p.lastBufferedRequest={chunk:V,encoding:$,isBuf:A,callback:Y,next:null},de?de.next=p.lastBufferedRequest:p.bufferedRequest=p.lastBufferedRequest,p.bufferedRequestCount+=1}else F(d,p,!1,fe,V,$,Y);return re}(this,V,Y,d,p,A)),$},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var d=this._writableState;d.corked&&(d.corked--,!d.writing&&!d.corked&&!d.finished&&!d.bufferProcessing&&d.bufferedRequest&&oe(this,d))},D.prototype.setDefaultEncoding=function(p){if("string"==typeof p&&(p=p.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((p+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+p);return this._writableState.defaultEncoding=p,this},Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),D.prototype._write=function(d,p,A){A(new Error("_write() is not implemented"))},D.prototype._writev=null,D.prototype.end=function(d,p,A){var V=this._writableState;"function"==typeof d?(A=d,d=null,p=null):"function"==typeof p&&(A=p,p=null),null!=d&&this.write(d,p),V.corked&&(V.corked=1,this.uncork()),!V.ending&&!V.finished&&function(d,p,A){p.ending=!0,P(d,p),A&&(p.finished?o.nextTick(A):d.once("finish",A)),p.ended=!0,d.writable=!1}(this,V,A)},Object.defineProperty(D.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(d){!this._writableState||(this._writableState.destroyed=d)}}),D.prototype.destroy=b.destroy,D.prototype._undestroy=b.undestroy,D.prototype._destroy=function(d,p){this.end(),p(d)}},52911:(j,C,c)=>{"use strict";var O=c(13402).Buffer,v=c(50522);function a(f,h,m){f.copy(h,m)}j.exports=function(){function f(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}return f.prototype.push=function(m){var w={data:m,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length},f.prototype.unshift=function(m){var w={data:m,next:this.head};0===this.length&&(this.tail=w),this.head=w,++this.length},f.prototype.shift=function(){if(0!==this.length){var m=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,m}},f.prototype.clear=function(){this.head=this.tail=null,this.length=0},f.prototype.join=function(m){if(0===this.length)return"";for(var w=this.head,M=""+w.data;w=w.next;)M+=m+w.data;return M},f.prototype.concat=function(m){if(0===this.length)return O.alloc(0);if(1===this.length)return this.head.data;for(var w=O.allocUnsafe(m>>>0),M=this.head,U=0;M;)a(M.data,w,U),U+=M.data.length,M=M.next;return w},f}(),v&&v.inspect&&v.inspect.custom&&(j.exports.prototype[v.inspect.custom]=function(){var f=v.inspect({length:this.length});return this.constructor.name+" "+f})},69559:(j,C,c)=>{"use strict";var o=c(16349);function a(f,h){f.emit("error",h)}j.exports={destroy:function(f,h){var m=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(h?h(f):f&&(!this._writableState||!this._writableState.errorEmitted)&&o.nextTick(a,this,f),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(f||null,function(U){!h&&U?(o.nextTick(a,m,U),m._writableState&&(m._writableState.errorEmitted=!0)):h&&h(U)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},78204:(j,C,c)=>{j.exports=c(93105).EventEmitter},14560:(j,C,c)=>{(C=j.exports=c(97866)).Stream=C,C.Readable=C,C.Writable=c(3976),C.Duplex=c(84491),C.Transform=c(71481),C.PassThrough=c(44842)},13402:(j,C,c)=>{var o=c(3875),O=o.Buffer;function v(f,h){for(var m in f)h[m]=f[m]}function a(f,h,m){return O(f,h,m)}O.from&&O.alloc&&O.allocUnsafe&&O.allocUnsafeSlow?j.exports=o:(v(o,C),C.Buffer=a),v(O,a),a.from=function(f,h,m){if("number"==typeof f)throw new TypeError("Argument must not be a number");return O(f,h,m)},a.alloc=function(f,h,m){if("number"!=typeof f)throw new TypeError("Argument must be a number");var w=O(f);return void 0!==h?"string"==typeof m?w.fill(h,m):w.fill(h):w.fill(0),w},a.allocUnsafe=function(f){if("number"!=typeof f)throw new TypeError("Argument must be a number");return O(f)},a.allocUnsafeSlow=function(f){if("number"!=typeof f)throw new TypeError("Argument must be a number");return o.SlowBuffer(f)}},57990:(j,C,c)=>{"use strict";var o=c(13402).Buffer,O=o.isEncoding||function(g){switch((g=""+g)&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(g){var E;switch(this.encoding=function(g){var E=function(g){if(!g)return"utf8";for(var E;;)switch(g){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return g;default:if(E)return;g=(""+g).toLowerCase(),E=!0}}(g);if("string"!=typeof E&&(o.isEncoding===O||!O(g)))throw new Error("Unknown encoding: "+g);return E||g}(g),this.encoding){case"utf16le":this.text=X,this.end=b,E=4;break;case"utf8":this.fillLast=M,E=4;break;case"base64":this.text=B,this.end=k,E=3;break;default:return this.write=ee,void(this.end=D)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(E)}function h(g){return g<=127?0:g>>5==6?2:g>>4==14?3:g>>3==30?4:g>>6==2?-1:-2}function M(g){var E=this.lastTotal-this.lastNeed,S=function(g,E,S){if(128!=(192&E[0]))return g.lastNeed=0,"\ufffd";if(g.lastNeed>1&&E.length>1){if(128!=(192&E[1]))return g.lastNeed=1,"\ufffd";if(g.lastNeed>2&&E.length>2&&128!=(192&E[2]))return g.lastNeed=2,"\ufffd"}}(this,g);return void 0!==S?S:this.lastNeed<=g.length?(g.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(g.copy(this.lastChar,E,0,g.length),void(this.lastNeed-=g.length))}function X(g,E){if((g.length-E)%2==0){var S=g.toString("utf16le",E);if(S){var te=S.charCodeAt(S.length-1);if(te>=55296&&te<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],S.slice(0,-1)}return S}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",E,g.length-1)}function b(g){var E=g&&g.length?this.write(g):"";return this.lastNeed?E+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):E}function B(g,E){var S=(g.length-E)%3;return 0===S?g.toString("base64",E):(this.lastNeed=3-S,this.lastTotal=3,1===S?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",E,g.length-S))}function k(g){var E=g&&g.length?this.write(g):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function ee(g){return g.toString(this.encoding)}function D(g){return g&&g.length?this.write(g):""}C.s=f,f.prototype.write=function(g){if(0===g.length)return"";var E,S;if(this.lastNeed){if(void 0===(E=this.fillLast(g)))return"";S=this.lastNeed,this.lastNeed=0}else S=0;return S<g.length?E?E+this.text(g,S):this.text(g,S):E||""},f.prototype.end=function(g){var E=g&&g.length?this.write(g):"";return this.lastNeed?E+"\ufffd":E},f.prototype.text=function(g,E){var S=function(g,E,S){var te=E.length-1;if(te<S)return 0;var F=h(E[te]);return F>=0?(F>0&&(g.lastNeed=F-1),F):--te<S||-2===F?0:(F=h(E[te]))>=0?(F>0&&(g.lastNeed=F-2),F):--te<S||-2===F?0:(F=h(E[te]))>=0?(F>0&&(2===F?F=0:g.lastNeed=F-3),F):0}(this,g,E);if(!this.lastNeed)return g.toString("utf8",E);this.lastTotal=S;var te=g.length-(S-this.lastNeed);return g.copy(this.lastChar,0,te),g.toString("utf8",E,te)},f.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length}},73529:(j,C,c)=>{var o=c(14560).Transform,O=c(71732).inherits,v=c(70166);function a(m){o.call(this,m),this._destroyed=!1}function f(m,w,M){M(null,m)}function h(m){return function(w,M,U){return"function"==typeof w&&(U=M,M=w,w={}),"function"!=typeof M&&(M=f),"function"!=typeof U&&(U=null),m(w,M,U)}}O(a,o),a.prototype.destroy=function(m){if(!this._destroyed){this._destroyed=!0;var w=this;process.nextTick(function(){m&&w.emit("error",m),w.emit("close")})}},j.exports=h(function(m,w,M){var U=new a(m);return U._transform=w,M&&(U._flush=M),U}),j.exports.ctor=h(function(m,w,M){function U(q){if(!(this instanceof U))return new U(q);this.options=v(m,q),a.call(this,this.options)}return O(U,a),U.prototype._transform=w,M&&(U.prototype._flush=M),U}),j.exports.obj=h(function(m,w,M){var U=new a(v({objectMode:!0,highWaterMark:16},m));return U._transform=w,M&&(U._flush=M),U})},99006:j=>{j.exports=function C(c,o){if(c&&o)return C(c)(o);if("function"!=typeof c)throw new TypeError("need wrapper function");return Object.keys(c).forEach(function(v){O[v]=c[v]}),O;function O(){for(var v=new Array(arguments.length),a=0;a<v.length;a++)v[a]=arguments[a];var f=c.apply(this,v),h=v[v.length-1];return"function"==typeof f&&f!==h&&Object.keys(h).forEach(function(m){f[m]=h[m]}),f}}},88774:(j,C,c)=>{j.exports=c(67941)},71156:()=>{},50522:()=>{},66882:()=>{}}]);