(self.webpackChunktimeless_frontend=self.webpackChunktimeless_frontend||[]).push([[7470],{44693:(V,e,l)=>{"use strict";var s=new(0,l(5247).ec)("secp256k1"),v=global.crypto||global.msCrypto||{},d=v.subtle||v.webkitSubtle,f=l(19726);const i=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),u=Buffer.alloc(32,0);function r(g,p){if(!g)throw new Error(p||"Assertion failed")}function n(g){return!!function(g){return Buffer.isBuffer(g)&&32===g.length}(g)&&g.compare(u)>0&&g.compare(i)<0}function y(g){var p=new Uint8Array(g);return void 0===v.getRandomValues?Buffer.from(f.randomBytes(g)):(v.getRandomValues(p),Buffer.from(p))}function S(g){return new Promise(function(p){var c=f.createHash("sha512").update(g).digest();p(new Uint8Array(c))})}function P(g){return function(p,L,c){return new Promise(function(t){if(d)return d.importKey("raw",L,{name:"AES-CBC"},!1,[g]).then(function(x){return d[g]({name:"AES-CBC",iv:p},x,c)}).then(function(x){t(Buffer.from(new Uint8Array(x)))});if("encrypt"===g){var N=f.createCipheriv("aes-256-cbc",L,p);let x=N.update(c),k=N.final();t(Buffer.concat([x,k]))}else if("decrypt"===g){var H=f.createDecipheriv("aes-256-cbc",L,p);let x=H.update(c),k=H.final();t(Buffer.concat([x,k]))}})}}var C=P("encrypt"),E=P("decrypt"),M=function(g,p){return new Promise(function(L){r(Buffer.isBuffer(g),"Bad private key"),r(Buffer.isBuffer(p),"Bad public key"),r(32===g.length,"Bad private key"),r(n(g),"Bad private key"),r(65===p.length||33===p.length,"Bad public key"),65===p.length&&r(4===p[0],"Bad public key"),33===p.length&&r(2===p[0]||3===p[0],"Bad public key");var c=s.keyFromPrivate(g),t=s.keyFromPublic(p),m=c.derive(t.getPublic());L(Buffer.from(m.toArray()))})};e.HI=function(g,p,L){var c,t,m,O;return L=L||{},new Promise(function(N){for(var H=L.ephemPrivateKey||y(32);!n(H);)H=L.ephemPrivateKey||y(32);t=function(g){return r(32===g.length,"Bad private key"),r(n(g),"Bad private key"),Buffer.from(s.keyFromPrivate(g).getPublic("arr"))}(H),N(M(H,g))}).then(function(N){return S(N)}).then(function(N){c=L.iv||y(16);var H=N.slice(0,32);return O=N.slice(32),C(c,H,p)}).then(function(N){m=N;var H=Buffer.concat([c,t,m]);return function(g,p){return new Promise(function(L){var c=f.createHmac("sha256",Buffer.from(g));c.update(p),L(c.digest())})}(O,H)}).then(function(N){return{iv:c,ephemPublicKey:t,ciphertext:m,mac:N}})},e.pe=function(g,p){var L;return M(g,p.ephemPublicKey).then(function(c){return S(c)}).then(function(c){return L=c.slice(0,32),function(g,p,L){return new Promise(function(c){var t=f.createHmac("sha256",Buffer.from(g));t.update(p),c(function(g,p){if(g.length!==p.length)return!1;for(var L=0,c=0;c<g.length;c++)L|=g[c]^p[c];return 0===L}(t.digest(),L))})}(c.slice(32),Buffer.concat([p.iv,p.ephemPublicKey,p.ciphertext]),p.mac)}).then(function(c){return r(c,"Bad MAC"),E(p.iv,L,p.ciphertext)}).then(function(c){return Buffer.from(new Uint8Array(c))})}},17470:(V,e,l)=>{"use strict";l.r(e),l.d(e,{calculateContractAddress:()=>Y,cipher:()=>s,createIdentity:()=>P,decryptWithPrivateKey:()=>t,default:()=>ae,encryptWithPublicKey:()=>m,hash:()=>v,hex:()=>d,publicKey:()=>B,publicKeyByPrivateKey:()=>O,recover:()=>H,recoverPublicKey:()=>N,sign:()=>x,signTransaction:()=>F,txDataByCompiled:()=>D,util:()=>b,vrs:()=>f});var b={};l.r(b),l.d(b,{addLeading0x:()=>T,hexToUnit8Array:()=>A,removeLeading0x:()=>E,uint8ArrayToHex:()=>R});var B={};l.r(B),l.d(B,{compress:()=>K,decompress:()=>M,toAddress:()=>g});var s={};l.r(s),l.d(s,{parse:()=>c,stringify:()=>L});var v={};l.r(v),l.d(v,{SIGN_PREFIX:()=>ee,keccak256:()=>q});var d={};l.r(d),l.d(d,{compress:()=>re,decompress:()=>ne});var f={};l.r(f),l.d(f,{fromString:()=>te,toString:()=>ie});var i=l(6846),u=l(28518),r=l(61488),a=l(42563),n=l(37359),y=u.keccak256;function P(o){var w=function(o){if(o){if(!Buffer.isBuffer(o))throw new Error("EthCrypto.createPrivateKey(): given entropy is no Buffer");if(Buffer.byteLength(o,"utf8")<128)throw new Error("EthCrypto.createPrivateKey(): Entropy-size must be at least 128");return y(o)}var I=y(r.concat([a.O(32),a.O(32)])),U=r.concat([r.concat([a.O(32),I]),a.O(32)]);return y(U)}(o),I=new i.Wallet(w);return{privateKey:w,publicKey:(0,n.stripHexPrefix)(I.publicKey).slice(2),address:I.address}}var C=l(54099);function E(o){return o.startsWith("0x")?o.substring(2):o}function T(o){return o.startsWith("0x")?o:"0x"+o}function R(o){return Buffer.from(o).toString("hex")}function A(o){return new Uint8Array(Buffer.from(o,"hex"))}function K(o){return 64===Buffer.from(o,"hex").length&&(o="04"+o),R((0,C.publicKeyConvert)(A(o),!0))}function M(o){64===Buffer.from(o,"hex").length&&(o="04"+o);var I=R((0,C.publicKeyConvert)(A(o),!1));return I.substring(2)}function g(o){o=M(o);var w=(0,n.pubToAddress)((0,n.toBuffer)(T(o)));return(0,n.toChecksumAddress)(T(w.toString("hex")))}var p=l(44693);function L(o){if("string"==typeof o)return o;var w=K(o.ephemPublicKey);return Buffer.concat([Buffer.from(o.iv,"hex"),Buffer.from(w,"hex"),Buffer.from(o.mac,"hex"),Buffer.from(o.ciphertext,"hex")]).toString("hex")}function c(o){if("string"!=typeof o)return o;var w=Buffer.from(o,"hex"),I={iv:w.toString("hex",0,16),ephemPublicKey:w.toString("hex",16,49),mac:w.toString("hex",49,81),ciphertext:w.toString("hex",81,w.length)};return I.ephemPublicKey="04"+M(I.ephemPublicKey),I}function t(o,w){w=c(w);var I=E(o),U={iv:Buffer.from(w.iv,"hex"),ephemPublicKey:Buffer.from(w.ephemPublicKey,"hex"),ciphertext:Buffer.from(w.ciphertext,"hex"),mac:Buffer.from(w.mac,"hex")};return(0,p.pe)(Buffer.from(I,"hex"),U).then(function(j){return j.toString()})}function m(o,w,I){return o=M(o),(0,p.HI)(Buffer.from("04"+o,"hex"),Buffer.from(w),I||{}).then(function(j){return{iv:j.iv.toString("hex"),ephemPublicKey:j.ephemPublicKey.toString("hex"),ciphertext:j.ciphertext.toString("hex"),mac:j.mac.toString("hex")}})}function O(o){return o=T(o),(0,n.privateToPublic)((0,n.toBuffer)(o)).toString("hex")}function N(o,w){var I=(o=E(o)).substring(0,o.length-2),j="1c"===o.slice(-2)?1:0,z=R((0,C.ecdsaRecover)(A(I),j,A(E(w)),!1));return z.slice(2)}function H(o,w){return g(N(o,w))}function x(o,w){if(66!==(w=T(w)).length)throw new Error("EthCrypto.sign(): Can only sign hashes, given: "+w);var I=(0,C.ecdsaSign)(new Uint8Array(Buffer.from(E(w),"hex")),new Uint8Array(Buffer.from(E(o),"hex"))),U=1===I.recid?"1c":"1b";return"0x"+Buffer.from(I.signature).toString("hex")+U}var k=l(50470);function F(o,w){var I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},U=O(w),j=g(U);if(j!=o.from)throw new Error("EthCrypto.signTransaction(): rawTx.from does not match the address of the privateKey");var z=Buffer.from(w.replace(/^.{2}/g,""),"hex"),fe=k.Transaction.fromTxData(o,I),ue=fe.sign(z),oe=ue.serialize().toString("hex");return oe}function Z(o,w){(null==w||w>o.length)&&(w=o.length);for(var I=0,U=new Array(w);I<w;I++)U[I]=o[I];return U}var J=l(36776);function D(o,w,I){"string"==typeof o&&(o=JSON.parse(o));var U=new J.ContractFactory(o,"0x"+w);return U.getDeployTransaction.apply(U,function(o){return function(o){if(Array.isArray(o))return Z(o)}(o)||function(o){if("undefined"!=typeof Symbol&&null!=o[Symbol.iterator]||null!=o["@@iterator"])return Array.from(o)}(o)||function(o,w){if(o){if("string"==typeof o)return Z(o,w);var I=Object.prototype.toString.call(o).slice(8,-1);if("Object"===I&&o.constructor&&(I=o.constructor.name),"Map"===I||"Set"===I)return Array.from(o);if("Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return Z(o,w)}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(I)).data}function Y(o,w){var U=(0,n.generateAddress)((0,n.toBuffer)(T(o)),(0,n.toBuffer)(w)).toString("hex");return(0,n.toChecksumAddress)(T(U))}var Q=l(37979);function q(o){var w=[],I=[];return Array.isArray(o)?o.forEach(function(U){w.push(U.type),I.push(U.value)}):(w.push("string"),I.push(o)),Q.keccak256(w,I)}var ee="\x19Ethereum Signed Message:\n32";function re(o){var w=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(o=E(o),!0===w)return Buffer.from(o,"hex").toString("base64");for(var I="";o.length%4!=0;)o="0"+o;for(var U=0;U<o.length;U+=4)I+=String.fromCharCode(parseInt(o.substring(U,U+4),16));return I}function ne(o){var w=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!0===w){var I=Buffer.from(o,"base64").toString("hex");return T(I)}for(var U="",j=0;j<o.length;j++)U+=((0==j?"":"000")+o.charCodeAt(j).toString(16)).slice(-4);return T(U=U.toLowerCase())}function te(o){var w=r.splitSignature(o);return{v:"0x".concat(w.v.toString(16)),r:w.r,s:w.s}}function ie(o){return r.joinSignature(o)}const ae={createIdentity:P,publicKey:B,decryptWithPrivateKey:t,encryptWithPublicKey:m,cipher:s,publicKeyByPrivateKey:O,recover:H,recoverPublicKey:N,sign:x,signTransaction:F,txDataByCompiled:D,calculateContractAddress:Y,hash:v,hex:d,vrs:f,util:b}},14246:function(V,e,l){"use strict";var b=this&&this.__read||function(c,t){var m="function"==typeof Symbol&&c[Symbol.iterator];if(!m)return c;var N,x,O=m.call(c),H=[];try{for(;(void 0===t||t-- >0)&&!(N=O.next()).done;)H.push(N.value)}catch(k){x={error:k}}finally{try{N&&!N.done&&(m=O.return)&&m.call(O)}finally{if(x)throw x.error}}return H},B=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.isZeroAddress=e.zeroAddress=e.importPublic=e.privateToAddress=e.privateToPublic=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isValidAddress=e.Account=void 0;var s=B(l(33114)),v=l(84504),d=l(10019),f=l(67879),i=l(56810),u=l(47897),r=l(24419),a=l(60176),n=l(44018),h=function(){function c(t,m,O,N){void 0===t&&(t=new v.BN(0)),void 0===m&&(m=new v.BN(0)),void 0===O&&(O=i.KECCAK256_RLP),void 0===N&&(N=i.KECCAK256_NULL),this.nonce=t,this.balance=m,this.stateRoot=O,this.codeHash=N,this._validate()}return c.fromAccountData=function(t){var m=t.nonce,O=t.balance,N=t.stateRoot,H=t.codeHash;return new c(m?new v.BN((0,u.toBuffer)(m)):void 0,O?new v.BN((0,u.toBuffer)(O)):void 0,N?(0,u.toBuffer)(N):void 0,H?(0,u.toBuffer)(H):void 0)},c.fromRlpSerializedAccount=function(t){var m=v.rlp.decode(t);if(!Array.isArray(m))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(m)},c.fromValuesArray=function(t){var m=b(t,4),N=m[1],H=m[2],x=m[3];return new c(new v.BN(m[0]),new v.BN(N),H,x)},c.prototype._validate=function(){if(this.nonce.lt(new v.BN(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new v.BN(0)))throw new Error("balance must be greater than zero");if(32!==this.stateRoot.length)throw new Error("stateRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")},c.prototype.raw=function(){return[(0,n.bnToUnpaddedBuffer)(this.nonce),(0,n.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},c.prototype.serialize=function(){return v.rlp.encode(this.raw())},c.prototype.isContract=function(){return!this.codeHash.equals(i.KECCAK256_NULL)},c.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(i.KECCAK256_NULL)},c}();e.Account=h,e.isValidAddress=function(c){try{(0,a.assertIsString)(c)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(c)},e.toChecksumAddress=function(c,t){(0,a.assertIsHexString)(c);var m=(0,f.stripHexPrefix)(c).toLowerCase(),O="";t&&(O=(0,n.toType)(t,n.TypeOutput.BN).toString()+"0x");for(var H=(0,r.keccakFromString)(O+m).toString("hex"),x="0x",k=0;k<m.length;k++)parseInt(H[k],16)>=8?x+=m[k].toUpperCase():x+=m[k];return x},e.isValidChecksumAddress=function(c,t){return(0,e.isValidAddress)(c)&&(0,e.toChecksumAddress)(c,t)===c},e.generateAddress=function(c,t){(0,a.assertIsBuffer)(c),(0,a.assertIsBuffer)(t);var m=new v.BN(t);return m.isZero()?(0,r.rlphash)([c,null]).slice(-20):(0,r.rlphash)([c,Buffer.from(m.toArray())]).slice(-20)},e.generateAddress2=function(c,t,m){return(0,a.assertIsBuffer)(c),(0,a.assertIsBuffer)(t),(0,a.assertIsBuffer)(m),(0,s.default)(20===c.length),(0,s.default)(32===t.length),(0,r.keccak256)(Buffer.concat([Buffer.from("ff","hex"),c,t,(0,r.keccak256)(m)])).slice(-20)},e.isValidPrivate=function(c){return(0,d.privateKeyVerify)(c)},e.isValidPublic=function(c,t){return void 0===t&&(t=!1),(0,a.assertIsBuffer)(c),64===c.length?(0,d.publicKeyVerify)(Buffer.concat([Buffer.from([4]),c])):!!t&&(0,d.publicKeyVerify)(c)},e.pubToAddress=function(c,t){return void 0===t&&(t=!1),(0,a.assertIsBuffer)(c),t&&64!==c.length&&(c=Buffer.from((0,d.publicKeyConvert)(c,!1).slice(1))),(0,s.default)(64===c.length),(0,r.keccak)(c).slice(-20)},e.publicToAddress=e.pubToAddress,e.privateToPublic=function(c){return(0,a.assertIsBuffer)(c),Buffer.from((0,d.publicKeyCreate)(c,!1)).slice(1)},e.privateToAddress=function(c){return(0,e.publicToAddress)((0,e.privateToPublic)(c))},e.importPublic=function(c){return(0,a.assertIsBuffer)(c),64!==c.length&&(c=Buffer.from((0,d.publicKeyConvert)(c,!1).slice(1))),c},e.zeroAddress=function(){var t=(0,u.zeros)(20);return(0,u.bufferToHex)(t)},e.isZeroAddress=function(c){try{(0,a.assertIsString)(c)}catch{return!1}return(0,e.zeroAddress)()===c}},12840:function(V,e,l){"use strict";var b=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.Address=void 0;var B=b(l(33114)),s=l(84504),v=l(47897),d=l(14246),f=function(){function i(u){(0,B.default)(20===u.length,"Invalid address length"),this.buf=u}return i.zero=function(){return new i((0,v.zeros)(20))},i.fromString=function(u){return(0,B.default)((0,d.isValidAddress)(u),"Invalid address"),new i((0,v.toBuffer)(u))},i.fromPublicKey=function(u){return(0,B.default)(Buffer.isBuffer(u),"Public key should be Buffer"),new i((0,d.pubToAddress)(u))},i.fromPrivateKey=function(u){return(0,B.default)(Buffer.isBuffer(u),"Private key should be Buffer"),new i((0,d.privateToAddress)(u))},i.generate=function(u,r){return(0,B.default)(s.BN.isBN(r)),new i((0,d.generateAddress)(u.buf,r.toArrayLike(Buffer)))},i.generate2=function(u,r,a){return(0,B.default)(Buffer.isBuffer(r)),(0,B.default)(Buffer.isBuffer(a)),new i((0,d.generateAddress2)(u.buf,r,a))},i.prototype.equals=function(u){return this.buf.equals(u.buf)},i.prototype.isZero=function(){return this.equals(i.zero())},i.prototype.isPrecompileOrSystemAddress=function(){var u=new s.BN(this.buf),r=new s.BN(0),a=new s.BN("ffff","hex");return u.gte(r)&&u.lte(a)},i.prototype.toString=function(){return"0x"+this.buf.toString("hex")},i.prototype.toBuffer=function(){return Buffer.from(this.buf)},i}();e.Address=f},47897:function(V,e,l){"use strict";var b=this&&this.__values||function(t){var m="function"==typeof Symbol&&Symbol.iterator,O=m&&t[m],N=0;if(O)return O.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&N>=t.length&&(t=void 0),{value:t&&t[N++],done:!t}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")},B=this&&this.__read||function(t,m){var O="function"==typeof Symbol&&t[Symbol.iterator];if(!O)return t;var H,k,N=O.call(t),x=[];try{for(;(void 0===m||m-- >0)&&!(H=N.next()).done;)x.push(H.value)}catch(F){k={error:F}}finally{try{H&&!H.done&&(O=N.return)&&O.call(N)}finally{if(k)throw k.error}}return x};Object.defineProperty(e,"__esModule",{value:!0}),e.bufArrToArr=e.arrToBufArr=e.validateNoLeadingZeroes=e.baToJSON=e.toUtf8=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToHex=e.bufferToInt=e.toBuffer=e.unpadHexString=e.unpadArray=e.unpadBuffer=e.setLengthRight=e.setLengthLeft=e.zeros=e.intToBuffer=e.intToHex=void 0;var s=l(84504),v=l(67879),d=l(60176);e.intToHex=function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("Received an invalid integer type: ".concat(t));return"0x".concat(t.toString(16))},e.intToBuffer=function(t){var m=(0,e.intToHex)(t);return Buffer.from((0,v.padToEven)(m.slice(2)),"hex")},e.zeros=function(t){return Buffer.allocUnsafe(t).fill(0)};var r=function(t,m,O){var N=(0,e.zeros)(m);return O?t.length<m?(t.copy(N),N):t.slice(0,m):t.length<m?(t.copy(N,m-t.length),N):t.slice(-m)};e.setLengthLeft=function(t,m){return(0,d.assertIsBuffer)(t),r(t,m,!1)},e.setLengthRight=function(t,m){return(0,d.assertIsBuffer)(t),r(t,m,!0)};var h=function(t){for(var m=t[0];t.length>0&&"0"===m.toString();)m=(t=t.slice(1))[0];return t};e.unpadBuffer=function(t){return(0,d.assertIsBuffer)(t),h(t)},e.unpadArray=function(t){return(0,d.assertIsArray)(t),h(t)},e.unpadHexString=function(t){return(0,d.assertIsHexString)(t),t=(0,v.stripHexPrefix)(t),h(t)},e.toBuffer=function(t){if(null==t)return Buffer.allocUnsafe(0);if(Buffer.isBuffer(t)||Array.isArray(t)||t instanceof Uint8Array)return Buffer.from(t);if("string"==typeof t){if(!(0,v.isHexString)(t))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ".concat(t));return Buffer.from((0,v.padToEven)((0,v.stripHexPrefix)(t)),"hex")}if("number"==typeof t)return(0,e.intToBuffer)(t);if(s.BN.isBN(t)){if(t.isNeg())throw new Error("Cannot convert negative BN to buffer. Given: ".concat(t));return t.toArrayLike(Buffer)}if(t.toArray)return Buffer.from(t.toArray());if(t.toBuffer)return Buffer.from(t.toBuffer());throw new Error("invalid type")},e.bufferToInt=function(t){return new s.BN((0,e.toBuffer)(t)).toNumber()},e.bufferToHex=function(t){return"0x"+(t=(0,e.toBuffer)(t)).toString("hex")},e.fromSigned=function(t){return new s.BN(t).fromTwos(256)},e.toUnsigned=function(t){return Buffer.from(t.toTwos(256).toArray())},e.addHexPrefix=function(t){return"string"!=typeof t||(0,v.isHexPrefixed)(t)?t:"0x"+t},e.toUtf8=function(t){if((t=(0,v.stripHexPrefix)(t)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return Buffer.from(t.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")},e.baToJSON=function(t){if(Buffer.isBuffer(t))return"0x".concat(t.toString("hex"));if(t instanceof Array){for(var m=[],O=0;O<t.length;O++)m.push((0,e.baToJSON)(t[O]));return m}},e.validateNoLeadingZeroes=function(t){var m,O;try{for(var N=b(Object.entries(t)),H=N.next();!H.done;H=N.next()){var x=B(H.value,2),F=x[1];if(void 0!==F&&F.length>0&&0===F[0])throw new Error("".concat(x[0]," cannot have leading zeroes, received: ").concat(F.toString("hex")))}}catch(Z){m={error:Z}}finally{try{H&&!H.done&&(O=N.return)&&O.call(N)}finally{if(m)throw m.error}}},e.arrToBufArr=function L(t){return Array.isArray(t)?t.map(function(m){return L(m)}):Buffer.from(t)},e.bufArrToArr=function c(t){return Array.isArray(t)?t.map(function(m){return c(m)}):Uint8Array.from(t??[])}},56810:(V,e,l)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.MAX_INTEGER=e.MAX_UINT64=void 0;var b=l(3875),B=l(84504);e.MAX_UINT64=new B.BN("ffffffffffffffff",16),e.MAX_INTEGER=new B.BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new B.BN("10000000000000000000000000000000000000000000000000000000000000000",16),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=b.Buffer.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=b.Buffer.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=b.Buffer.from(e.KECCAK256_RLP_S,"hex")},84504:function(V,e,l){"use strict";var b=this&&this.__createBinding||(Object.create?function(i,u,r,a){void 0===a&&(a=r);var n=Object.getOwnPropertyDescriptor(u,r);(!n||("get"in n?!u.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return u[r]}}),Object.defineProperty(i,a,n)}:function(i,u,r,a){void 0===a&&(a=r),i[a]=u[r]}),B=this&&this.__setModuleDefault||(Object.create?function(i,u){Object.defineProperty(i,"default",{enumerable:!0,value:u})}:function(i,u){i.default=u}),s=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var u={};if(null!=i)for(var r in i)"default"!==r&&Object.prototype.hasOwnProperty.call(i,r)&&b(u,i,r);return B(u,i),u},v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.rlp=e.BN=void 0;var d=v(l(62630));e.BN=d.default;var f=s(l(89153));e.rlp=f},24419:(V,e,l)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rlphash=e.ripemd160FromArray=e.ripemd160FromString=e.ripemd160=e.sha256FromArray=e.sha256FromString=e.sha256=e.keccakFromArray=e.keccakFromHexString=e.keccakFromString=e.keccak256=e.keccak=void 0;var b=l(55075),B=l(12506),s=l(84504),v=l(47897),d=l(60176);e.keccak=function(A,K){switch(void 0===K&&(K=256),(0,d.assertIsBuffer)(A),K){case 224:return(0,b.keccak224)(A);case 256:return(0,b.keccak256)(A);case 384:return(0,b.keccak384)(A);case 512:return(0,b.keccak512)(A);default:throw new Error("Invald algorithm: keccak".concat(K))}},e.keccak256=function(A){return(0,e.keccak)(A)},e.keccakFromString=function(A,K){void 0===K&&(K=256),(0,d.assertIsString)(A);var M=Buffer.from(A,"utf8");return(0,e.keccak)(M,K)},e.keccakFromHexString=function(A,K){return void 0===K&&(K=256),(0,d.assertIsHexString)(A),(0,e.keccak)((0,v.toBuffer)(A),K)},e.keccakFromArray=function(A,K){return void 0===K&&(K=256),(0,d.assertIsArray)(A),(0,e.keccak)((0,v.toBuffer)(A),K)};var n=function(A){return A=(0,v.toBuffer)(A),B("sha256").update(A).digest()};e.sha256=function(A){return(0,d.assertIsBuffer)(A),n(A)},e.sha256FromString=function(A){return(0,d.assertIsString)(A),n(A)},e.sha256FromArray=function(A){return(0,d.assertIsArray)(A),n(A)};var P=function(A,K){A=(0,v.toBuffer)(A);var M=B("rmd160").update(A).digest();return!0===K?(0,v.setLengthLeft)(M,32):M};e.ripemd160=function(A,K){return(0,d.assertIsBuffer)(A),P(A,K)},e.ripemd160FromString=function(A,K){return(0,d.assertIsString)(A),P(A,K)},e.ripemd160FromArray=function(A,K){return(0,d.assertIsArray)(A),P(A,K)},e.rlphash=function(A){return(0,e.keccak)(s.rlp.encode(A))}},60176:(V,e,l)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertIsString=e.assertIsArray=e.assertIsBuffer=e.assertIsHexString=void 0;var b=l(67879);e.assertIsHexString=function(f){if(!(0,b.isHexString)(f)){var i="This method only supports 0x-prefixed hex strings but input was: ".concat(f);throw new Error(i)}},e.assertIsBuffer=function(f){if(!Buffer.isBuffer(f)){var i="This method only supports Buffer but input was: ".concat(f);throw new Error(i)}},e.assertIsArray=function(f){if(!Array.isArray(f)){var i="This method only supports number arrays but input was: ".concat(f);throw new Error(i)}},e.assertIsString=function(f){if("string"!=typeof f){var i="This method only supports strings but input was: ".concat(f);throw new Error(i)}}},37359:function(V,e,l){"use strict";var b=this&&this.__createBinding||(Object.create?function(v,d,f,i){void 0===i&&(i=f);var u=Object.getOwnPropertyDescriptor(d,f);(!u||("get"in u?!d.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(v,i,u)}:function(v,d,f,i){void 0===i&&(i=f),v[i]=d[f]}),B=this&&this.__exportStar||function(v,d){for(var f in v)"default"!==f&&!Object.prototype.hasOwnProperty.call(d,f)&&b(d,v,f)};Object.defineProperty(e,"__esModule",{value:!0}),e.isHexString=e.getKeys=e.fromAscii=e.fromUtf8=e.toAscii=e.arrayContainsArray=e.getBinarySize=e.padToEven=e.stripHexPrefix=e.isHexPrefixed=void 0,B(l(56810),e),B(l(14246),e),B(l(12840),e),B(l(24419),e),B(l(46960),e),B(l(47897),e),B(l(80468),e),B(l(84504),e),B(l(44018),e);var s=l(67879);Object.defineProperty(e,"isHexPrefixed",{enumerable:!0,get:function(){return s.isHexPrefixed}}),Object.defineProperty(e,"stripHexPrefix",{enumerable:!0,get:function(){return s.stripHexPrefix}}),Object.defineProperty(e,"padToEven",{enumerable:!0,get:function(){return s.padToEven}}),Object.defineProperty(e,"getBinarySize",{enumerable:!0,get:function(){return s.getBinarySize}}),Object.defineProperty(e,"arrayContainsArray",{enumerable:!0,get:function(){return s.arrayContainsArray}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return s.toAscii}}),Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return s.fromUtf8}}),Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return s.fromAscii}}),Object.defineProperty(e,"getKeys",{enumerable:!0,get:function(){return s.getKeys}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return s.isHexString}})},67879:(V,e)=>{"use strict";function l(a){if("string"!=typeof a)throw new Error("[isHexPrefixed] input must be type 'string', received type ".concat(typeof a));return"0"===a[0]&&"x"===a[1]}function B(a){var n=a;if("string"!=typeof n)throw new Error("[padToEven] value must be type 'string', received ".concat(typeof n));return n.length%2&&(n="0".concat(n)),n}Object.defineProperty(e,"__esModule",{value:!0}),e.isHexString=e.getKeys=e.fromAscii=e.fromUtf8=e.toAscii=e.arrayContainsArray=e.getBinarySize=e.padToEven=e.stripHexPrefix=e.isHexPrefixed=void 0,e.isHexPrefixed=l,e.stripHexPrefix=function(a){if("string"!=typeof a)throw new Error("[stripHexPrefix] input must be type 'string', received ".concat(typeof a));return l(a)?a.slice(2):a},e.padToEven=B,e.getBinarySize=function(a){if("string"!=typeof a)throw new Error("[getBinarySize] method requires input type 'string', recieved ".concat(typeof a));return Buffer.byteLength(a,"utf8")},e.arrayContainsArray=function(a,n,h){if(!0!==Array.isArray(a))throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '".concat(typeof a,"'"));if(!0!==Array.isArray(n))throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '".concat(typeof n,"'"));return n[h?"some":"every"](function(y){return a.indexOf(y)>=0})},e.toAscii=function(a){var n="",h=0,y=a.length;for("0x"===a.substring(0,2)&&(h=2);h<y;h+=2){var S=parseInt(a.substr(h,2),16);n+=String.fromCharCode(S)}return n},e.fromUtf8=function(a){var n=Buffer.from(a,"utf8");return"0x".concat(B(n.toString("hex")).replace(/^0+|0+$/g,""))},e.fromAscii=function(a){for(var n="",h=0;h<a.length;h++){var S=a.charCodeAt(h).toString(16);n+=S.length<2?"0".concat(S):S}return"0x".concat(n)},e.getKeys=function(a,n,h){if(!Array.isArray(a))throw new Error("[getKeys] method expects input 'params' to be an array, got ".concat(typeof a));if("string"!=typeof n)throw new Error("[getKeys] method expects input 'key' to be type 'string', got ".concat(typeof a));for(var y=[],S=0;S<a.length;S++){var P=a[S][n];if(h&&!P)P="";else if("string"!=typeof P)throw new Error("invalid abi - expected type 'string', received ".concat(typeof P));y.push(P)}return y},e.isHexString=function(a,n){return!("string"!=typeof a||!a.match(/^0x[0-9A-Fa-f]*$/)||n&&a.length!==2+2*n)}},80468:function(V,e,l){"use strict";var b=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.defineProperties=void 0;var B=b(l(33114)),s=l(67879),v=l(84504),d=l(47897);e.defineProperties=function(i,u,r){if(i.raw=[],i._fields=[],i.toJSON=function(n){if(void 0===n&&(n=!1),n){var h={};return i._fields.forEach(function(y){h[y]="0x".concat(i[y].toString("hex"))}),h}return(0,d.baToJSON)(i.raw)},i.serialize=function(){return v.rlp.encode(i.raw)},u.forEach(function(n,h){function y(){return i.raw[h]}function S(P){"00"===(P=(0,d.toBuffer)(P)).toString("hex")&&!n.allowZero&&(P=Buffer.allocUnsafe(0)),n.allowLess&&n.length?(P=(0,d.unpadBuffer)(P),(0,B.default)(n.length>=P.length,"The field ".concat(n.name," must not have more ").concat(n.length," bytes"))):!(n.allowZero&&0===P.length)&&n.length&&(0,B.default)(n.length===P.length,"The field ".concat(n.name," must have byte length of ").concat(n.length)),i.raw[h]=P}i._fields.push(n.name),Object.defineProperty(i,n.name,{enumerable:!0,configurable:!0,get:y,set:S}),n.default&&(i[n.name]=n.default),n.alias&&Object.defineProperty(i,n.alias,{enumerable:!1,configurable:!0,set:S,get:y})}),r)if("string"==typeof r&&(r=Buffer.from((0,s.stripHexPrefix)(r),"hex")),Buffer.isBuffer(r)&&(r=v.rlp.decode(r)),Array.isArray(r)){if(r.length>i._fields.length)throw new Error("wrong number of fields in data");r.forEach(function(n,h){i[i._fields[h]]=(0,d.toBuffer)(n)})}else{if("object"!=typeof r)throw new Error("invalid data");var a=Object.keys(r);u.forEach(function(n){-1!==a.indexOf(n.name)&&(i[n.name]=r[n.name]),-1!==a.indexOf(n.alias)&&(i[n.alias]=r[n.alias])})}}},46960:(V,e,l)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hashPersonalMessage=e.isValidSignature=e.fromRpcSig=e.toCompactSig=e.toRpcSig=e.ecrecover=e.ecsign=void 0;var b=l(10019),B=l(84504),s=l(47897),v=l(24419),d=l(60176),f=l(44018);function u(C,E){var T=(0,f.toType)(C,f.TypeOutput.BN);if(T.eqn(0)||T.eqn(1))return(0,f.toType)(C,f.TypeOutput.BN);if(!E)return T.subn(27);var R=(0,f.toType)(E,f.TypeOutput.BN);return T.sub(R.muln(2).addn(35))}function r(C){var E=new B.BN(C);return E.eqn(0)||E.eqn(1)}e.ecsign=function(C,E,T){var R=(0,b.ecdsaSign)(C,E),A=R.signature,K=R.recid,M=Buffer.from(A.slice(0,32)),g=Buffer.from(A.slice(32,64));if(!T||"number"==typeof T){if(T&&!Number.isSafeInteger(T))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");return{r:M,s:g,v:T?K+(2*T+35):K+27}}return{r:M,s:g,v:(0,f.toType)(T,f.TypeOutput.BN).muln(2).addn(35).addn(K).toArrayLike(Buffer)}},e.ecrecover=function(C,E,T,R,A){var K=Buffer.concat([(0,s.setLengthLeft)(T,32),(0,s.setLengthLeft)(R,32)],64),M=u(E,A);if(!r(M))throw new Error("Invalid signature v value");var g=(0,b.ecdsaRecover)(K,M.toNumber(),C);return Buffer.from((0,b.publicKeyConvert)(g,!1).slice(1))},e.toRpcSig=function(C,E,T,R){if(!r(u(C,R)))throw new Error("Invalid signature v value");return(0,s.bufferToHex)(Buffer.concat([(0,s.setLengthLeft)(E,32),(0,s.setLengthLeft)(T,32),(0,s.toBuffer)(C)]))},e.toCompactSig=function(C,E,T,R){if(!r(u(C,R)))throw new Error("Invalid signature v value");var K=(0,f.toType)(C,f.TypeOutput.Number),M=T;return(K>28&&K%2==1||1===K||28===K)&&((M=Buffer.from(T))[0]|=128),(0,s.bufferToHex)(Buffer.concat([(0,s.setLengthLeft)(E,32),(0,s.setLengthLeft)(M,32)]))},e.fromRpcSig=function(C){var T,R,A,E=(0,s.toBuffer)(C);if(E.length>=65)T=E.slice(0,32),R=E.slice(32,64),A=(0,s.bufferToInt)(E.slice(64));else{if(64!==E.length)throw new Error("Invalid signature length");T=E.slice(0,32),R=E.slice(32,64),A=(0,s.bufferToInt)(E.slice(32,33))>>7,R[0]&=127}return A<27&&(A+=27),{v:A,r:T,s:R}},e.isValidSignature=function(C,E,T,R,A){void 0===R&&(R=!0);var K=new B.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),M=new B.BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==E.length||32!==T.length||!r(u(C,A)))return!1;var g=new B.BN(E),p=new B.BN(T);return!(g.isZero()||g.gt(M)||p.isZero()||p.gt(M)||R&&1===p.cmp(K))},e.hashPersonalMessage=function(C){(0,d.assertIsBuffer)(C);var E=Buffer.from("\x19Ethereum Signed Message:\n".concat(C.length),"utf-8");return(0,v.keccak)(Buffer.concat([E,C]))}},44018:(V,e,l)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toType=e.TypeOutput=e.bnToRlp=e.bnToUnpaddedBuffer=e.bnToHex=void 0;var i,r,b=l(84504),B=l(67879),s=l(47897);function d(r){return(0,s.unpadBuffer)(r.toArrayLike(Buffer))}e.bnToHex=function(r){return"0x".concat(r.toString(16))},e.bnToUnpaddedBuffer=d,e.bnToRlp=function(r){return d(r)},(r=i=e.TypeOutput||(e.TypeOutput={}))[r.Number=0]="Number",r[r.BN=1]="BN",r[r.Buffer=2]="Buffer",r[r.PrefixedHexString=3]="PrefixedHexString",e.toType=function(r,a){if(null===r)return null;if(void 0!==r){if("string"==typeof r&&!(0,B.isHexString)(r))throw new Error("A string must be provided with a 0x-prefix, given: ".concat(r));if("number"==typeof r&&!Number.isSafeInteger(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var n=(0,s.toBuffer)(r);if(a===i.Buffer)return n;if(a===i.BN)return new b.BN(n);if(a===i.Number){var h=new b.BN(n),y=new b.BN(Number.MAX_SAFE_INTEGER.toString());if(h.gt(y))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return h.toNumber()}return"0x".concat(n.toString("hex"))}}},54099:(V,e,l)=>{V.exports=l(2945)(l(85302))},85302:(V,e,l)=>{const B=new(0,l(5247).ec)("secp256k1"),s=B.curve,v=s.n.constructor;function i(r){const a=r[0];switch(a){case 2:case 3:return 33!==r.length?null:function(r,a){let n=new v(a);if(n.cmp(s.p)>=0)return null;n=n.toRed(s.red);let h=n.redSqr().redIMul(n).redIAdd(s.b).redSqrt();return 3===r!==h.isOdd()&&(h=h.redNeg()),B.keyPair({pub:{x:n,y:h}})}(a,r.subarray(1,33));case 4:case 6:case 7:return 65!==r.length?null:function(r,a,n){let h=new v(a),y=new v(n);if(h.cmp(s.p)>=0||y.cmp(s.p)>=0||(h=h.toRed(s.red),y=y.toRed(s.red),(6===r||7===r)&&y.isOdd()!==(7===r)))return null;const S=h.redSqr().redIMul(h);return y.redSqr().redISub(S.redIAdd(s.b)).isZero()?B.keyPair({pub:{x:h,y}}):null}(a,r.subarray(1,33),r.subarray(33,65));default:return null}}function u(r,a){const n=a.encode(null,33===r.length);for(let h=0;h<r.length;++h)r[h]=n[h]}V.exports={contextRandomize:()=>0,privateKeyVerify(r){const a=new v(r);return a.cmp(s.n)<0&&!a.isZero()?0:1},privateKeyNegate(r){const a=new v(r),n=s.n.sub(a).umod(s.n).toArrayLike(Uint8Array,"be",32);return r.set(n),0},privateKeyTweakAdd(r,a){const n=new v(a);if(n.cmp(s.n)>=0||(n.iadd(new v(r)),n.cmp(s.n)>=0&&n.isub(s.n),n.isZero()))return 1;const h=n.toArrayLike(Uint8Array,"be",32);return r.set(h),0},privateKeyTweakMul(r,a){let n=new v(a);if(n.cmp(s.n)>=0||n.isZero())return 1;n.imul(new v(r)),n.cmp(s.n)>=0&&(n=n.umod(s.n));const h=n.toArrayLike(Uint8Array,"be",32);return r.set(h),0},publicKeyVerify:r=>null===i(r)?1:0,publicKeyCreate(r,a){const n=new v(a);return n.cmp(s.n)>=0||n.isZero()?1:(u(r,B.keyFromPrivate(a).getPublic()),0)},publicKeyConvert(r,a){const n=i(a);return null===n?1:(u(r,n.getPublic()),0)},publicKeyNegate(r,a){const n=i(a);if(null===n)return 1;const h=n.getPublic();return h.y=h.y.redNeg(),u(r,h),0},publicKeyCombine(r,a){const n=new Array(a.length);for(let y=0;y<a.length;++y)if(n[y]=i(a[y]),null===n[y])return 1;let h=n[0].getPublic();for(let y=1;y<n.length;++y)h=h.add(n[y].pub);return h.isInfinity()?2:(u(r,h),0)},publicKeyTweakAdd(r,a,n){const h=i(a);if(null===h)return 1;if((n=new v(n)).cmp(s.n)>=0)return 2;const y=h.getPublic().add(s.g.mul(n));return y.isInfinity()?2:(u(r,y),0)},publicKeyTweakMul(r,a,n){const h=i(a);return null===h?1:(n=new v(n)).cmp(s.n)>=0||n.isZero()?2:(u(r,h.getPublic().mul(n)),0)},signatureNormalize(r){const a=new v(r.subarray(0,32)),n=new v(r.subarray(32,64));return a.cmp(s.n)>=0||n.cmp(s.n)>=0?1:(1===n.cmp(B.nh)&&r.set(s.n.sub(n).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(r,a){const n=a.subarray(0,32),h=a.subarray(32,64);if(new v(n).cmp(s.n)>=0||new v(h).cmp(s.n)>=0)return 1;const{output:y}=r;let S=y.subarray(4,37);S[0]=0,S.set(n,1);let P=33,C=0;for(;P>1&&0===S[C]&&!(128&S[C+1]);--P,++C);if(S=S.subarray(C),128&S[0]||P>1&&0===S[0]&&!(128&S[1]))return 1;let E=y.subarray(39,72);E[0]=0,E.set(h,1);let T=33,R=0;for(;T>1&&0===E[R]&&!(128&E[R+1]);--T,++R);return E=E.subarray(R),128&E[0]||T>1&&0===E[0]&&!(128&E[1])?1:(r.outputlen=6+P+T,y[0]=48,y[1]=r.outputlen-2,y[2]=2,y[3]=S.length,y.set(S,4),y[4+P]=2,y[5+P]=E.length,y.set(E,6+P),0)},signatureImport(r,a){if(a.length<8||a.length>72||48!==a[0]||a[1]!==a.length-2||2!==a[2])return 1;const n=a[3];if(0===n||5+n>=a.length||2!==a[4+n])return 1;const h=a[5+n];if(0===h||6+n+h!==a.length||128&a[4]||n>1&&0===a[4]&&!(128&a[5])||128&a[n+6]||h>1&&0===a[n+6]&&!(128&a[n+7]))return 1;let y=a.subarray(4,4+n);if(33===y.length&&0===y[0]&&(y=y.subarray(1)),y.length>32)return 1;let S=a.subarray(6+n);if(33===S.length&&0===S[0]&&(S=S.slice(1)),S.length>32)throw new Error("S length is too long");let P=new v(y);P.cmp(s.n)>=0&&(P=new v(0));let C=new v(a.subarray(6+n));return C.cmp(s.n)>=0&&(C=new v(0)),r.set(P.toArrayLike(Uint8Array,"be",32),0),r.set(C.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(r,a,n,h,y){if(y){const C=y;y=E=>{const T=C(a,n,null,h,E);if(!(T instanceof Uint8Array&&32===T.length))throw new Error("This is the way");return new v(T)}}const S=new v(n);if(S.cmp(s.n)>=0||S.isZero())return 1;let P;try{P=B.sign(a,n,{canonical:!0,k:y,pers:h})}catch{return 1}return r.signature.set(P.r.toArrayLike(Uint8Array,"be",32),0),r.signature.set(P.s.toArrayLike(Uint8Array,"be",32),32),r.recid=P.recoveryParam,0},ecdsaVerify(r,a,n){const h={r:r.subarray(0,32),s:r.subarray(32,64)},y=new v(h.r),S=new v(h.s);if(y.cmp(s.n)>=0||S.cmp(s.n)>=0)return 1;if(1===S.cmp(B.nh)||y.isZero()||S.isZero())return 3;const P=i(n);if(null===P)return 2;const C=P.getPublic();return B.verify(a,h,C)?0:3},ecdsaRecover(r,a,n,h){const y={r:a.slice(0,32),s:a.slice(32,64)},S=new v(y.r),P=new v(y.s);if(S.cmp(s.n)>=0||P.cmp(s.n)>=0)return 1;if(S.isZero()||P.isZero())return 2;let C;try{C=B.recoverPubKey(h,y,n)}catch{return 2}return u(r,C),0},ecdh(r,a,n,h,y,S,P){const C=i(a);if(null===C)return 1;const E=new v(n);if(E.cmp(s.n)>=0||E.isZero())return 2;const T=C.getPublic().mul(E);if(void 0===y){const R=T.encode(null,!0),A=B.hash().update(R).digest();for(let K=0;K<32;++K)r[K]=A[K]}else{S||(S=new Uint8Array(32));const R=T.getX().toArray("be",32);for(let g=0;g<32;++g)S[g]=R[g];P||(P=new Uint8Array(32));const A=T.getY().toArray("be",32);for(let g=0;g<32;++g)P[g]=A[g];const K=y(S,P,h);if(!(K instanceof Uint8Array&&K.length===r.length))return 2;r.set(K)}return 0}}},2945:V=>{const e_IMPOSSIBLE_CASE="Impossible case. Please create issue.",e_TWEAK_ADD="The tweak was out of range or the resulted private key is invalid",e_TWEAK_MUL="The tweak was out of range or equal to zero",e_PUBKEY_PARSE="Public Key could not be parsed",e_PUBKEY_SERIALIZE="Public Key serialization error",e_SIG_PARSE="Signature could not be parsed";function l(d,f){if(!d)throw new Error(f)}function b(d,f,i){if(l(f instanceof Uint8Array,`Expected ${d} to be an Uint8Array`),void 0!==i)if(Array.isArray(i)){const r=`Expected ${d} to be an Uint8Array with length [${i.join(", ")}]`;l(i.includes(f.length),r)}else l(f.length===i,`Expected ${d} to be an Uint8Array with length ${i}`)}function B(d){l("Boolean"===v(d),"Expected compressed to be a Boolean")}function s(d=(i=>new Uint8Array(i)),f){return"function"==typeof d&&(d=d(f)),b("output",d,f),d}function v(d){return Object.prototype.toString.call(d).slice(8,-1)}V.exports=d=>({contextRandomize(f){if(1===(l(null===f||f instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==f&&b("seed",f,32),d.contextRandomize(f)))throw new Error("Unknow error on context randomization")},privateKeyVerify:f=>(b("private key",f,32),0===d.privateKeyVerify(f)),privateKeyNegate(f){switch(b("private key",f,32),d.privateKeyNegate(f)){case 0:return f;case 1:throw new Error(e_IMPOSSIBLE_CASE)}},privateKeyTweakAdd(f,i){switch(b("private key",f,32),b("tweak",i,32),d.privateKeyTweakAdd(f,i)){case 0:return f;case 1:throw new Error(e_TWEAK_ADD)}},privateKeyTweakMul(f,i){switch(b("private key",f,32),b("tweak",i,32),d.privateKeyTweakMul(f,i)){case 0:return f;case 1:throw new Error(e_TWEAK_MUL)}},publicKeyVerify:f=>(b("public key",f,[33,65]),0===d.publicKeyVerify(f)),publicKeyCreate(f,i=!0,u){switch(b("private key",f,32),B(i),u=s(u,i?33:65),d.publicKeyCreate(u,f)){case 0:return u;case 1:throw new Error("Private Key is invalid");case 2:throw new Error(e_PUBKEY_SERIALIZE)}},publicKeyConvert(f,i=!0,u){switch(b("public key",f,[33,65]),B(i),u=s(u,i?33:65),d.publicKeyConvert(u,f)){case 0:return u;case 1:throw new Error(e_PUBKEY_PARSE);case 2:throw new Error(e_PUBKEY_SERIALIZE)}},publicKeyNegate(f,i=!0,u){switch(b("public key",f,[33,65]),B(i),u=s(u,i?33:65),d.publicKeyNegate(u,f)){case 0:return u;case 1:throw new Error(e_PUBKEY_PARSE);case 2:throw new Error(e_IMPOSSIBLE_CASE);case 3:throw new Error(e_PUBKEY_SERIALIZE)}},publicKeyCombine(f,i=!0,u){l(Array.isArray(f),"Expected public keys to be an Array"),l(f.length>0,"Expected public keys array will have more than zero items");for(const r of f)b("public key",r,[33,65]);switch(B(i),u=s(u,i?33:65),d.publicKeyCombine(u,f)){case 0:return u;case 1:throw new Error(e_PUBKEY_PARSE);case 2:throw new Error("The sum of the public keys is not valid");case 3:throw new Error(e_PUBKEY_SERIALIZE)}},publicKeyTweakAdd(f,i,u=!0,r){switch(b("public key",f,[33,65]),b("tweak",i,32),B(u),r=s(r,u?33:65),d.publicKeyTweakAdd(r,f,i)){case 0:return r;case 1:throw new Error(e_PUBKEY_PARSE);case 2:throw new Error(e_TWEAK_ADD)}},publicKeyTweakMul(f,i,u=!0,r){switch(b("public key",f,[33,65]),b("tweak",i,32),B(u),r=s(r,u?33:65),d.publicKeyTweakMul(r,f,i)){case 0:return r;case 1:throw new Error(e_PUBKEY_PARSE);case 2:throw new Error(e_TWEAK_MUL)}},signatureNormalize(f){switch(b("signature",f,64),d.signatureNormalize(f)){case 0:return f;case 1:throw new Error(e_SIG_PARSE)}},signatureExport(f,i){b("signature",f,64);const u={output:i=s(i,72),outputlen:72};switch(d.signatureExport(u,f)){case 0:return i.slice(0,u.outputlen);case 1:throw new Error(e_SIG_PARSE);case 2:throw new Error(e_IMPOSSIBLE_CASE)}},signatureImport(f,i){switch(b("signature",f),i=s(i,64),d.signatureImport(i,f)){case 0:return i;case 1:throw new Error(e_SIG_PARSE);case 2:throw new Error(e_IMPOSSIBLE_CASE)}},ecdsaSign(f,i,u={},r){b("message",f,32),b("private key",i,32),l("Object"===v(u),"Expected options to be an Object"),void 0!==u.data&&b("options.data",u.data),void 0!==u.noncefn&&l("Function"===v(u.noncefn),"Expected options.noncefn to be a Function");const a={signature:r=s(r,64),recid:null};switch(d.ecdsaSign(a,f,i,u.data,u.noncefn)){case 0:return a;case 1:throw new Error("The nonce generation function failed, or the private key was invalid");case 2:throw new Error(e_IMPOSSIBLE_CASE)}},ecdsaVerify(f,i,u){switch(b("signature",f,64),b("message",i,32),b("public key",u,[33,65]),d.ecdsaVerify(f,i,u)){case 0:return!0;case 3:return!1;case 1:throw new Error(e_SIG_PARSE);case 2:throw new Error(e_PUBKEY_PARSE)}},ecdsaRecover(f,i,u,r=!0,a){switch(b("signature",f,64),l("Number"===v(i)&&i>=0&&i<=3,"Expected recovery id to be a Number within interval [0, 3]"),b("message",u,32),B(r),a=s(a,r?33:65),d.ecdsaRecover(a,f,i,u)){case 0:return a;case 1:throw new Error(e_SIG_PARSE);case 2:throw new Error("Public key could not be recover");case 3:throw new Error(e_IMPOSSIBLE_CASE)}},ecdh(f,i,u={},r){switch(b("public key",f,[33,65]),b("private key",i,32),l("Object"===v(u),"Expected options to be an Object"),void 0!==u.data&&b("options.data",u.data),void 0!==u.hashfn?(l("Function"===v(u.hashfn),"Expected options.hashfn to be a Function"),void 0!==u.xbuf&&b("options.xbuf",u.xbuf,32),void 0!==u.ybuf&&b("options.ybuf",u.ybuf,32),b("output",r)):r=s(r,32),d.ecdh(r,f,i,u.data,u.hashfn,u.xbuf,u.ybuf)){case 0:return r;case 1:throw new Error(e_PUBKEY_PARSE);case 2:throw new Error("Scalar was invalid (zero or overflow)")}}})}}]);